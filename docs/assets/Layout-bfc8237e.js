import{L as ye,P as we,A as be,V as Te,a as ke,b as Me,c as Se}from"./VMain-fcf4bb00.js";import{p as ne,m as Ve,g as oe,u as le,a as v,e as X,V as Ce,d as re,M as R,f as ie,s as E,h as p,i as Be,j as z,k as P,l as ue,C as Ee,n as $e,q as Ie,t as Ne,v as Pe,x as Le,y as He,z as Ae,A as Re,B as xe,D as Oe,E as Q,F as ee,G as Ye,H as se,I as De,J as _e,K as We,L as Xe,N as x,O as D,P as ze,Q as Fe,T as Ue,R as qe,S as Ze,U as je,o as L,c as H,w as S,W as O,X as Ge,Y as Je,Z as _,r as W,_ as Ke,b as Qe}from"./index-f320d07b.js";import{_ as ce}from"./index-d59e3ac5.js";import{u as et,V as ve,a as Y}from"./VToolbar-d997f552.js";import{m as tt,u as at,V as nt}from"./VApp-703f0be2.js";import"./MemberApi-fa80c5dd.js";import"./RouteSpan.vue_vue_type_script_setup_true_lang-ea62f21f.js";import"./Logo2-1754ce9b.js";/* empty css              */const ot=ne({...Ve({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),lt=oe()({name:"VAppBarNavIcon",props:ot(),setup(e,n){let{slots:u}=n;return le(()=>v(Ce,X(e,{class:["v-app-bar-nav-icon"]}),u)),{}}}),rt=re({name:"Navigation",computed:{MemberType(){return R}},props:{member:{type:Object,required:!0}},setup(){const{t:e}=ie();return{t:e}}});function it(e){let{rootEl:n,isSticky:u,layoutItemStyles:i}=e;const a=E(!1),t=E(0),d=p(()=>{const f=typeof a.value=="boolean"?"top":a.value;return[u.value?{top:"auto",bottom:"auto",height:void 0}:void 0,a.value?{[f]:Be(t.value)}:{top:i.value.top}]});z(()=>{P(u,f=>{f?window.addEventListener("scroll",b,{passive:!0}):window.removeEventListener("scroll",b)},{immediate:!0})}),ue(()=>{window.removeEventListener("scroll",b)});let y=0;function b(){const f=y>window.scrollY?"up":"down",l=n.value.getBoundingClientRect(),s=parseFloat(i.value.top??0),m=window.scrollY-Math.max(0,t.value-s),h=l.height+Math.max(t.value,s)-window.scrollY-window.innerHeight,k=parseFloat(getComputedStyle(n.value).getPropertyValue("--v-body-scroll-y"))||0;l.height<window.innerHeight-s?(a.value="top",t.value=s):f==="up"&&a.value==="bottom"||f==="down"&&a.value==="top"?(t.value=window.scrollY+l.top-k,a.value=!0):f==="down"&&h<=0?(t.value=0,a.value="bottom"):f==="up"&&m<=0&&(k?a.value!=="top"&&(t.value=-m+k+s,a.value="top"):(t.value=l.top+m,a.value="top")),y=window.scrollY}return{isStuck:a,stickyStyles:d}}const ut=100,st=20;function te(e){const n=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*n}function ae(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let n=0;for(let u=e.length-1;u>0;u--){if(e[u].t===e[u-1].t)continue;const i=te(n),a=(e[u].d-e[u-1].d)/(e[u].t-e[u-1].t);n+=(a-i)*Math.abs(a),u===e.length-1&&(n*=.5)}return te(n)*1e3}function ct(){const e={};function n(a){Array.from(a.changedTouches).forEach(t=>{(e[t.identifier]??(e[t.identifier]=new Ee(st))).push([a.timeStamp,t])})}function u(a){Array.from(a.changedTouches).forEach(t=>{delete e[t.identifier]})}function i(a){var f;const t=(f=e[a])==null?void 0:f.values().reverse();if(!t)throw new Error(`No samples for touch id ${a}`);const d=t[0],y=[],b=[];for(const l of t){if(d[0]-l[0]>ut)break;y.push({t:l[0],d:l[1].clientX}),b.push({t:l[0],d:l[1].clientY})}return{x:ae(y),y:ae(b),get direction(){const{x:l,y:s}=this,[m,h]=[Math.abs(l),Math.abs(s)];return m>h&&l>=0?"right":m>h&&l<=0?"left":h>m&&s>=0?"down":h>m&&s<=0?"up":vt()}}}return{addMovement:n,endTouch:u,getVelocity:i}}function vt(){throw new Error}function dt(e){let{isActive:n,isTemporary:u,width:i,touchless:a,position:t}=e;z(()=>{window.addEventListener("touchstart",$,{passive:!0}),window.addEventListener("touchmove",I,{passive:!1}),window.addEventListener("touchend",V,{passive:!0})}),ue(()=>{window.removeEventListener("touchstart",$),window.removeEventListener("touchmove",I),window.removeEventListener("touchend",V)});const d=p(()=>["left","right"].includes(t.value)),{addMovement:y,endTouch:b,getVelocity:f}=ct();let l=!1;const s=E(!1),m=E(0),h=E(0);let k;function w(r,o){return(t.value==="left"?r:t.value==="right"?document.documentElement.clientWidth-r:t.value==="top"?r:t.value==="bottom"?document.documentElement.clientHeight-r:B())-(o?i.value:0)}function A(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const c=t.value==="left"?(r-h.value)/i.value:t.value==="right"?(document.documentElement.clientWidth-r-h.value)/i.value:t.value==="top"?(r-h.value)/i.value:t.value==="bottom"?(document.documentElement.clientHeight-r-h.value)/i.value:B();return o?Math.max(0,Math.min(1,c)):c}function $(r){if(a.value)return;const o=r.changedTouches[0].clientX,c=r.changedTouches[0].clientY,g=25,M=t.value==="left"?o<g:t.value==="right"?o>document.documentElement.clientWidth-g:t.value==="top"?c<g:t.value==="bottom"?c>document.documentElement.clientHeight-g:B(),C=n.value&&(t.value==="left"?o<i.value:t.value==="right"?o>document.documentElement.clientWidth-i.value:t.value==="top"?c<i.value:t.value==="bottom"?c>document.documentElement.clientHeight-i.value:B());(M||C||n.value&&u.value)&&(l=!0,k=[o,c],h.value=w(d.value?o:c,n.value),m.value=A(d.value?o:c),b(r),y(r))}function I(r){const o=r.changedTouches[0].clientX,c=r.changedTouches[0].clientY;if(l){if(!r.cancelable){l=!1;return}const M=Math.abs(o-k[0]),C=Math.abs(c-k[1]);(d.value?M>C&&M>3:C>M&&C>3)?(s.value=!0,l=!1):(d.value?C:M)>3&&(l=!1)}if(!s.value)return;r.preventDefault(),y(r);const g=A(d.value?o:c,!1);m.value=Math.max(0,Math.min(1,g)),g>1?h.value=w(d.value?o:c,!0):g<0&&(h.value=w(d.value?o:c,!1))}function V(r){if(l=!1,!s.value)return;y(r),s.value=!1;const o=f(r.changedTouches[0].identifier),c=Math.abs(o.x),g=Math.abs(o.y);(d.value?c>g&&c>400:g>c&&g>3)?n.value=o.direction===({left:"right",right:"left",top:"down",bottom:"up"}[t.value]||B()):n.value=m.value>.5}const N=p(()=>s.value?{transform:t.value==="left"?`translateX(calc(-100% + ${m.value*i.value}px))`:t.value==="right"?`translateX(calc(100% - ${m.value*i.value}px))`:t.value==="top"?`translateY(calc(-100% + ${m.value*i.value}px))`:t.value==="bottom"?`translateY(calc(100% - ${m.value*i.value}px))`:B(),transition:"none"}:void 0);return{isDragging:s,dragProgress:m,dragStyles:N}}function B(){throw new Error}const mt=["start","end","left","right","top","bottom"],ft=ne({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>mt.includes(e)},sticky:Boolean,...$e(),...Ie(),...Ne(),...Pe(),...tt(),...Le(),...He({tag:"nav"}),...Ae()},"VNavigationDrawer"),de=oe()({name:"VNavigationDrawer",props:ft(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,n){let{attrs:u,emit:i,slots:a}=n;const{isRtl:t}=Re(),{themeClasses:d}=xe(e),{borderClasses:y}=Oe(e),{backgroundColorClasses:b,backgroundColorStyles:f}=Q(ee(e,"color")),{elevationClasses:l}=Ye(e),{displayClasses:s,mobile:m}=se(e),{roundedClasses:h}=De(e),k=_e(),w=We(e,"modelValue",null,T=>!!T),{ssrBootStyles:A}=et(),{scopeId:$}=Xe(),I=x(),V=E(!1),N=p(()=>e.rail&&e.expandOnHover&&V.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),r=p(()=>Ze(e.location,t.value)),o=p(()=>!e.permanent&&(m.value||e.temporary)),c=p(()=>e.sticky&&!o.value&&r.value!=="bottom");D(()=>e.expandOnHover&&e.rail!=null,()=>{P(V,T=>i("update:rail",!T))}),D(()=>!e.disableResizeWatcher,()=>{P(o,T=>!e.permanent&&je(()=>w.value=!T))}),D(()=>!e.disableRouteWatcher&&!!k,()=>{P(k.currentRoute,()=>o.value&&(w.value=!1))}),P(()=>e.permanent,T=>{T&&(w.value=!0)}),ze(()=>{e.modelValue!=null||o.value||(w.value=e.permanent||!m.value)});const{isDragging:g,dragProgress:M,dragStyles:C}=dt({isActive:w,isTemporary:o,width:N,touchless:ee(e,"touchless"),position:r}),F=p(()=>{const T=o.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):N.value;return g.value?T*M.value:T}),{layoutItemStyles:U,layoutItemScrimStyles:me}=at({id:e.name,order:p(()=>parseInt(e.order,10)),position:r,layoutSize:F,elementSize:N,active:p(()=>w.value||g.value),disableTransitions:p(()=>g.value),absolute:p(()=>e.absolute||c.value&&typeof q.value!="string")}),{isStuck:q,stickyStyles:fe}=it({rootEl:I,isSticky:c,layoutItemStyles:U}),Z=Q(p(()=>typeof e.scrim=="string"?e.scrim:null)),ge=p(()=>({...g.value?{opacity:M.value*.2,transition:"none"}:void 0,...me.value}));Fe({VList:{bgColor:"transparent"}});function he(){V.value=!0}function pe(){V.value=!1}return le(()=>{const T=a.image||e.image;return v(qe,null,[v(e.tag,X({ref:I,onMouseenter:he,onMouseleave:pe,class:["v-navigation-drawer",`v-navigation-drawer--${r.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":V.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":o.value,"v-navigation-drawer--active":w.value,"v-navigation-drawer--sticky":c.value},d.value,b.value,y.value,s.value,l.value,h.value,e.class],style:[f.value,U.value,C.value,A.value,fe.value,e.style]},$,u),{default:()=>{var j,G,J,K;return[T&&v("div",{key:"image",class:"v-navigation-drawer__img"},[a.image?(j=a.image)==null?void 0:j.call(a,{image:e.image}):v("img",{src:e.image,alt:""},null)]),a.prepend&&v("div",{class:"v-navigation-drawer__prepend"},[(G=a.prepend)==null?void 0:G.call(a)]),v("div",{class:"v-navigation-drawer__content"},[(J=a.default)==null?void 0:J.call(a)]),a.append&&v("div",{class:"v-navigation-drawer__append"},[(K=a.append)==null?void 0:K.call(a)])]}}),v(Ue,{name:"fade-transition"},{default:()=>[o.value&&(g.value||w.value)&&!!e.scrim&&v("div",X({class:["v-navigation-drawer__scrim",Z.backgroundColorClasses.value],style:[ge.value,Z.backgroundColorStyles.value],onClick:()=>w.value=!1},$),null)]})])}),{isStuck:q}}});function gt(e,n,u,i,a,t){var d;return((d=e.member)==null?void 0:d.currentType)===e.MemberType.COACH?(L(),H(de,{key:0,"expand-on-hover":"",rail:"",color:"secondary"},{default:S(()=>[v(ve,{density:"compact",nav:""},{default:S(()=>[v(Y,{"prepend-icon":"mdi-account-check",title:e.t("$vuetify.navigation.myClient"),to:"/clients"},null,8,["title"]),v(Y,{"prepend-icon":"mdi-weight-lifter",title:e.t("$vuetify.navigation.myExerciseTemplates"),to:"/exercise-templates"},null,8,["title"])]),_:1})]),_:1})):O("",!0)}const ht=ce(rt,[["render",gt]]),pt=re({computed:{MemberType(){return R}},components:{Logo:ye,ProfileMenu:we,AppBar:be,Navigation:ht},setup(){const e=x(Ge()),n=x(Je()),{mobile:u}=se(),i=x(!1),{t:a}=ie(),t=()=>{_.push("/member/signin")};return z(()=>{n.value?e.value.currentType==R.COACH?_.replace("/clients"):e.value.currentType==R.CLIENT&&_.replace("/coaches"):t()}),{signIn:t,isSignInMember:n,member:e,t:a,drawer:i,mobile:u}}});function yt(e,n,u,i,a,t){const d=W("logo"),y=W("profile-menu"),b=W("router-view");return L(),H(nt,{class:"pa-3"},{default:S(()=>{var f;return[e.isSignInMember&&((f=e.member)==null?void 0:f.currentType)===e.MemberType.COACH?(L(),H(de,{key:0,modelValue:e.drawer,"onUpdate:modelValue":n[0]||(n[0]=l=>e.drawer=l),color:"secondary"},{default:S(()=>[v(ve,{density:"compact",nav:""},{default:S(()=>[v(Y,{"prepend-icon":"mdi-account-check",title:e.t("$vuetify.navigation.myClient"),to:"/clients"},null,8,["title"]),v(Y,{"prepend-icon":"mdi-weight-lifter",title:e.t("$vuetify.navigation.myExerciseTemplates"),to:"/exercise-templates"},null,8,["title"])]),_:1})]),_:1},8,["modelValue"])):O("",!0),v(Me,{flat:""},{default:S(()=>{var l;return[((l=e.member)==null?void 0:l.currentType)===e.MemberType.COACH?(L(),H(lt,{key:0,variant:"text",onClick:n[1]||(n[1]=Ke(s=>e.drawer=!e.drawer,["stop"]))})):O("",!0),v(Te,{class:"pl-6"},{default:S(()=>[Qe("span",{style:{cursor:"pointer"},onClick:n[2]||(n[2]=s=>e.$router.replace("/"))},[v(d)])]),_:1}),v(ke,{class:"pr-6"},{default:S(()=>[e.isSignInMember?(L(),H(y,{key:0,member:e.member,"onUpdate:member":[n[3]||(n[3]=s=>e.member=s),n[4]||(n[4]=s=>e.member=s)]},null,8,["member"])):O("",!0)]),_:1})]}),_:1}),v(Se,null,{default:S(()=>[v(b)]),_:1})]}),_:1})}const Et=ce(pt,[["render",yt]]);export{Et as default};
