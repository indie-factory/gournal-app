import{P as E,a as M,T as F,b as D,S as L,j,k as q,d as U}from"./ProgramStatusCombobox-b7c7027e.js";import{S as A,E as H,P as W,V as z,a as G}from"./VTable-effef9c8.js";import{d as J,N as l,f as K,j as O,r as d,o as _,$ as I,a as o,w as u,b as a,a0 as g,R as B,a1 as Q,c as T,W as X,e as Y}from"./index-f320d07b.js";import{_ as Z,b as N,c as x,d as ee,e as te}from"./index-d59e3ac5.js";import{V as oe}from"./VPagination-d57b32b1.js";import"./VTextField-bdf6a346.js";import"./VToolbar-d997f552.js";/* empty css              */import"./NumberValidation-958a7be6.js";import"./VCheckboxBtn-a402a366.js";const ae=J({name:"RecentProgram",components:{ProgramStatusCombobox:E,MemberProfile:M,TruncateTextField:F,ProgramStatusField:D,SearchClientAutocomplete:L,SearchTextField:A,EditButton:H,PlusButton:W,ProgramModal:j},setup(){const e=l([]),r=l(U()),f=l(!1),h=l(),b=l(),i=l(""),c=l(),{t:P}=K(),m=l(!1),y=t=>{c.value!=(t==null?void 0:t.id)&&(c.value=t==null?void 0:t.id,n())},n=()=>{p()},p=(t=1,R)=>{var V;r.value.page=t-1,r.value.programName=((V=i.value)==null?void 0:V.trim())??void 0,r.value.clientId=c.value??void 0,r.value.statues=R??void 0,m.value=!0,q(r.value).then(v=>{var w,$;v.success&&(w=v.result)!=null&&w.content&&(e.value=($=v.result)==null?void 0:$.content,b.value=v.result)}).finally(()=>{m.value=!1})},s=t=>{p(1,t)},S=t=>{i.value!=t&&(i.value=t,n())},C=t=>{h.value=t.id,f.value=!0},k=()=>{h.value=void 0,f.value=!1,n()};return O(()=>{n()}),{openEditDialog:C,closeModal:k,request:r,programs:e,search:n,searchPage:p,pagination:b,keywordSearch:S,selectClient:y,keyword:i,dialog:f,dialogProgramId:h,selectProgramStatus:s,t:P,loading:m}}}),se={class:"pr-5"},le={class:"text-subtitle-1 font-weight-bold"},re={class:"text-subtitle-1 font-weight-bold"},ne={class:"text-subtitle-1 font-weight-bold"},ue=["onClick"],de={class:"text-body-1 text-muted"};function ie(e,r,f,h,b,i){const c=d("search-client-autocomplete"),P=d("program-status-combobox"),m=d("search-text-field"),y=d("program-status-field"),n=d("member-profile"),p=d("program-modal");return _(),I(B,null,[o(te,{loading:e.loading,elevation:"10",class:""},{default:u(()=>[o(N,{class:"pa-6"},{default:u(()=>[o(x,{class:"text-h5 pt-sm-2 pb-7"},{default:u(()=>[a("span",se,g(e.t("$vuetify.recentProgram.title")),1)]),_:1}),o(ee,null,{default:u(()=>[o(c,{onSelect:e.selectClient},null,8,["onSelect"]),o(P,{onSelect:e.selectProgramStatus},null,8,["onSelect"]),o(m,{label:e.t("$vuetify.common.programName"),keyword:e.keyword,onSearch:e.keywordSearch},null,8,["label","keyword","onSearch"])]),_:1}),o(z,null,{default:u(()=>[a("thead",null,[a("tr",null,[a("th",le,g(e.t("$vuetify.common.status")),1),a("th",re,g(e.t("$vuetify.recentProgram.clientProfile")),1),a("th",ne,g(e.t("$vuetify.common.name")),1)])]),a("tbody",null,[(_(!0),I(B,null,Q(e.programs,s=>(_(),T(G,{key:s.id},{default:u(({isHovering:S,props:C})=>[a("tr",Y({onClick:k=>e.openEditDialog(s)},C,{class:S?"clickable-hover":""}),[a("td",null,[o(y,{status:s.status},null,8,["status"])]),a("td",null,[o(n,{member:s.member},null,8,["member"])]),a("td",null,[a("h6",de,g(s.name),1)])],16,ue)]),_:2},1024))),128))])]),_:1})]),_:1}),o(N,null,{default:u(()=>{var s;return[o(oe,{length:(s=e.pagination)==null?void 0:s.totalPages,"total-visible":"5","onUpdate:modelValue":e.searchPage},null,8,["length","onUpdate:modelValue"])]}),_:1})]),_:1},8,["loading"]),e.dialogProgramId?(_(),T(p,{key:0,dialog:e.dialog,programId:e.dialogProgramId,onRefresh:e.search,onClose:e.closeModal},null,8,["dialog","programId","onRefresh","onClose"])):X("",!0)],64)}const ye=Z(ae,[["render",ie]]);export{ye as default};
