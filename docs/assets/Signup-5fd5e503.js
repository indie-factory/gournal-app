import{d as T,M as C,N as n,f as $,Z as R,r as f,o as b,c,w as l,a as s,_ as k,W as S,V as N,a3 as q,a0 as E,b as h}from"./index-f320d07b.js";import{a as I,b as U}from"./MemberApi-fa80c5dd.js";import{_ as P}from"./RouteSpan.vue_vue_type_script_setup_true_lang-ea62f21f.js";import{e as B,p as L,n as j,V as A,a as m}from"./VTextField-bdf6a346.js";import{L as F}from"./Logo2-1754ce9b.js";import{_ as z,e as D,b as H,V as g,a as r}from"./index-d59e3ac5.js";import{V}from"./VCheckbox-70418c38.js";/* empty css              */import"./VCheckboxBtn-a402a366.js";const O=T({name:"Signup",components:{Logo2:F,RouteSpan:P},data:e=>({emailRules:B(e.t),passwordRules:L(e.t),nickNameRules:j(e.t),MemberType:C}),setup(){const e=n(U()),a=n([]),t=n(""),i=n(""),p=n(),{t:u}=$(),d=n(!1);return{onSelectMemberType:()=>{a.value.length>0?i.value="":i.value=u("$vuetify.signup.rules.memberTypeErrorMessage")},formRefs:p,request:e,onSignup:async()=>{const{valid:w}=await p.value.validate();if(w){if(e.value.password1!==e.value.password2){t.value=u("$vuetify.signup.rules.passwordErrorMessage");return}if(a.value.length===0){i.value=u("$vuetify.signup.rules.memberTypeErrorMessage");return}d.value=!0,e.value.types=a.value,I(e.value).then(M=>{M.success&&R.push({path:"/member/approve-email",query:{email:e.value.email}})}).finally(()=>{d.value=!1})}},selectedMemberTypes:a,inputPassword:()=>{e.value.password1===e.value.password2?t.value="":t.value=u("$vuetify.signup.rules.passwordErrorMessage")},passwordErrorMessage:t,memberTypeErrorMessage:i,t:u,loading:d}}}),W={class:"text-h6 text-muted font-weight-medium d-flex justify-center align-center mt-3"};function Z(e,a,t,i,p,u){const d=f("logo2"),y=f("error-message"),v=f("route-span");return b(),c(g,{class:"h-100vh d-flex justify-center align-center"},{default:l(()=>[s(r,{cols:"12",lg:"4",xl:"3",class:"d-flex align-center"},{default:l(()=>[s(D,{rounded:"md",elevation:"10",class:"px-sm-1 px-0 withbg mx-auto","max-width":"500",loading:e.loading},{default:l(()=>[s(H,{class:"pa-sm-8"},{default:l(()=>[s(d,{class:"text-body-1 text-muted text-center mb-3"}),s(A,{ref:"formRefs",onSubmit:a[6]||(a[6]=k(()=>{},["prevent"]))},{default:l(()=>[s(g,{class:"d-flex mb-3"},{default:l(()=>[s(r,{cols:"12"},{default:l(()=>[s(m,{variant:"outlined",type:"email",color:"secondary",label:e.t("$vuetify.common.email"),rules:e.emailRules,modelValue:e.request.email,"onUpdate:modelValue":a[0]||(a[0]=o=>e.request.email=o)},null,8,["label","rules","modelValue"])]),_:1}),s(r,{cols:"12"},{default:l(()=>[s(m,{variant:"outlined",color:"secondary",label:e.t("$vuetify.signup.nickName"),rules:e.nickNameRules,modelValue:e.request.nickName,"onUpdate:modelValue":a[1]||(a[1]=o=>e.request.nickName=o)},null,8,["label","rules","modelValue"])]),_:1}),s(r,{cols:"12"},{default:l(()=>[s(m,{variant:"outlined",type:"password",color:"secondary",label:e.t("$vuetify.signup.password"),onInput:e.inputPassword,rules:e.passwordRules,modelValue:e.request.password1,"onUpdate:modelValue":a[2]||(a[2]=o=>e.request.password1=o)},null,8,["label","onInput","rules","modelValue"])]),_:1}),s(r,{cols:"12"},{default:l(()=>[s(m,{variant:"outlined",type:"password",color:"secondary",label:e.t("$vuetify.signup.confirmPassword"),onInput:e.inputPassword,rules:e.passwordRules,"error-messages":e.passwordErrorMessage,modelValue:e.request.password2,"onUpdate:modelValue":a[3]||(a[3]=o=>e.request.password2=o)},null,8,["label","onInput","rules","error-messages","modelValue"])]),_:1}),s(r,{cols:"12"},{default:l(()=>[s(g,null,{default:l(()=>[s(r,{cols:"5"},{default:l(()=>[s(V,{label:e.t("$vuetify.signup.coach"),modelValue:e.selectedMemberTypes,"onUpdate:modelValue":a[4]||(a[4]=o=>e.selectedMemberTypes=o),value:e.MemberType.COACH,onChange:e.onSelectMemberType,color:"secondary"},null,8,["label","modelValue","value","onChange"])]),_:1}),s(r,{cols:"5"},{default:l(()=>[s(V,{label:e.t("$vuetify.signup.client"),modelValue:e.selectedMemberTypes,"onUpdate:modelValue":a[5]||(a[5]=o=>e.selectedMemberTypes=o),value:e.MemberType.CLIENT,onChange:e.onSelectMemberType,color:"secondary"},null,8,["label","modelValue","value","onChange"])]),_:1})]),_:1}),e.memberTypeErrorMessage?(b(),c(y,{key:0,class:"pl-3 pb-3","error-message":e.memberTypeErrorMessage},null,8,["error-message"])):S("",!0)]),_:1}),s(r,{cols:"12"},{default:l(()=>[s(N,{type:"submit",loading:e.loading,color:"secondary",size:"large",onClick:e.onSignup,block:"",flat:""},{default:l(()=>[q(E(e.t("$vuetify.signup.signup")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},512),h("h6",W,[s(v,{to:"/member/signin",text:e.t("$vuetify.signup.haveAccount")},null,8,["text"])])]),_:1})]),_:1},8,["loading"])]),_:1})]),_:1})}const se=z(O,[["render",Z]]);export{se as default};
