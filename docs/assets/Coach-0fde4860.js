import{M as q,P as U,a as A,T as H,b as Q,S as W,j as Z,o as x,c as z,p as G,d as J}from"./ProgramStatusCombobox-b7c7027e.js";import{S as K,E as O,P as X,d as T,V as Y,a as ee}from"./VTable-effef9c8.js";import{d as te,Z as B,N as u,f as ae,j as oe,r as y,o as m,$ as I,a as t,w as a,c as b,a3 as P,a0 as i,b as s,W as V,R as E,a1 as le,e as se}from"./index-f320d07b.js";import{P as re}from"./PrepareProgramModal-d7298486.js";import{C as ne}from"./ClientProgramModal-401742cd.js";import{_ as ie,a as k,c as R,V as S,g as ue,e as F,b as D}from"./index-d59e3ac5.js";import{V as de}from"./VPagination-d57b32b1.js";import"./VTextField-bdf6a346.js";import"./VToolbar-d997f552.js";/* empty css              */import"./NumberValidation-958a7be6.js";import"./VCheckboxBtn-a402a366.js";const ce=te({name:"Coach",data:()=>({MembershipStatus:q}),components:{ClientProgramModal:ne,ProgramStatusCombobox:U,MemberProfile:A,TruncateTextField:H,ProgramStatusField:Q,PrepareProgramModal:re,SearchClientAutocomplete:W,SearchTextField:K,EditButton:O,PlusButton:X,ProgramModal:Z},setup(){const e=B.currentRoute.value.params.id;e||B.replace("/coaches");const p=Number(e),v=u(),_=u([]),d=u(J()),C=u(),c=u(),f=u(!1),h=u(),{t:o}=ae(),l=u(!1),r=(n=1)=>{var $;d.value.page=n-1,d.value.programName=(($=c.value)==null?void 0:$.trim())??void 0,d.value.coachId=p,d.value.statues=[z.REQUEST],l.value=!0,G(d.value).then(g=>{var M,N;g.success&&(M=g.result)!=null&&M.content&&(_.value=(N=g.result)==null?void 0:N.content,C.value=g.result)}).finally(()=>{l.value=!1})},w=n=>{c.value!=n&&(c.value=n,r())},L=n=>{h.value=n.id,f.value=!0},j=()=>{f.value=!1,h.value=void 0,r()};return oe(()=>{l.value=!0,x(p).then(n=>{n.success&&(v.value=n.result,r())}).finally(()=>{l.value=!1})}),{openDialog:L,closeModal:j,request:d,programs:_,searchPage:r,dialog:f,selectedProgramId:h,pagination:C,keywordSearch:w,keyword:c,membership:v,t:o,loading:l}}}),me={class:"pr-3"},pe={class:"text-subtitle-1 font-weight-bold"},fe={class:"text-subtitle-1 font-weight-bold"},he={class:"text-subtitle-1 font-weight-bold"},ge=["onClick"],be={class:"text-subtitle-1 font-weight-bold"},ve={class:"text-body-1 text-muted"};function _e(e,p,v,_,d,C){const c=y("search-text-field"),f=y("truncate-text-field"),h=y("client-program-modal");return m(),I(E,null,[t(S,null,{default:a(()=>[t(k,{cols:"12"},{default:a(()=>{var o;return[(o=e.membership)!=null&&o.member?(m(),b(F,{key:0,loading:e.loading,elevation:"10",class:"pa-6"},{default:a(()=>[t(R,{class:"mb-3"},{default:a(()=>[t(S,null,{default:a(()=>{var l;return[t(T,{color:"coach"},{default:a(()=>{var r;return[P(i((r=e.membership)==null?void 0:r.membershipStatus),1)]}),_:1}),s("h4",null,i((l=e.membership)==null?void 0:l.member.nickName),1)]}),_:1})]),_:1}),t(ue,null,{default:a(()=>{var l,r;return[P(i((r=(l=e.membership)==null?void 0:l.member)==null?void 0:r.email),1)]}),_:1})]),_:1},8,["loading"])):V("",!0)]}),_:1}),t(k,{cols:"12"},{default:a(()=>[t(F,{loading:e.loading,elevation:"10",class:"pa-6"},{default:a(()=>[t(D,null,{default:a(()=>[t(R,{class:"text-h5 pt-sm-2 pb-7"},{default:a(()=>[s("span",me,i(e.t("$vuetify.common.programs")),1)]),_:1}),t(S,null,{default:a(()=>[t(k,{cols:"6"},{default:a(()=>[t(c,{label:e.t("$vuetify.common.programName"),keyword:e.keyword,onSearch:e.keywordSearch},null,8,["label","keyword","onSearch"])]),_:1})]),_:1}),t(Y,null,{default:a(()=>[s("thead",null,[s("tr",null,[s("th",pe,i(e.t("$vuetify.common.name")),1),s("th",fe,i(e.t("$vuetify.common.status")),1),s("th",he,i(e.t("$vuetify.common.description")),1)])]),s("tbody",null,[(m(!0),I(E,null,le(e.programs,o=>(m(),b(ee,{key:o.id},{default:a(({isHovering:l,props:r})=>[s("tr",se({onClick:w=>e.openDialog(o)},r,{class:l?"clickable-hover":""}),[s("td",null,[t(T,{color:"coach"},{default:a(()=>[P(i(o.status),1)]),_:2},1024)]),s("td",null,[s("h6",be,i(o.name),1)]),s("td",null,[s("h6",ve,[o.description?(m(),b(f,{key:0,text:o.description,length:30},null,8,["text"])):V("",!0)])])],16,ge)]),_:2},1024))),128))])]),_:1})]),_:1}),t(D,null,{default:a(()=>{var o;return[t(de,{length:(o=e.pagination)==null?void 0:o.totalPages,"total-visible":"5","onUpdate:modelValue":p[0]||(p[0]=l=>e.searchPage(1))},null,8,["length"])]}),_:1})]),_:1},8,["loading"])]),_:1})]),_:1}),e.selectedProgramId?(m(),b(h,{key:0,"program-id":e.selectedProgramId,dialog:e.dialog,onClose:e.closeModal},null,8,["program-id","dialog","onClose"])):V("",!0)],64)}const Ie=ie(ce,[["render",_e]]);export{Ie as default};
