import{i as q}from"./request-BDqhCdGj.js";import{C as A,x as N,d as V,y as z,z as E,f as H,g as J,b as O,s as w,A as Q,B as Y,t as x,q as R,v as $,k as B}from"./vuetify-BOVTD--x.js";import{d as K,a as y,Q as l,R as c,S as e,J as M,c as t,Y as U,V as f,_ as P,F as D,A as L}from"./@vue-BLzRPD-O.js";const W=(u,o)=>{const r=o?`&keyword=${o}`:"";return q.get(`/github/repositories?page=${u}${r}`)},X=(u,o,r)=>{const a=r?`&keyword=${r}`:"";return q.get(`/github/repositories/${u}/commits?page=${o}${a}`)},Z={class:"text-h5 text-medium-emphasis ps-2"},ee={key:0},te={key:1},le=K({__name:"GithubSelectDialog",emits:["select"],setup(u,{emit:o}){const r=o,a=y(null),d=y([]),m=y([]);let v=0,g=0,h=!1,_=!1;async function F(){return await W(v)}async function G(){return await X(a.value.name,g)}async function I({done:s}){if(h){s("empty");return}const n=await F();if(h=n.last,n.items.length===0){s("empty");return}v++,d.value.push(...n.items),s("ok")}async function S({done:s}){if(_){s("empty");return}const n=await G();if(_=n.last,n.items.length===0){s("empty");return}g++,m.value.push(...n.items),s("ok")}function T(s){r("select",a.value,s),p()}function p(){a.value=null,d.value=[],m.value=[],v=0,g=0,h=!1,_=!1}return(s,n)=>(l(),c(Y,{activator:"parent","max-width":"500","max-height":"500"},{default:e(({isActive:C})=>[M((l(),c(N,{rounded:"lg",color:"primary"},{default:e(()=>[t(z,{class:"d-flex justify-space-between align-center"},{default:e(()=>[t(V,{icon:a.value!=null?"mdi-arrow-left":"",disabled:a.value==null,variant:"text",onClick:p},null,8,["icon","disabled"]),U("div",Z,[a.value==null?(l(),f("span",ee,"Repositories")):(l(),f("span",te,"Commits"))]),t(V,{icon:"mdi-close",variant:"text",onClick:i=>{C.value=!1,p()}},null,8,["onClick"])]),_:2},1024),t(E,{class:"mb-4"}),t(Q,null,{default:e(()=>[t(H,{class:"d-flex align-center justify-center"},{default:e(()=>[t(J,null,{default:e(()=>[t(O,{"append-inner-icon":"mdi-github",clearable:"",density:"comfortable","hide-details":"",variant:"solo"}),a.value==null?(l(),c(w,{key:0,height:"350",items:d.value,onLoad:I,class:"align-center w-100 pt-3"},{default:e(()=>[(l(!0),f(D,null,P(d.value,i=>(l(),c(x,{key:i.id},{default:e(({isHovering:b,props:k})=>[t(R,L({title:i.name,subtitle:i.description,onClick:j=>a.value=i,active:"","base-color":"info",color:b?"secondary":void 0},k,{class:"mb-2 pt-3 pb-3 rounded cursor-pointer align-end w-100"}),{prepend:e(()=>[t($,{color:"info",variant:"text"},{default:e(()=>[t(B,{icon:"mdi-github"})]),_:1})]),_:2},1040,["title","subtitle","onClick","color"])]),_:2},1024))),128))]),_:1},8,["items"])):(l(),c(w,{key:1,height:"350",items:m.value,onLoad:S,class:"align-center w-100 pt-3"},{default:e(()=>[(l(!0),f(D,null,P(m.value,i=>(l(),c(x,{key:i.sha},{default:e(({isHovering:b,props:k})=>[t(R,L({title:i.message,subtitle:i.author,onClick:j=>{T(i),C.value=!1},active:"","base-color":"info",color:b?"secondary":void 0},k,{class:"mb-2 pt-3 pb-3 rounded cursor-pointer align-end w-100"}),{prepend:e(()=>[t($,{color:"info",variant:"text"},{default:e(()=>[t(B,{icon:"mdi-github"})]),_:1})]),_:2},1040,["title","subtitle","onClick","color"])]),_:2},1024))),128))]),_:2},1032,["items"]))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[A,p()]])]),_:1}))}});export{le as _};
