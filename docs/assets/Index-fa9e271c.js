import{P as x,a as F,T as L,b as U,S as W,c as A,p as j,d as z,M as w,e as H,g as J}from"./ProgramStatusCombobox-b7c7027e.js";import{M as O}from"./MembershipList-43fb631d.js";import{d as N,N as i,X as Q,f as B,j as D,r as _,o as g,$ as I,a,w as l,b as n,a0 as v,R,a1 as X,c as C,e as Z,W as T,Z as G}from"./index-f320d07b.js";import{S as K,V as Y,a as ee}from"./VTable-effef9c8.js";import{C as te}from"./ClientProgramModal-401742cd.js";import{_ as q,b as S,c as ae,d as oe,e as se,V as E,a as V}from"./index-d59e3ac5.js";import{V as le}from"./VPagination-d57b32b1.js";import"./VTextField-bdf6a346.js";import"./VToolbar-d997f552.js";/* empty css              */import"./NumberValidation-958a7be6.js";import"./VCheckboxBtn-a402a366.js";import"./PrepareProgramModal-d7298486.js";import"./ExerciseTemplateModal-0ae598c6.js";const ne=N({name:"RecentMyProgram",components:{ClientProgramModal:te,ProgramStatusCombobox:x,MemberProfile:F,TruncateTextField:L,ProgramStatusField:U,SearchClientAutocomplete:W,SearchTextField:K},setup(){const e=i([]),o=i(z()),m=i(!1),u=i(),p=i(),d=i(),r=Q(),s=i(!1),{t:h}=B(),c=()=>{t()},t=(f=1)=>{var k;o.value.page=f-1,o.value.programName=((k=d.value)==null?void 0:k.trim())??void 0,o.value.clientId=r==null?void 0:r.id,o.value.statues=[A.REQUEST],s.value=!0,j(o.value).then(b=>{var M;b.success&&(M=b.result)!=null&&M.content&&(e.value=b.result.content,p.value=b.result)}).finally(()=>{s.value=!1})},P=f=>{d.value!==f&&(d.value=f,c())},y=f=>{u.value=f.id,m.value=!0},$=()=>{u.value=void 0,m.value=!1,c()};return D(()=>{c()}),{openWorkoutDialog:y,closeModal:$,request:o,programs:e,search:c,searchPage:t,pagination:p,keywordSearch:P,keyword:d,dialog:m,selectedProgramId:u,loading:s,t:h}}}),re={class:"pr-5"},ce={class:"text-subtitle-1 font-weight-bold"},ie={class:"text-subtitle-1 font-weight-bold"},ue={class:"text-subtitle-1 font-weight-bold"},de=["onClick"],me={class:"text-body-1 text-muted"};function pe(e,o,m,u,p,d){const r=_("search-text-field"),s=_("member-profile"),h=_("truncate-text-field"),c=_("client-program-modal");return g(),I(R,null,[a(se,{loading:e.loading,elevation:"10"},{default:l(()=>[a(S,{class:"pa-6"},{default:l(()=>[a(ae,{class:"text-h5 pt-sm-2 pb-7"},{default:l(()=>[n("span",re,v(e.t("$vuetify.recentMyProgram.title")),1)]),_:1}),a(oe,null,{default:l(()=>[a(r,{label:"Program Name",keyword:e.keyword,onSearch:e.keywordSearch},null,8,["keyword","onSearch"])]),_:1}),a(S,null,{default:l(()=>[a(Y,null,{default:l(()=>[n("thead",null,[n("tr",null,[n("th",ce,v(e.t("$vuetify.recentMyProgram.coachProfile")),1),n("th",ie,v(e.t("$vuetify.common.name")),1),n("th",ue,v(e.t("$vuetify.common.description")),1)])]),n("tbody",null,[(g(!0),I(R,null,X(e.programs,t=>(g(),C(ee,{key:t.id},{default:l(({isHovering:P,props:y})=>[n("tr",Z({onClick:$=>e.openWorkoutDialog(t)},y,{class:P?"clickable-hover":""}),[n("td",null,[a(s,{member:t.member},null,8,["member"])]),n("td",null,[n("h6",me,v(t.name),1)]),n("td",null,[t!=null&&t.description?(g(),C(h,{key:0,text:t==null?void 0:t.description,length:10},null,8,["text"])):T("",!0)])],16,de)]),_:2},1024))),128))])]),_:1})]),_:1})]),_:1}),a(S,null,{default:l(()=>{var t;return[a(le,{length:(t=e.pagination)==null?void 0:t.totalPages,"total-visible":"5","onUpdate:modelValue":e.searchPage},null,8,["length","onUpdate:modelValue"])]}),_:1})]),_:1},8,["loading"]),e.selectedProgramId?(g(),C(c,{key:0,"program-id":e.selectedProgramId,dialog:e.dialog,onClose:e.closeModal},null,8,["program-id","dialog","onClose"])):T("",!0)],64)}const he=q(ne,[["render",pe]]),fe=N({name:"Coaches",components:{RecentMyProgram:he,MembershipList:O},setup(){const e=i({}),o=i(J()),{t:m}=B(),u=(r,s)=>{o.value.keyword=(s==null?void 0:s.trim())??void 0,o.value.statues=[w.APPROVED,w.REJECTED],o.value.page=r,o.value.size=10,H(o.value).then(h=>{var c;h.success&&(c=h.result)!=null&&c.content&&(e.value=h.result)})},p=()=>{u(0)},d=r=>{const s=r.member.id;G.push({path:`/coaches/${s}`})};return D(()=>{p()}),{routeCoach:d,search:p,approvePageSearch:u,t:m,coaches:e}}});function ge(e,o,m,u,p,d){const r=_("recent-my-program"),s=_("membership-list");return g(),C(E,null,{default:l(()=>[a(V,{cols:"12"},{default:l(()=>[a(E,null,{default:l(()=>[a(V,{cols:"12"},{default:l(()=>[a(r)]),_:1}),a(V,{cols:"12"},{default:l(()=>[a(s,{memberships:e.coaches,onSearch:e.approvePageSearch,"onClick:item":e.routeCoach,"show-register-button":!1,title:e.t("$vuetify.clientIndex.title")},null,8,["memberships","onSearch","onClick:item","title"])]),_:1})]),_:1})]),_:1})]),_:1})}const Te=q(fe,[["render",ge]]);export{Te as default};
