import{S as Ds,F as W,a as Re,D as Is,N as Yn,b as Gu,M as Zn}from"./prosemirror-model-DfrscQcC.js";import{D as La,a as xa,E as Ma}from"./prosemirror-view-C8GFL5qc.js";import{R as mr,c as Ns,S as Xu,l as Ku}from"./prosemirror-transform-Cg2yShc_.js";import{P as Aa,E as Rs,T as zt,a as He,A as Bs,S as Wt,N as Qu,b as Yu}from"./prosemirror-state-QVoFbwxj.js";import{k as dr}from"./prosemirror-keymap-C5wSqEO9.js";import{b as mi,c as Zu,s as Sa,w as Ju,t as gr,e as Ps,j as ec,d as tc,a as rc,n as nc}from"./prosemirror-commands-DBoMJ0a0.js";import{I as Hs,i as _s,u as ac}from"./prosemirror-inputrules-COeJEC4j.js";import{h as qs,u as _r,r as $s,a as ic}from"./prosemirror-history-KEdM-JI1.js";var KZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}/**
 * @toast-ui/editor
 * @version 3.2.2 | Fri Feb 17 2023
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Jn=function(t,e){return Jn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Jn(t,e)};function A(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Jn(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var b=function(){return b=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},b.apply(this,arguments)};function Te(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function F(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function sc(t,e,r){var n;r=r||null;for(n in t)if(t.hasOwnProperty(n)&&e.call(r,t[n],n,t)===!1)break}var Bt=sc;function lc(t,e){var r=Object.prototype.hasOwnProperty,n,a,i,o;for(i=1,o=arguments.length;i<o;i+=1){n=arguments[i];for(a in n)r.call(n,a)&&(t[a]=n[a])}return t}var Oa=lc;function uc(t){return typeof t=="string"||t instanceof String}var Je=uc;function cc(t){return t instanceof Array}var Gt=cc;function vc(t,e,r){var n=0,a=t.length;for(r=r||null;n<a&&e.call(r,t[n],n,t)!==!1;n+=1);}var Pt=vc,fc=Gt,dc=Pt,pc=Bt;function hc(t,e,r){fc(t)?dc(t,e,r):pc(t,e,r)}var vn=hc,mc=Je,gc=vn;function yc(t,e,r){var n=t.style;if(mc(e)){n[e]=r;return}gc(e,function(a,i){n[i]=a})}var Ue=yc,bc=Gt;function wc(t,e,r){var n,a;if(r=r||0,!bc(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,r);for(a=e.length,n=r;r>=0&&n<a;n+=1)if(e[n]===t)return n;return-1}var mt=wc;function Cc(t){return t===void 0}var Be=Cc,Tc=Be;function kc(t){return!t||!t.className?"":Tc(t.className.baseVal)?t.className:t.className.baseVal}var Da=kc,Ec=Gt,Lc=Be;function xc(t,e){if(e=Ec(e)?e.join(" "):e,e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),Lc(t.className.baseVal)){t.className=e;return}t.className.baseVal=e}var Fs=xc,gi=vn,Mc=mt,Ac=Da,Sc=Fs;function Oc(t){var e=Array.prototype.slice.call(arguments,1),r=t.classList,n=[],a;if(r){gi(e,function(i){t.classList.add(i)});return}a=Ac(t),a&&(e=[].concat(a.split(/\s+/),e)),gi(e,function(i){Mc(i,n)<0&&n.push(i)}),Sc(t,n)}var $e=Oc,yi=Pt,Dc=mt,Ic=Da,Nc=Fs;function Rc(t){var e=Array.prototype.slice.call(arguments,1),r=t.classList,n,a;if(r){yi(e,function(i){r.remove(i)});return}n=Ic(t).split(/\s+/),a=[],yi(n,function(i){Dc(i,e)<0&&a.push(i)}),Nc(t,a)}var De=Rc;function Bc(t){return typeof t=="number"||t instanceof Number}var Xe=Bc;function Pc(t){return t===null}var Wr=Pc,Hc=Bt;function _c(t,e){var r=document.createElement("img"),n="";return Hc(e,function(a,i){n+="&"+i+"="+a}),n=n.substring(1),r.src=t+"?"+n,r.style.display="none",document.body.appendChild(r),document.body.removeChild(r),r}var qc=_c,$c=Be,Fc=qc,Uc=7*24*60*60*1e3;function Vc(t){var e=new Date().getTime();return e-t>Uc}function jc(t,e){var r="https://www.google-analytics.com/collect",n=location.hostname,a="event",i="use",o="TOAST UI "+t+" for "+n+": Statistics",s=window.localStorage.getItem(o);!$c(window.tui)&&window.tui.usageStatistics===!1||s&&!Vc(s)||(window.localStorage.setItem(o,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&Fc(r,{v:1,t:a,tid:e,cid:n,dp:n,dh:t,el:t,ec:i})},1e3))}var zc=jc,Wc=/[\u0020]+/g,Gc=/[>(){}[\]+-.!#|]/g,bi=/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/g,wi=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/g,Xc=/[*_~`]/g,Ci=/!\[.*\]\(.*\)/g,Kc=/[[\]]/g,Ti=/(?:^|[^\\])\\(?!\\)/g,Qc='[&<>"]',ki=new RegExp(Qc,"g");function Yc(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return t}}function Nt(t){return ki.test(t)?t.replace(ki,Yc):t}function Zc(){zc("editor","UA-129966929-1")}function de(t,e){return t.indexOf(e)!==-1}var Jc=["rel","target","hreflang","type"],ev={codeblock:/(^ {4}[^\n]+\n*)+/,thematicBreak:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,atxHeading:/^(#{1,6}) +[\s\S]+/,seTextheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,fencedCodeblock:/^((`|~){3,})/};function Us(t){if(!t)return null;var e={};return Jc.forEach(function(r){Be(t[r])||(e[r]=t[r])}),e}function Gr(t,e){for(var r="",n=0;n<e;n+=1)r+=t;return r}function tv(t){var e=!1;return Bt(ev,function(r){return r.test(t)&&(e=!0),!e}),e}function Xr(t){for(var e=[],r=Ci.exec(t);r;)e.push([r.index,r.index+r[0].length]),r=Ci.exec(t);return t.replace(Kc,function(n,a){var i=e.some(function(o){return a>o[0]&&a<o[1]});return i?n:"\\"+n})}function rv(t){var e=function(a){return"\\"+a},r=function(a){return a+"\\"},n=t.replace(Wc," ");return wi.test(n)&&(n=n.replace(wi,e)),Ti.test(n)&&(n=n.replace(Ti,r)),n=n.replace(Xc,e),bi.test(n)&&(n=n.replace(bi,e)),tv(n)&&(n=n.replace(Gc,e)),n}function nv(t){var e;return t.indexOf('"')===-1?e='""':e=t.indexOf("'")===-1?"''":"()",e[0]+t+e[1]}function ea(t){return Wr(t)||Be(t)}function Ia(t,e){if(t===null&&t===e)return!0;if(typeof t!="object"||typeof e!="object"||ea(t)||ea(e))return t===e;for(var r in t)if(t[r]!==e[r])return!1;for(var r in e)if(!(r in t))return!1;return!0}function ge(t){return t[t.length-1]}function av(t,e,r){return t>=e&&t<=r}function Na(t){return typeof t=="object"&&t!==null}function Kr(t,e){var r=b({},t);return t&&e&&Object.keys(e).forEach(function(n){Na(r[n])?Array.isArray(e[n])?r[n]=Ra(e[n]):r.hasOwnProperty(n)?r[n]=Kr(r[n],e[n]):r[n]=Ba(e[n]):r[n]=e[n]}),r}function Ra(t){return t.map(function(e){return Na(e)?Array.isArray(e)?Ra(e):Ba(e):e})}function Ba(t){var e=Object.keys(t);return e.length?e.reduce(function(r,n){return Na(t[n])?r[n]=Array.isArray(t[n])?Ra(t[n]):Ba(t[n]):r[n]=t[n],r},{}):t}function Pa(t,e){return e===void 0&&(e={}),Object.keys(e).forEach(function(r){t.hasOwnProperty(r)&&typeof t[r]=="object"?Array.isArray(e[r])?t[r]=e[r]:Pa(t[r],e[r]):t[r]=e[r]}),t}function Ei(t,e){return t>e?[e,t]:[t,e]}var iv=Pt;function ov(t){var e;try{e=Array.prototype.slice.call(t)}catch{e=[],iv(t,function(n){e.push(n)})}return e}var Ve=ov;function Qr(t,e){var r=t.nodes.paragraph;return e?r.create(null,Je(e)?t.text(e):e):r.createAndFill()}function fe(t,e,r){return t.text(e,r)}function K(t,e,r){r===void 0&&(r=e);var n=t.doc.content.size,a=n>0?n-1:1;return zt.create(t.doc,Math.min(e,a),Math.min(r,a))}function Ha(t,e,r){var n=e.pos;return t.replaceWith(n,n,Qr(r)),t.setSelection(K(t,n+1))}function Yr(t){for(var e=t.state,r=t.from,n=t.startIndex,a=t.endIndex,i=t.createText,o=e.tr,s=e.doc,l=e.schema,u=n;u<=a;u+=1){var c=s.child(u),v=c.nodeSize,f=c.textContent,d=c.content,p=i(f),h=p?fe(l,p):W.empty,m=o.mapping.map(r),y=m+d.size;o.replaceWith(m,y,h),r+=v}return o}function _a(t,e,r,n){var a=r.length;t.split(e).delete(e-a,e).insert(t.mapping.map(e),n).setSelection(K(t,t.mapping.map(e)-a))}function yr(t){return t.sourcepos[0][0]}function fn(t){return t.sourcepos[1][0]}function dn(t){return t.sourcepos[0][1]}function it(t){return t.sourcepos[1][1]}function sv(t){var e=t.type;return e==="htmlBlock"||e==="htmlInline"}function lv(t){var e=t.type;return e==="strike"||e==="strong"||e==="emph"||e==="code"||e==="link"||e==="image"}function uv(t){return t&&t.type==="codeBlock"}function gt(t){return t&&(t.type==="item"||t.type==="list")}function Vs(t){return gt(t)&&t.listData.type==="ordered"}function cv(t){return gt(t)&&t.listData.type!=="ordered"}function Li(t){return t&&(t.type==="tableCell"||t.type==="tableDelimCell")}function vv(t){switch(t.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function Ht(t,e,r){for(r===void 0&&(r=!0),t=r?t:t.parent;t&&t.type!=="document";){if(e(t))return t;t=t.parent}return null}function fv(t,e,r){for(r===void 0&&(r=!0),t=r?t:t.parent;t&&t.type!=="document";)e(t),t=t.parent}function le(t,e){return[t[0],t[1]+e]}function ot(t,e){return[t[0],e]}function dv(t){var e=t.firstChild.literal;switch(t.type){case"emph":return"*"+e+"*";case"strong":return"**"+e+"**";case"strike":return"~~"+e+"~~";case"code":return"`"+e+"`";case"link":case"image":var r=t,n=r.destination,a=r.title,i=t.type==="link"?"":"!";return i+"["+e+"]("+n+(a?' "'+a+'"':"")+")";default:return null}}function pv(t){switch(t.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}function hv(t){for(var e=[],r=t.walker(),n=null;n=r.next();){var a=n.node;a.type==="text"&&e.push(a.literal)}return e.join("")}var pr=[],js={},xi=/\$\$widget\d+\s/;function pn(t){var e=t.search(xi);if(e!==-1){var r=t.substring(e),n=r.replace(xi,"").replace("$$","");t=t.substring(0,e),t+=pn(n)}return t}function zs(t,e){return"$$"+t+" "+e+"$$"}function Ws(t,e){var r=js[t],n=r.rule,a=r.toDOM,i=pn(e).match(n);return i&&(e=i[0]),a(e)}function mv(){return pr}function gv(t){pr=t,pr.forEach(function(e,r){js["widget"+r]=e})}function Sn(t,e,r,n){return t.concat(ht(e,r,n))}function ht(t,e,r){r===void 0&&(r=0);var n=[],a=(pr[r]||{}).rule,i=r+1;if(t=pn(t),a&&a.test(t)){for(var o=void 0;(o=t.search(a))!==-1;){var s=t.substring(0,o);s&&(n=Sn(n,s,e,i)),t=t.substring(o);var l=t.match(a)[0],u="widget"+r;n.push(e.nodes.widget.create({info:u},e.text(zs(u,l)))),t=t.substring(l.length)}t&&(n=Sn(n,t,e,i))}else t&&(n=r<pr.length-1?Sn(n,t,e,i):[e.text(t)]);return n}function Gs(t){for(var e,r="",n=t.walker();e=n.next();){var a=e.node,i=e.entering;i&&(a!==t&&a.type!=="text"?(r+=dv(a),n.resumeAt(t,!1),n.next()):a.type==="text"&&(r+=a.literal))}return r}function Xs(){return{deleteSelection:function(){return tc},selectAll:function(){return rc},undo:function(){return _r},redo:function(){return $s}}}function yv(t){return new He({props:{decorations:function(e){var r=e.doc;if(t.text&&r.childCount===1&&r.firstChild.isTextblock&&r.firstChild.content.size===0){var n=document.createElement("span");return $e(n,"placeholder"),t.className&&$e(n,t.className),n.textContent=t.text,La.create(r,[xa.widget(1,n)])}return null}}})}var bv=mt,wv=Da;function Cv(t,e){var r;return t.classList?t.classList.contains(e):(r=wv(t).split(/\s+/),bv(e,r)>-1)}var Ks=Cv,Tv=mt,kv=Ve,Mr=Element.prototype,Ev=Mr.matches||Mr.webkitMatchesSelector||Mr.mozMatchesSelector||Mr.msMatchesSelector||function(t){var e=this.document||this.ownerDocument;return Tv(this,kv(e.querySelectorAll(t)))>-1};function Lv(t,e){return Ev.call(t,e)}var xv=Lv,Qs="[A-Za-z][A-Za-z0-9-]*",Mv="[a-zA-Z_:][a-zA-Z0-9:._-]*",Av="[^\"'=<>`\\x00-\\x20]+",Sv="'[^']*'",Ov='"[^"]*"',Dv="(?:"+Av+"|"+Sv+"|"+Ov+")",Iv="(?:\\s*=\\s*"+Dv+")",Ys="(?:\\s+"+Mv+Iv+"?)",Zs="<("+Qs+")("+Ys+")*\\s*/?>",Nv="</("+Qs+")\\s*[>]",Js="(?:"+Zs+"|"+Nv+")",_t=new RegExp("^"+Js,"i"),ta=/<br\s*\/*>/i,Rv=/<! ---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,el="</p><p>";function qa(t,e,r){var n=parseInt(t.left,10),a=parseInt(t.top,10),i=parseInt(t.width,10)+parseInt(t.paddingLeft,10)+parseInt(t.paddingRight,10),o=parseInt(t.height,10)+parseInt(t.paddingTop,10)+parseInt(t.paddingBottom,10);return e>=n&&e<=n+i&&r>=a&&r<=a+o}var tl="toastui-editor-";function O(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=[],n=0,a=t;n<a.length;n++){var i=a[n],o=void 0;Array.isArray(i)?o=i[0]?i[1]:null:o=i,o&&r.push(""+tl+o)}return r.join(" ")}function ae(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.map(function(r){return tl+"md-"+r}).join(" ")}function Bv(t){return(t==null?void 0:t.nodeType)===Node.TEXT_NODE}function hn(t){return t&&t.nodeType===Node.ELEMENT_NODE}function Pv(t,e){var r=Ve(t.querySelectorAll(e));return r.length?r:[]}function Hv(t,e){e=Gt(e)?Ve(e):[e],e.forEach(function(r){t.appendChild(r)})}function _v(t,e){e.parentNode&&e.parentNode.insertBefore(t,e)}function yt(t){t.parentNode&&t.parentNode.removeChild(t)}function qv(t){for(var e=[];t.firstChild;)e.push(t.firstChild),t.parentNode&&t.parentNode.insertBefore(t.firstChild,t);return yt(t),e}function $a(t,e,r){Be(r)&&(r=!Ks(t,e));var n=r?$e:De;n(t,e)}function rl(t,e){var r=document.createElement("div");Je(t)?r.innerHTML=t:r.appendChild(t);var n=r.firstChild;return e&&e.appendChild(n),n}function Fa(t){var e=window.getComputedStyle(t);return["margin-left","margin-right"].reduce(function(r,n){return r+parseInt(e.getPropertyValue(n),10)},0)+t.offsetWidth}function Fe(t,e){var r;for(Je(e)?r=function(n){return xv(n,e)}:r=function(n){return n===e};t&&t!==document;){if(hn(t)&&r(t))return t;t=t.parentNode}return null}function nl(t,e){for(var r=0,n=0;t&&t!==e;){var a=t.offsetTop,i=t.offsetLeft,o=t.offsetParent;if(r+=a,n+=i,o===e.offsetParent)break;t=t.offsetParent}return{offsetTop:r,offsetLeft:n}}function Ua(t,e){Object.keys(t).forEach(function(r){ea(t[r])?e.removeAttribute(r):e.setAttribute(r,t[r])})}function $v(t){var e=t.replace(/<p><br\s*\/*><\/p>/gi,"<p></p>"),r=new RegExp(Js,"ig"),n=e.match(r);return n==null||n.forEach(function(a,i){if(ta.test(a)){var o=el;if(i){var s=n[i-1],l=s.match(Zs);if(l&&!/br/i.test(l[1])){var u=l[1];o="</"+u+"><"+u+">"}}e=e.replace(ta,o)}}),e}function Va(t){var e=/<img class="ProseMirror-separator" alt="">/g,r=/ class="ProseMirror-trailingBreak"/g,n=t;return n=n.replace(e,""),n=n.replace(r,""),n}var al=new Aa("widget"),Mi=5,Fv=function(){function t(e,r){var n=this;this.popup=null,this.removeWidget=function(){n.popup&&(n.rootEl.removeChild(n.popup),n.popup=null)},this.rootEl=e.dom.parentElement,this.eventEmitter=r,this.eventEmitter.listen("blur",this.removeWidget),this.eventEmitter.listen("loadUI",function(){n.rootEl=Fe(e.dom.parentElement,"."+O("defaultUI"))}),this.eventEmitter.listen("removePopupWidget",this.removeWidget)}return t.prototype.update=function(e){var r=al.getState(e.state);if(this.removeWidget(),r){var n=r.node,a=r.style,i=e.coordsAtPos(r.pos),o=i.top,s=i.left,l=i.bottom,u=l-o,c=this.rootEl.getBoundingClientRect(),v=o-c.top;Ue(n,{opacity:"0"}),this.rootEl.appendChild(n),Ue(n,{position:"absolute",left:s-c.left+Mi+"px",top:(a==="bottom"?v+u-Mi:v-u)+"px",opacity:"1"}),this.popup=n,e.focus()}},t.prototype.destroy=function(){this.eventEmitter.removeEventHandler("blur",this.removeWidget)},t}();function Uv(t){return new He({key:al,state:{init:function(){return null},apply:function(e){return e.getMeta("widget")}},view:function(e){return new Fv(e,t)}})}function Vv(t){t.listen("addImageBlobHook",function(e,r){var n=new FileReader;n.onload=function(a){var i=a.target;return r(i.result)},n.readAsDataURL(e)})}function ja(t,e,r){var n=function(a,i){t.emit("command","addImage",{imageUrl:a,altText:i||e.name||"image"})};t.emit("addImageBlobHook",e,n,r)}function il(t){var e=Ve(t).filter(function(n){var a=n.type;return a.indexOf("image")!==-1});if(e.length===1){var r=e[0];if(r)return r.getAsFile()}return null}function jv(t){var e=t.eventEmitter;return new He({props:{handleDOMEvents:{drop:function(r,n){var a,i=(a=n.dataTransfer)===null||a===void 0?void 0:a.files;return i&&Pt(i,function(o){return o.type.indexOf("image")!==-1?(n.preventDefault(),n.stopPropagation(),ja(e,o,n.type),!1):!0}),!0}}}})}var G=function(){function t(){}return Object.defineProperty(t.prototype,"type",{get:function(){return"node"},enumerable:!1,configurable:!0}),t.prototype.setContext=function(e){this.context=e},t}();function ol(t){var e=document.createElement("span"),r=Ws(t.attrs.info,t.textContent);return e.className="tui-widget",e.appendChild(r),{dom:e}}function ra(t){return t.type.name==="widget"}var sl=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"widget"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{info:{default:null}},group:"inline",inline:!0,content:"text*",selectable:!1,atom:!0,toDOM:function(){return["span",{class:"tui-widget"},0]},parseDOM:[{tag:"span.tui-widget",getAttrs:function(r){var n=r.textContent,a=n.match(/\$\$(widget\d+)/),i=a[1];return{info:i}}}]}},enumerable:!1,configurable:!0}),e}(G),ll=function(){function t(e){this.timer=null,this.el=document.createElement("div"),this.el.className="toastui-editor",this.eventEmitter=e,this.placeholder={text:""}}return t.prototype.createState=function(){return Rs.create({schema:this.schema,plugins:this.createPlugins()})},t.prototype.initEvent=function(){var e=this,r=e.eventEmitter,n=e.view,a=e.editorType;n.dom.addEventListener("focus",function(){return r.emit("focus",a)}),n.dom.addEventListener("blur",function(){return r.emit("blur",a)})},t.prototype.emitChangeEvent=function(e){this.eventEmitter.emit("caretChange",this.editorType),e.docChanged&&this.eventEmitter.emit("change",this.editorType)},Object.defineProperty(t.prototype,"defaultPlugins",{get:function(){var e=this.createInputRules(),r=Te(Te([],this.keymaps),[dr(b({"Shift-Enter":mi.Enter},mi)),qs(),yv(this.placeholder),Uv(this.eventEmitter),jv(this.context)]);return e?r.concat(e):r},enumerable:!1,configurable:!0}),t.prototype.createInputRules=function(){var e=mv(),r=e.map(function(n){var a=n.rule;return new Hs(a,function(i,o,s,l){var u=i.schema,c=i.tr,v=i.doc,f=o.input.match(new RegExp(a,"g")),d=v.resolve(s),p=d.parent,h=0;if(ra(p)&&(p=d.node(d.depth-1)),p.forEach(function(w){return ra(w)&&(h+=1)}),f.length>h){var m=ge(f),y=ht(m,u);return c.replaceWith(l-m.length+1,l,y)}return null})});return r.length?_s({rules:r}):null},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.createSchema=function(){return new Ds({nodes:this.specs.nodes,marks:this.specs.marks})},t.prototype.createKeymaps=function(e){var r=Xs(),n=r.undo,a=r.redo,i=this.specs.keymaps(e),o={"Mod-z":n(),"Shift-Mod-z":a()};return e?i.concat(dr(o)):i},t.prototype.createCommands=function(){return this.specs.commands(this.view)},t.prototype.createPluginProps=function(){var e=this;return this.extraPlugins.map(function(r){return r(e.eventEmitter)})},t.prototype.focus=function(){var e=this;this.clearTimer(),this.timer=setTimeout(function(){e.view.focus(),e.view.dispatch(e.view.state.tr.scrollIntoView())})},t.prototype.blur=function(){this.view.dom.blur()},t.prototype.destroy=function(){var e=this;this.clearTimer(),this.view.destroy(),Object.keys(this).forEach(function(r){delete e[r]})},t.prototype.moveCursorToStart=function(e){var r=this.view.state.tr;this.view.dispatch(r.setSelection(K(r,1)).scrollIntoView()),e&&this.focus()},t.prototype.moveCursorToEnd=function(e){var r=this.view.state.tr;this.view.dispatch(r.setSelection(K(r,r.doc.content.size-1)).scrollIntoView()),e&&this.focus()},t.prototype.setScrollTop=function(e){this.view.dom.scrollTop=e},t.prototype.getScrollTop=function(){return this.view.dom.scrollTop},t.prototype.setPlaceholder=function(e){this.placeholder.text=e,this.view.dispatch(this.view.state.tr.scrollIntoView())},t.prototype.setHeight=function(e){Ue(this.el,{height:e+"px"})},t.prototype.setMinHeight=function(e){Ue(this.el,{minHeight:e+"px"})},t.prototype.getElement=function(){return this.el},t}();function zv(t){return t instanceof Function}var Me=zv,Wv=["Enter","Shift-Enter","Mod-Enter","Tab","Shift-Tab","Delete","Backspace","Mod-Delete","Mod-Backspace","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Mod-d","Mod-D","Alt-ArrowUp","Alt-ArrowDown"];function Ar(t,e,r){return t.focus(),e(r)(t.state,t.dispatch,t)}var ul=function(){function t(e){this.specs=e}return Object.defineProperty(t.prototype,"nodes",{get:function(){return this.specs.filter(function(e){return e.type==="node"}).reduce(function(e,r){var n,a=r.name,i=r.schema;return b(b({},e),(n={},n[a]=i,n))},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"marks",{get:function(){return this.specs.filter(function(e){return e.type==="mark"}).reduce(function(e,r){var n,a=r.name,i=r.schema;return b(b({},e),(n={},n[a]=i,n))},{})},enumerable:!1,configurable:!0}),t.prototype.commands=function(e,r){var n=this.specs.filter(function(i){var o=i.commands;return o}).reduce(function(i,o){var s={},l=o.commands();return Me(l)?s[o.name]=function(u){return Ar(e,l,u)}:Object.keys(l).forEach(function(u){s[u]=function(c){return Ar(e,l[u],c)}}),b(b({},i),s)},{}),a=Xs();return Object.keys(a).forEach(function(i){n[i]=function(o){return Ar(e,a[i],o)}}),r&&Object.keys(r).forEach(function(i){n[i]=function(o){return Ar(e,r[i],o)}}),n},t.prototype.keymaps=function(e){var r=this.specs.filter(function(n){return n.keymaps}).map(function(n){return n.keymaps()});return r.map(function(n){return e||Object.keys(n).forEach(function(a){de(Wv,a)||delete n[a]}),dr(n)})},t.prototype.setContext=function(e){this.specs.forEach(function(r){r.setContext(e)})},t}();function cl(t){var e=t.from,r=t.to;return t instanceof Bs?[e+1,r-1]:[e,r]}function Ai(t){return t.index(0)+1}function qt(t,e,r){r===void 0&&(r=1);var n=0;return t.forEach(function(a,i){ra(a)&&i+2<e&&(n+=2*r)}),n}function qr(t,e,r){r===void 0&&(r=e);var n=e===r,a=t.resolve(e),i=Ai(a),o=i,s=a.start(1),l=s;if(!n){var u=t.resolve(r===t.content.size?r-1:r);l=u.start(1),o=Ai(u),u.pos===t.content.size&&(r=t.content.size-2)}var c=Math.max(e-s+1,1),v=Math.max(r-l+1,1);return[[i,c+qt(t.child(i-1),c,-1)],[o,v+qt(t.child(o-1),v,-1)]]}function vl(t,e){for(var r=[],n=0,a=0;n<e;n+=1){var i=t.child(n);r[n]=a,a+=i.nodeSize}return r}function pt(t,e,r){var n=vl(t,r[0]),a=e[0]-1,i=r[0]-1,o=t.child(a),s=t.child(i),l=n[a],u=n[i];return l+=e[1]+qt(o,e[1]-1),u+=r[1]+qt(s,r[1]-1),[l,Math.min(u,t.content.size)]}function ne(t){var e=t.$from,r=t.$to,n=t.from,a=t.to,i=e.doc;return t instanceof Bs&&(e=i.resolve(n+1),r=i.resolve(a-1)),e.depth===0&&(e=i.resolve(n-1),r=e),{startFromOffset:e.start(1),endFromOffset:r.start(1),startToOffset:e.end(1),endToOffset:r.end(1),startIndex:e.index(0),endIndex:r.index(0),from:e.pos,to:r.pos}}function Zr(t,e){for(var r=1,n=1,a=0,i=0;a<t.childCount;a+=1){var o=t.child(a).nodeSize;if(r=i+1,n=i+o-1,a===e)break;i+=o}return{startOffset:r,endOffset:n}}var Si="heading",Gv="blockQuote",Xv="listItem",Kv="table",Qv="tableCell",Yv="codeBlock",Zv="thematicBreak",$r="link",Sr="code",mn="meta",bt="delimiter",Jv="taskDelimiter",za="markedText",ef="html",tf="customBlock",Oi={strong:2,emph:1,strike:2};function j(t,e,r,n){return{start:t,end:e,spec:{type:r,attrs:n}}}function rf(t,e,r){var n=t.level,a=t.headingType,i=[j(e,r,Si,{level:n})];return a==="atx"?i.push(j(e,le(e,n),bt)):i.push(j(ot(r,0),r,Si,{seText:!0})),i}function On(t,e,r){var n=t.type,a=le(e,Oi[n]),i=le(r,-Oi[n]);return[j(a,i,n),j(e,a,bt),j(i,r,bt)]}function fl(t,e,r,n){return[j(t,e,$r),j(ot(t,r[1]+1),ot(e,n),$r,{desc:!0}),j(ot(e,n+2),le(e,-1),$r,{url:!0})]}function nf(t,e,r){var n=t.lastChild,a=n?it(n)+1:3,i=le(e,1);return Te([j(e,i,mn)],fl(e,r,i,a))}function af(t,e,r){var n=t.lastChild,a=t.extendedAutolink,i=n?it(n)+1:2;return a?[j(e,r,$r,{desc:!0})]:fl(e,r,e,i)}function of(t,e,r){var n=t.tickCount,a=le(e,n),i=le(r,-n);return[j(e,r,Sr),j(e,a,Sr,{start:!0}),j(a,i,Sr,{marked:!0}),j(i,r,Sr,{end:!0})]}function dl(t,e,r,n){var a={start:e,end:r,spec:{attrs:{className:n+"-line-background",codeStart:e[0],codeEnd:r[0]}},lineBackground:!0};return t.type!=="item"&&t.type!=="blockQuote"?[b(b({},a),{end:e,spec:{attrs:{className:n+"-line-background start"}}}),b(b({},a),{start:[Math.min(e[0]+1,r[0]),e[1]]})]:null}function sf(t,e,r,n){var a=t.fenceOffset,i=t.fenceLength,o=t.fenceChar,s=t.info,l=t.infoPadding,u=t.parent,c=a+i,v=[j(ot(e,1),r,Yv)];o&&v.push(j(e,le(e,c),bt)),s&&v.push(j(le(e,i),le(e,i+l+s.length),mn));var f="^(\\s{0,4})("+o+"{"+i+",})",d=new RegExp(f);d.test(n)&&v.push(j(ot(r,1),r,bt));var p=dl(u,e,r,"code-block");return p?v.concat(p):v}function lf(t,e,r){var n=t,a=n.offset,i=n.syntaxLength,o=n.info,s=n.parent,l=a+i,u=[j(ot(e,1),r,tf)];u.push(j(e,le(e,l),bt)),o&&u.push(j(le(e,l),le(e,i+o.length),mn)),u.push(j(ot(r,1),r,bt));var c=dl(s,e,r,"custom-block");return c?u.concat(c):u}function pl(t,e){for(var r=[];t;){var n=t.type;(n==="paragraph"||n==="codeBlock")&&r.push(j([yr(t),dn(t)-1],[fn(t),it(t)+1],e)),t=t.next}return r}function uf(t){for(var e=[];t;)e.push(j([yr(t),dn(t)],[fn(t),it(t)+1],za)),t=t.next;return e}function cf(t,e,r){var n=t.parent&&t.parent.type!=="blockQuote"?[j(e,r,Gv)]:[];if(t.firstChild){var a=[];t.firstChild.type==="paragraph"?a=uf(t.firstChild.firstChild):t.firstChild.type==="list"&&(a=pl(t.firstChild,za)),n=Te(Te([],n),a)}return n}function vf(t){for(var e=0;t.parent.parent&&t.parent.parent.type==="item";)t=t.parent.parent,e+=1;var r=[{odd:!0},{even:!0}][e%2];return[Xv,b(b({},r),{listStyle:!0})]}function ff(t,e){var r=t.listData,n=r.padding,a=r.task,i=vf(t),o=[j.apply(void 0,Te([e,le(e,n)],i))];return a&&(o.push(j(le(e,n),le(e,n+3),Jv)),o.push(j(le(e,n+1),le(e,n+2),mn))),o.concat(pl(t.firstChild,za))}var Di={heading:rf,strong:On,emph:On,strike:On,link:af,image:nf,code:of,codeBlock:sf,blockQuote:cf,item:ff,customBlock:lf},Ii={thematicBreak:Zv,table:Kv,tableCell:Qv,htmlInline:ef};function df(t,e,r,n){var a=t.type;return Me(Di[a])?Di[a](t,e,r,n):Ii[a]?[j(e,r,Ii[a])]:null}var hr={};function pf(t){var e=t.schema,r=t.toastMark;return new He({appendTransaction:function(n,a,i){var o=n[0],s=i.tr;if(o.docChanged){var l=[],u=o.getMeta("editResult");u.forEach(function(c){var v=c.nodes,f=c.removedNodeRange;if(v.length){l=l.concat(wf(s,v));for(var d=0,p=v;d<p.length;d++)for(var h=p[d],m=h.walker(),y=m.next();y;){var w=y.node,T=y.entering;T&&(l=l.concat(Cf(w,r))),y=m.next()}}else if(f)for(var E=s.doc.childCount-1,L=f.line,S=L[0],I=L[1],P=Math.min(S,E),V=Math.min(I,E),X=P;X<=V;X+=1)hr[X]=!0}),gf(s,e,l)}return s.setMeta("widget",o.getMeta("widget"))}})}function hf(t,e,r){return Object.keys(r).some(function(n){return r[n]!==t.child(e).attrs[n]})}function mf(t,e,r,n,a){a===void 0&&(a={});for(var i=n.startIndex,o=n.endIndex,s=n.from,l=n.to,u=!1,c=i;c<=o;c+=1)delete hr[c],u=hf(e,c,a);u&&t.setBlockType(s,l,r,a)}function gf(t,e,r){var n=t.doc,a=e.nodes.paragraph,i=vl(n,n.childCount);r.forEach(function(o){var s=o.start,l=o.end,u=o.spec,c=o.lineBackground,v=Math.min(s[0],n.childCount)-1,f=Math.min(l[0],n.childCount)-1,d=n.child(v),p=n.child(f),h=i[v],m=i[f];if(h+=s[1]+qt(d,s[1]-1),m+=l[1]+qt(p,l[1]-1),u)if(c){var y={from:h,to:m,startIndex:v,endIndex:f};mf(t,n,a,y,u.attrs)}else t.addMark(h,m,e.mark(u.type,u.attrs));else t.removeMark(h,m)}),yf(t,i,a)}function yf(t,e,r){Object.keys(hr).forEach(function(n){var a=Number(n),i=Math.min(Number(n)+1,t.doc.childCount-1),o=e[a],s=e[i]-1;a===i&&(s+=2),t.setBlockType(o,s,r)})}function bf(t,e,r){var n=[];hr={};for(var a=e[0]-1;a<r[0];a+=1){var i=t.child(a),o=i.attrs.codeEnd,s=i.attrs.codeStart;if(s&&o&&!de(n,s)){n.push(s),o=Math.min(o,t.childCount);for(var l=s-1,u=r[0],c=l;c<u;c+=1)hr[c]=!0}}}function wf(t,e){var r=t.doc,n=e[0].sourcepos[0],a=ge(e).sourcepos,i=a[1],o=[n[0],n[1]],s=[i[0],i[1]+1],l=[];return bf(r,n,i),l.push({start:o,end:s}),l}function Cf(t,e){var r=e.getLineTexts(),n=[yr(t),dn(t)],a=[fn(t),it(t)+1],i=df(t,n,a,r[a[0]-1]);return i??[]}var Tf=["taskList","orderedList","bulletList","table","strong","emph","strike","heading","thematicBreak","blockQuote","code","codeBlock","indent","outdent"];function kf(t){var e=t.type;return gt(t)?t.listData.task?"taskList":t.listData.type==="ordered"?"orderedList":"bulletList":e.indexOf("table")!==-1?"table":de(Tf,e)?e:null}function Ef(t){var e={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}},r=!0;return fv(t,function(n){var a=kf(n);a&&(a==="bulletList"||a==="orderedList"?r&&(e[a]={active:!0},e.indent.disabled=!1,e.outdent.disabled=!1,r=!1):e[a]={active:!0})}),e}function Lf(t){var e=t.toastMark,r=t.eventEmitter;return new He({view:function(){return{update:function(n,a){var i=n.state,o=i.doc,s=i.selection;if(!(a&&a.doc.eq(o)&&a.selection.eq(s))){var l=s.from,u=i.doc.resolve(l).start(),c=i.doc.content.findIndex(l).index+1,v=l-u;l===u&&(v+=1);var f=[c,v],d=e.findNodeAtPosition(f),p=Ef(d);r.emit("changeToolbarState",{cursorPos:f,mdNode:d,toolbarState:p}),r.emit("setFocusedNode",d)}}}}})}var xf=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(G),Q=function(){function t(){}return Object.defineProperty(t.prototype,"type",{get:function(){return"mark"},enumerable:!1,configurable:!0}),t.prototype.setContext=function(e){this.context=e},t}();function ke(t,e){return st(t,e-1)}function st(t,e){return t.child(e).textContent}var cr=/^\s*> ?/,Mf=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ae("block-quote")},0]}}},enumerable:!1,configurable:!0}),e.prototype.createBlockQuoteText=function(r,n){return n?r.replace(cr,"").trim():"> "+r.trim()},e.prototype.extendBlockQuote=function(){var r=this;return function(n,a){var i=n.selection,o=n.doc,s=n.tr,l=n.schema,u=ne(i),c=u.endFromOffset,v=u.endToOffset,f=u.endIndex,d=u.to,p=st(o,f),h=cr.test(p);if(h&&d>c&&i.empty){var m=!p.replace(cr,"").trim();if(m)s.deleteRange(c,v).split(s.mapping.map(v));else{var y=p.slice(d-c).trim(),w=fe(l,r.createBlockQuoteText(y));_a(s,v,y,w)}return a(s),!0}return!1}},e.prototype.commands=function(){var r=this;return function(){return function(n,a){var i=n.selection,o=n.doc,s=ne(i),l=s.startFromOffset,u=s.endToOffset,c=s.startIndex,v=s.endIndex,f=cr.test(st(o,c)),d=Yr({state:n,startIndex:c,endIndex:v,from:l,createText:function(p){return r.createBlockQuoteText(p,f)}});return a(d.setSelection(K(d,d.mapping.map(u)))),!0}}},e.prototype.keymaps=function(){var r=this.commands()();return{"alt-q":r,"alt-Q":r,Enter:this.extendBlockQuote()}},e}(Q),wt=/(^\s*)([-*+] |[\d]+\. )/,Wa=/(^\s*)([\d])+\.( \[[ xX]])? /,Qe=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/,Jr=/(^\s*)([-*+]|[\d]+\.)( \[[ xX]])? /,Af=/^(\s*)([-*+]+(\s(?:\[(?:x|\s)\]\s)?))(.*)/,Sf=/(^\s*)([-*+] |[\d]+\. )(\[[ xX]] )/,Of=/(^\s*)([-*+])( \[[ xX]]) /;function Ga(t){return Wa.test(t)?"ordered":"bullet"}function Xa(t){for(var e=0;t&&t.type!=="document";)t.type==="list"&&(e+=1),t=t.parent;return e}function na(t,e,r,n){for(var a=t.getLineTexts(),i=a.length,o=[],s=e;n?s<i:s>1;){s=n?s+1:s-1;var l=t.findFirstNodeAtLine(s),u=Xa(l);if(u===r)o.push({line:s,depth:r,mdNode:l});else if(u<r)break}return o}function Df(t){var e=t.toastMark,r=t.mdNode,n=t.line,a=Xa(r),i=na(e,n,a,!1).reverse(),o=na(e,n,a,!0);return i.concat([{line:n,depth:a,mdNode:r}]).concat(o)}function If(t){if(!wt.test(t))return"* "+t;var e=Ga(t);return e==="bullet"&&Jr.test(t)?t=t.replace(Of,"$1$2 "):e==="ordered"&&(t=t.replace(Wa,"$1* ")),t}function Nf(t,e){if(!wt.test(t))return e+". "+t;var r=Ga(t);if(r==="bullet"||r==="ordered"&&Jr.test(t))t=t.replace(Jr,"$1"+e+". ");else if(r==="ordered"){var n=Qe.exec(t)[3];Number(n)!==e&&(t=t.replace(Wa,"$1"+e+". "))}return t}function hl(t,e,r,n){n===void 0&&(n=0);var a=Number.MAX_VALUE,i=0,o=e.map(function(s,l){var u=s.line;a=Math.min(u-1,a),i=Math.max(u-1,i);var c=ke(t,u);return c=r==="bullet"?If(c):Nf(c,l+1+n),{text:c,line:u}});return{changedResults:o,firstIndex:a,lastIndex:i}}function Ni(t,e){var r=Df(e);return hl(e.doc,r,t)}var Rf={bullet:function(t){return Ni("bullet",t)},ordered:function(t){return Ni("ordered",t)},task:function(t){var e=t.mdNode,r=t.doc,n=t.line,a=ke(r,n);return e.listData.task?a=a.replace(Sf,"$1$2"):gt(e)&&(a=a.replace(wt,"$1$2[ ] ")),{changedResults:[{text:a,line:n}]}}},Bf={bullet:function(t){var e=t.doc,r=t.line,n=ke(e,r),a=[{text:"* "+n,line:r}];return{changedResults:a}},ordered:function(t){for(var e=t.toastMark,r=t.doc,n=t.line,a=t.startLine,i=ke(r,n),o=1,s=a,l=0,u=a-1;u>0;u-=1){var c=e.findFirstNodeAtLine(u),v=ke(r,u),f=v&&!!Ht(c,function(T){return gt(T)}),d=Qe.exec(ke(r,u));if(!d&&!f)break;if(!d&&f){l+=1;continue}var p=d,h=p[1],m=p[3];if(!h){o=Number(m),s=u;break}}var y=o+n-s-l,w=[{text:y+". "+i,line:n}];return{changedResults:w}},task:function(t){var e=t.doc,r=t.line,n=ke(e,r),a=[{text:"* [ ] "+n,line:r}];return{changedResults:a}}},Pf={bullet:function(t){var e=t.line,r=t.doc,n=ke(r,e),a=Af.exec(n),i=a[1],o=a[2];return{listSyntax:""+i+o}},ordered:function(t){var e=t.toastMark,r=t.line,n=t.mdNode,a=t.doc,i=Xa(n),o=ke(a,r),s=Qe.exec(o),l=s[1],u=s[3],c=s[4],v=Number(u)+1,f=""+l+v+c,d=na(e,r,i,!0),p=d.filter(function(h){var m=Qe.exec(ke(a,h.line));return m&&m[1].length===l.length&&!!Ht(h.mdNode,function(y){return Vs(y)})});return b({listSyntax:f},hl(a,p,"ordered",v))}};function ml(t,e,r,n,a){for(var i=[],o=ke(t,r),s=Qe.exec(o);s;){var l=s[1],u=s[4],c=s[5],v=l.length;if(v===a)i.push(fe(e,""+l+n+u+c)),n+=1,r+=1;else if(v>a){var f=ml(t,e,r,1,v);r=f.line,i=i.concat(f.nodes)}if(v<a||r>t.childCount)break;o=ke(t,r),s=Qe.exec(o)}return{nodes:i,line:r}}var Ri=/(^\s{1,4})(.*)/;function Bi(t,e,r){return t<e||wt.test(r)||cr.test(r)}function Pi(t,e,r){var n=r.$from;n.depth===0&&(n=t.resolve(n.pos-1));var a=n.node(1),i=n.start(1),o=a.content.size;return a.rangeHasMark(0,o,e.marks.table)&&n.pos-i!==o&&n.pos!==i}function Hi(t,e){var r=e.from,n=e.to;if(e.type==="indent"){var a=4;r+=a,n+=(e.lineLen+1)*a}else{var i=e.spaceLenList;r-=i[0];for(var o=0;o<i.length;o+=1)n-=i[o]}return K(t,r,n)}var Hf=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",attrs:{className:{default:null},codeStart:{default:null},codeEnd:{default:null}},selectable:!1,group:"block",parseDOM:[{tag:"div"}],toDOM:function(r){var n=r.attrs;return n.className?["div",{class:ae(n.className)},0]:["div",0]}}},enumerable:!1,configurable:!0}),e.prototype.reorderList=function(r,n){for(var a=this.context,i=a.view,o=a.toastMark,s=a.schema,l=i.state,u=l.tr,c=l.selection,v=l.doc,f=o.findFirstNodeAtLine(r),d=f;f&&!cv(f)&&f.parent.type!=="document";)if(f=f.parent,Vs(f)){d=f;break}d&&(r=d.sourcepos[0][0]);var p=Qe.exec(ke(v,r)),h=p[1],m=p[3],y=h.length,w=ml(v,s,r,Number(m),y),T=w.line,E=w.nodes;n=Math.max(n,T-1);for(var L=Zr(v,r-1).startOffset,S=r-1;S<=n-1;S+=1){var I=v.child(S),P=I.nodeSize,V=I.content,X=u.mapping.map(L),J=X+V.size;u.replaceWith(X,J,E[S-r+1]),L+=P}var we=K(u,c.from,c.to);i.dispatch(u.setSelection(we))},e.prototype.indent=function(r){var n=this;return r===void 0&&(r=!1),function(){return function(a,i){var o=a.schema,s=a.selection,l=a.doc,u=ne(s),c=u.from,v=u.to,f=u.startFromOffset,d=u.startIndex,p=u.endIndex;if(r&&Pi(l,o,s))return!1;var h=st(l,d);if(r&&Bi(c,v,h)||!r&&wt.test(h)){var m=Yr({state:a,from:f,startIndex:d,endIndex:p,createText:function(w){return"    "+w}}),y={type:"indent",from:c,to:v,lineLen:p-d};i(m.setSelection(Hi(m,y))),Qe.test(h)&&n.reorderList(d+1,p+1)}else r&&i(a.tr.insert(v,fe(o,"    ")));return!0}}},e.prototype.outdent=function(r){var n=this;return r===void 0&&(r=!1),function(){return function(a,i){var o=a.selection,s=a.doc,l=a.schema,u=ne(o),c=u.from,v=u.to,f=u.startFromOffset,d=u.startIndex,p=u.endIndex;if(r&&Pi(s,l,o))return!1;var h=st(s,d);if(r&&Bi(c,v,h)||!r&&wt.test(h)){var m=[],y=Yr({state:a,from:f,startIndex:d,endIndex:p,createText:function(S){var I=Ri.exec(S);return m.push(I?I[1].length:0),S.replace(Ri,"$2")}}),w={type:"outdent",from:c,to:v,spaceLenList:m};i(y.setSelection(Hi(y,w))),Qe.test(h)&&n.reorderList(d+1,p+1)}else if(r){var T=h.slice(0,v-f),E=T.replace(/\s{1,4}$/,""),L=v-(T.length-E.length);i(a.tr.delete(L,v))}return!0}}},e.prototype.deleteLines=function(){var r=this;return function(n,a){var i=r.context.view,o=ne(n.selection),s=o.startFromOffset,l=o.endToOffset,u=function(){return a(n.tr.deleteRange(s,l)),!0};return Zu(u,ec)(n,a,i)}},e.prototype.moveDown=function(){return function(r,n){var a=r.doc,i=r.tr,o=r.selection,s=r.schema,l=ne(o),u=l.startFromOffset,c=l.endToOffset,v=l.endIndex;if(v<a.content.childCount-1){var f=a.child(v+1),d=f.nodeSize,p=f.textContent;return i.delete(c,c+d).split(u).insert(i.mapping.map(u)-2,fe(s,p)),n(i),!0}return!1}},e.prototype.moveUp=function(){return function(r,n){var a=r.tr,i=r.doc,o=r.selection,s=r.schema,l=ne(o),u=l.startFromOffset,c=l.endToOffset,v=l.startIndex;if(v>0){var f=i.child(v-1),d=f.nodeSize,p=f.textContent;return a.delete(u-d,u).split(a.mapping.map(c)).insert(a.mapping.map(c),fe(s,p)),n(a),!0}return!1}},e.prototype.commands=function(){return{indent:this.indent(),outdent:this.outdent()}},e.prototype.keymaps=function(){return{Tab:this.indent(!0)(),"Shift-Tab":this.outdent(!0)(),"Mod-d":this.deleteLines(),"Mod-D":this.deleteLines(),"Alt-ArrowUp":this.moveUp(),"Alt-ArrowDown":this.moveDown()}},e}(G),_f=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e}(G),qf=/^#{1,6}\s/,$f=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{level:{default:1},seText:{default:!1}},toDOM:function(r){var n=r.attrs,a=n.level,i=n.seText,o="heading|heading"+a;return i&&(o+="|delimiter|setext"),["span",{class:ae.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.createHeadingText=function(r,n,a){for(var i=n.replace(a,"").trim(),o="";r>0;)o+="#",r-=1;return o+" "+i},e.prototype.commands=function(){var r=this;return function(n){return function(a,i){var o=n.level,s=ne(a.selection),l=s.startFromOffset,u=s.endToOffset,c=s.startIndex,v=s.endIndex,f=Yr({state:a,from:l,startIndex:c,endIndex:v,createText:function(d){var p=d.match(qf),h=p?p[0]:"";return r.createHeadingText(o,d,h)}});return i(f.setSelection(K(f,f.mapping.map(u)))),!0}}},e}(Q),Dn="```",Ff=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ae("code-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){var a=r.selection,i=r.schema,o=r.tr,s=ne(a),l=s.startFromOffset,u=s.endToOffset,c=fe(i,Dn);return o.insert(l,c).split(l+Dn.length),o.split(o.mapping.map(u)).insert(o.mapping.map(u),c),n(o.setSelection(K(o,o.mapping.map(u)-(Dn.length+2)))),!0}}},e.prototype.keepIndentation=function(){var r=this;return function(n,a){var i=n.selection,o=n.tr,s=n.doc,l=n.schema,u=r.context.toastMark,c=ne(i),v=c.startFromOffset,f=c.endToOffset,d=c.endIndex,p=c.from,h=c.to,m=st(s,d);if(p===h&&m.trim()){var y=m.match(/^\s+/),w=u.findFirstNodeAtLine(d+1);if(uv(w)&&y){var T=y[0],E=m.slice(h-v),L=fe(l,T+E);return _a(o,f,E,L),a(o),!0}}return!1}},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-p":r,"Shift-Mod-P":r,Enter:this.keepIndentation()}},e}(Q),Uf=/\||\s/g;function Vf(t){return[en(t),en(t,!0)]}function jf(t,e){for(var r=[],n=0;n<e;n+=1)r.push(en(t));return r}function en(t,e){for(var r="|",n=0;n<t;n+=1)r+=e?" --- |":"  |";return r}function zf(t){return t?{type:"next",parentType:"tableHead",childType:"firstChild"}:{type:"prev",parentType:"tableBody",childType:"lastChild"}}var Wf=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ae("table")},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendTable=function(){var r=this;return function(n,a){var i=n.selection,o=n.doc,s=n.tr,l=n.schema;if(!i.empty)return!1;var u=ne(i),c=u.endFromOffset,v=u.endToOffset,f=u.endIndex,d=u.to,p=st(o,f),h=[f+1,d-c+1],m=r.context.toastMark.findNodeAtPosition(h),y=Ht(m,function(S){return Li(S)&&(S.parent.type==="tableDelimRow"||S.parent.parent.type==="tableBody")});if(y){var w=!p.replace(Uf,"").trim(),T=y.parent,E=T.parent.parent.columns.length,L=en(E);return w?s.deleteRange(c,v).split(s.mapping.map(v)):s.split(v).insert(s.mapping.map(v),fe(l,L)).setSelection(K(s,s.mapping.map(v)-2)),a(s),!0}return!1}},e.prototype.moveTableCell=function(r){var n=this;return function(a,i){var o=a.selection,s=a.tr,l=ne(o),u=l.endFromOffset,c=l.endIndex,v=l.to,f=[c+1,v-u],d=n.context.toastMark.findNodeAtPosition(f),p=Ht(d,function(I){return Li(I)});if(p){var h=p.parent,m=zf(r),y=m.type,w=m.parentType,T=m.childType,E=it(p);if(p[y])E=it(p[y])-1;else{var L=!h[y]&&h.parent.type===w?h.parent[y][T]:h[y];if(y==="next"){var S=L?it(L[T]):0;E+=S+2}else y==="prev"&&(E=L?-4:0)}return i(s.setSelection(K(s,u+E))),!0}return!1}},e.prototype.addTable=function(){return function(r){return function(n,a){var i=n.selection,o=n.tr,s=n.schema,l=r,u=l.columnCount,c=l.rowCount,v=ne(i).endToOffset,f=Vf(u),d=jf(u,c-1),p=Te(Te([],f),d);return p.forEach(function(h){o.split(o.mapping.map(v)).insert(o.mapping.map(v),fe(s,h))}),a(o.setSelection(K(o,v+4))),!0}}},e.prototype.commands=function(){return{addTable:this.addTable()}},e.prototype.keymaps=function(){return{Enter:this.extendTable(),Tab:this.moveTableCell(!0),"Shift-Tab":this.moveTableCell(!1)}},e}(Q),Gf="***",Xf=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ae("thematic-break")},0]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){return function(){return function(r,n){var a=r.selection,i=r.schema,o=r.tr,s=ne(a),l=s.from,u=s.to,c=s.endToOffset,v=fe(i,Gf);return o.split(l).replaceWith(o.mapping.map(l),o.mapping.map(u),v).split(o.mapping.map(u)).setSelection(K(o,o.mapping.map(c))),n(o),!0}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var r=this.hr()();return{"Mod-l":r,"Mod-L":r}},e}(Q);function Kf(t,e){var r=t.type,n=t.sourcepos,a=n[0][0];return e<=a&&(r==="codeBlock"||r==="heading"||r.match("table"))}var Qf=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{odd:{default:!1},even:{default:!1},listStyle:{default:!1}},toDOM:function(r){var n=r.attrs,a=n.odd,i=n.even,o=n.listStyle,s="list-item";return o&&(s+="|list-item-style"),a&&(s+="|list-item-odd"),i&&(s+="|list-item-even"),["span",{class:ae.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendList=function(){var r=this;return function(n,a){var i=n.selection,o=n.doc,s=n.schema,l=n.tr,u=r.context.toastMark,c=ne(i),v=c.to,f=c.startFromOffset,d=c.endFromOffset,p=c.endIndex,h=c.endToOffset,m=st(o,p),y=wt.test(m);if(!y||i.from===f||!i.empty)return!1;var w=!m.replace(Jr,"").trim();if(w)l.deleteRange(d,h).split(l.mapping.map(h));else{var T=Ga(m),E=u.findFirstNodeAtLine(p+1),L=m.slice(v-d),S={toastMark:u,mdNode:E,doc:o,line:p+1},I=Pf[T](S),P=I.listSyntax,V=I.changedResults;if(V!=null&&V.length){l.split(v),V.unshift({text:P+L,line:p+1}),r.changeToListPerLine(l,V,{from:v,startLine:V[0].line,endLine:ge(V).line});var X=l.mapping.map(h)-L.length;l.setSelection(K(l,X))}else{var J=fe(s,P+L);_a(l,h,L,J)}}return a(l),!0}},e.prototype.toList=function(r){var n=this;return function(){return function(a,i){for(var o=a.doc,s=a.tr,l=a.selection,u=n.context.toastMark,c=ne(l),v=c.startIndex+1,f=c.endIndex+1,d=c.endToOffset,p=[],h=v;h<=f;h+=1){var m=u.findFirstNodeAtLine(h);if(m&&Kf(m,h))break;if(p.indexOf(h)===-1){var y={toastMark:u,mdNode:m,doc:o,line:h,startLine:v},w=(gt(m)?Rf[r](y):Bf[r](y)).changedResults,T=n.changeToListPerLine(s,w,{from:Zr(o,w[0].line-1).startOffset,startLine:w[0].line,endLine:ge(w).line,indexDiff:1});d=Math.max(T,d),w&&(p=p.concat(w.map(function(E){return E.line})))}}return i(s.setSelection(K(s,s.mapping.map(d)))),!0}}},e.prototype.changeToListPerLine=function(r,n,a){for(var i=a.from,o=a.startLine,s=a.endLine,l=a.indexDiff,u=l===void 0?0:l,c=0,v=function(p){var h=r.doc.child(p),m=h.nodeSize,y=h.content,w=r.mapping.map(i),T=w+y.size,E=n.filter(function(L){return L.line-u===p})[0];E&&(r.replaceWith(w,T,fe(f.context.schema,E.text)),c=Math.max(c,i+y.size)),i+=m},f=this,d=o-u;d<=s-u;d+=1)v(d);return c},e.prototype.toggleTask=function(){var r=this;return function(n,a){for(var i=n.selection,o=n.tr,s=n.doc,l=n.schema,u=r.context.toastMark,c=ne(i),v=c.startIndex,f=c.endIndex,d=null,p=v;p<=f;p+=1){var h=u.findFirstNodeAtLine(p+1);if(gt(h)&&h.listData.task){var m=h.listData,y=m.checked,w=m.padding,T=y?" ":"x",E=h.sourcepos[0],L=Zr(s,E[0]-1).startOffset;L+=E[1]+w,d=o.replaceWith(L,L+1,l.text(T))}}return d?(a(d),!0):!1}},e.prototype.commands=function(){return{bulletList:this.toList("bullet"),orderedList:this.toList("ordered"),taskList:this.toList("task")}},e.prototype.keymaps=function(){var r=this.toList("bullet")(),n=this.toList("ordered")(),a=this.toList("task")(),i=this.toggleTask();return{"Mod-u":r,"Mod-U":r,"Mod-o":n,"Mod-O":n,"alt-t":a,"alt-T":a,"Shift-Ctrl-x":i,"Shift-Ctrl-X":i,Enter:this.extendList()}},e}(Q);function gn(t,e){return function(){return function(r,n){var a=r.tr,i=r.selection,o=Me(t)?t:function(T){return t.test(T)},s=e.length,l=a.doc,u=cl(i),c=u[0],v=u[1],f=Math.max(c-s,1),d=Math.min(v+s,l.content.size-1),p=i.content(),h=p.content.textBetween(0,p.content.size,`
`),m=l.textBetween(f,c,`
`),y=l.textBetween(v,d,`
`);if(h=""+m+h+y,m&&y&&o(h))a.delete(d-s,d).delete(f,f+s);else{a.insertText(e,v).insertText(e,c);var w=i.empty?K(a,c+s):K(a,c+s,v+s);a.setSelection(w)}return n(a),!0}}}var Yf=/^(\*{2}|_{2}).*([\s\S]*)\1$/m,Zf="**",Jf=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ae("strong")},0]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return gn(Yf,Zf)},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var r=this.bold()();return{"Mod-b":r,"Mod-B":r}},e}(Q),ed=/^(~{2}).*([\s\S]*)\1$/m,td="~~",rd=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ae("strike")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return gn(ed,td)},e.prototype.keymaps=function(){var r=this.commands()();return{"Mod-s":r,"Mod-S":r}},e}(Q),nd=/^(\*|_).*([\s\S]*)\1$/m,ad="*",id=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ae("emph")},0]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return gn(nd,ad)},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var r=this.italic()();return{"Mod-i":r,"Mod-I":r}},e}(Q),od=/^(`).*([\s\S]*)\1$/m,sd="`",ld=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{start:{default:!1},end:{default:!1},marked:{default:!1}},toDOM:function(r){var n=r.attrs,a=n.start,i=n.end,o=n.marked,s="code";return a&&(s+="|delimiter|start"),i&&(s+="|delimiter|end"),o&&(s+="|marked-text"),["span",{class:ae.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return gn(od,sd)},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-c":r,"Shift-Mod-C":r}},e}(Q),ud=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{url:{default:!1},desc:{default:!1}},toDOM:function(r){var n=r.attrs,a=n.url,i=n.desc,o="link";return a&&(o+="|link-url|marked-text"),i&&(o+="|link-desc|marked-text"),["span",{class:ae.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.addLinkOrImage=function(r){return function(n){return function(a,i){var o=a.selection,s=a.tr,l=a.schema,u=cl(o),c=u[0],v=u[1],f=n,d=f.linkText,p=f.altText,h=f.linkUrl,m=f.imageUrl,y=d,w=h,T="";return r==="image"&&(y=p,w=m,T="!"),y=Xr(y),T+="["+y+"]("+w+")",i(s.replaceWith(c,v,fe(l,T))),!0}}},e.prototype.commands=function(){return{addImage:this.addLinkOrImage("image"),addLink:this.addLinkOrImage("link")}},e}(Q),cd=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"taskDelimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ae("delimiter","list-item")},0]}}},enumerable:!1,configurable:!0}),e}(Q),vd=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"delimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ae("delimiter")},0]}}},enumerable:!1,configurable:!0}),e}(Q),fd=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"meta"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ae("meta")},0]}}},enumerable:!1,configurable:!0}),e}(Q),dd=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"markedText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ae("marked-text")},0]}}},enumerable:!1,configurable:!0}),e}(Q),pd=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ae("table-cell")},0]}}},enumerable:!1,configurable:!0}),e}(Q),hd=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"html"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ae("html")},0]}}},enumerable:!1,configurable:!0}),e}(Q),In="$$",md=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ae("custom-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(r){return function(n,a){var i=n.selection,o=n.schema,s=n.tr,l=ne(i),u=l.startFromOffset,c=l.endToOffset;if(!(r!=null&&r.info))return!1;var v=""+In+r.info,f=fe(o,v),d=fe(o,In);return s.insert(u,f).split(u+v.length),s.split(s.mapping.map(c)).insert(s.mapping.map(c),d),a(s.setSelection(K(s,s.mapping.map(c)-(In.length+2)))),!0}}},e}(Q),gd=/x|backspace/i,yd=/^\[(\s*)(x?)(\s*)\](?:\s+)/i;function bd(t){var e=t.schema,r=t.toastMark;return new He({props:{handleDOMEvents:{keyup:function(n,a){var i,o=n.state,s=o.doc,l=o.tr,u=o.selection;if(u.empty&&gd.test(a.key)){var c=ne(u),v=c.startIndex,f=c.startFromOffset,d=c.from,p=[v+1,d-f+1],h=r.findNodeAtPosition(p),m=Ht(h,function(J){var we;return J.type==="paragraph"&&((we=J.parent)===null||we===void 0?void 0:we.type)==="item"});if(!((i=m==null?void 0:m.firstChild)===null||i===void 0)&&i.literal){var y=m.firstChild,w=y.literal.match(yd);if(w){var T=y.sourcepos[0],E=w[1],L=w[2],S=w[3],I=E.length+S.length,P=Zr(s,T[0]-1).startOffset,V=T[1]+P;if(L){var X=I?I+1:0;l.replaceWith(V,X+V,e.text(L)),n.dispatch(l)}else I||(l.insertText(" ",V),n.dispatch(l))}}}return!1}}}})}var Nn="cut",_i=/\r\n|\n|\r/,wd=function(t){A(e,t);function e(r,n){var a=t.call(this,r)||this,i=n.toastMark,o=n.useCommandShortcut,s=o===void 0?!0:o,l=n.mdPlugins,u=l===void 0?[]:l;return a.editorType="markdown",a.el.classList.add("md-mode"),a.toastMark=i,a.extraPlugins=u,a.specs=a.createSpecs(),a.schema=a.createSchema(),a.context=a.createContext(),a.keymaps=a.createKeymaps(s),a.view=a.createView(),a.commands=a.createCommands(),a.specs.setContext(b(b({},a.context),{view:a.view})),a.createClipboard(),a.eventEmitter.listen("changePreviewTabWrite",function(c){return a.toggleActive(!0,c)}),a.eventEmitter.listen("changePreviewTabPreview",function(){return a.toggleActive(!1)}),a.initEvent(),a}return e.prototype.toggleActive=function(r,n){$a(this.el,"active",r),r?n||this.focus():this.blur()},e.prototype.createClipboard=function(){var r=this;this.clipboard=document.createElement("textarea"),this.clipboard.className=O("pseudo-clipboard"),this.clipboard.addEventListener("paste",function(n){var a=n.clipboardData||window.clipboardData,i=a&&a.items;if(i){var o=Ve(i).some(function(l){return l.kind==="string"&&l.type==="text/rtf"});if(!o){var s=il(i);s&&(n.preventDefault(),ja(r.eventEmitter,s,n.type))}}}),this.clipboard.addEventListener("input",function(n){var a=n.target.value;r.replaceSelection(a),n.preventDefault(),n.target.value=""}),this.el.insertBefore(this.clipboard,this.view.dom)},e.prototype.createContext=function(){return{toastMark:this.toastMark,schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSpecs=function(){return new ul([new xf,new Hf,new sl,new _f,new $f,new Mf,new Ff,new md,new Wf,new pd,new Xf,new Qf,new Jf,new rd,new id,new ld,new ud,new vd,new cd,new dd,new fd,new hd])},e.prototype.createPlugins=function(){return Te([pf(this.context),Lf(this.context),bd(this.context)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createView=function(){var r=this;return new Ma(this.el,{state:this.createState(),dispatchTransaction:function(n){r.updateMarkdown(n);var a=r.view.state.applyTransaction(n).state;r.view.updateState(a),r.emitChangeEvent(n)},handleKeyDown:function(n,a){return(a.metaKey||a.ctrlKey)&&a.key.toUpperCase()==="V"&&r.clipboard.focus(),r.eventEmitter.emit("keydown",r.editorType,a),!1},handleDOMEvents:{copy:function(n,a){return r.captureCopy(a)},cut:function(n,a){return r.captureCopy(a,Nn)},scroll:function(){return r.eventEmitter.emit("scroll","editor"),!0},keyup:function(n,a){return r.eventEmitter.emit("keyup",r.editorType,a),!1}},nodeViews:{widget:ol}})},e.prototype.createCommands=function(){return this.specs.commands(this.view)},e.prototype.captureCopy=function(r,n){r.preventDefault();var a=this.view.state,i=a.selection,o=a.tr;if(i.empty)return!0;var s=this.getChanged(i.content());return r.clipboardData?r.clipboardData.setData("text/plain",s):window.clipboardData.setData("Text",s),n===Nn&&this.view.dispatch(o.deleteSelection().scrollIntoView().setMeta("uiEvent",Nn)),!0},e.prototype.updateMarkdown=function(r){var n=this;r.docChanged&&r.steps.forEach(function(a,i){if(a.slice&&!(a instanceof mr)){var o=r.docs[i],s=[a.from,a.to],l=s[0],u=s[1],c=qr(o,l,u),v=c[0],f=c[1],d=n.getChanged(a.slice);v[0]===f[0]&&v[1]===f[1]&&d===""&&(d=`
`);var p=n.toastMark.editMarkdown(v,f,d);n.eventEmitter.emit("updatePreview",p),r.setMeta("editResult",p).scrollIntoView()}})},e.prototype.getChanged=function(r){var n="",a=0,i=r.content.size;return r.content.nodesBetween(a,i,function(o,s){o.isText?n+=o.text.slice(Math.max(a,s)-s,i-s):o.isBlock&&s>0&&(n+=`
`)}),n},e.prototype.setSelection=function(r,n){n===void 0&&(n=r);var a=this.view.state.tr,i=pt(a.doc,r,n),o=i[0],s=i[1];this.view.dispatch(a.setSelection(K(a,o,s)).scrollIntoView())},e.prototype.replaceSelection=function(r,n,a){var i,o=this.view.state,s=o.tr,l=o.schema,u=o.doc,c=r.split(_i),v=c.map(function(m){return Qr(l,ht(m,l))}),f=new Re(W.from(v),1,1);if(this.focus(),n&&a){var d=pt(u,n,a),p=d[0],h=d[1];i=s.replaceRange(p,h,f)}else i=s.replaceSelection(f);this.view.dispatch(i.scrollIntoView())},e.prototype.deleteSelection=function(r,n){var a,i=this.view.state,o=i.tr,s=i.doc;if(r&&n){var l=pt(s,r,n),u=l[0],c=l[1];a=o.deleteRange(u,c)}else a=o.deleteSelection();this.view.dispatch(a.scrollIntoView())},e.prototype.getSelectedText=function(r,n){var a=this.view.state,i=a.doc,o=a.selection,s=o.from,l=o.to;if(r&&n){var u=pt(i,r,n);s=u[0],l=u[1]}return i.textBetween(s,l,`
`)},e.prototype.getSelection=function(){var r=this.view.state.selection,n=r.from,a=r.to;return qr(this.view.state.tr.doc,n,a)},e.prototype.setMarkdown=function(r,n){n===void 0&&(n=!0);var a=r.split(_i),i=this.view.state,o=i.tr,s=i.doc,l=i.schema,u=a.map(function(c){return Qr(l,ht(c,l))});this.view.dispatch(o.replaceWith(0,s.content.size,u)),n&&this.moveCursorToEnd(!0)},e.prototype.addWidget=function(r,n,a){var i=this.view.state,o=i.tr,s=i.doc,l=i.selection,u=a?pt(s,a,a)[0]:l.to;this.view.dispatch(o.setMeta("widget",{pos:u,node:r,style:n}))},e.prototype.replaceWithWidget=function(r,n,a){var i=this.view.state,o=i.tr,s=i.schema,l=i.doc,u=pt(l,r,n),c=ht(a,s);this.view.dispatch(o.replaceWith(u[0],u[1],c))},e.prototype.getRangeInfoOfNode=function(r){var n=this.view.state,a=n.doc,i=n.selection,o=r||qr(a,i.from)[0],s=this.toastMark.findNodeAtPosition(o);return s.type==="text"&&s.parent.type!=="paragraph"&&(s=s.parent),s.sourcepos[1][1]+=1,{range:s.sourcepos,type:s.type}},e.prototype.getMarkdown=function(){return this.toastMark.getLineTexts().map(function(r){return pn(r)}).join(`
`)},e.prototype.getToastMark=function(){return this.toastMark},e}(ll),qi="_feEventKey";function Cd(t,e){var r=t[qi],n;return r||(r=t[qi]={}),n=r[e],n||(n=r[e]=[]),n}var gl=Cd,Td=Je,tn=vn,kd=gl;function Ed(t,e,r){if(Td(e)){tn(e.split(/\s+/g),function(n){$i(t,n,r)});return}tn(e,function(n,a){$i(t,a,n)})}function $i(t,e,r){var n=kd(t,e),a;r?(tn(n,function(i,o){return r===i.handler?(Fi(t,e,i.wrappedHandler),a=o,!1):!0}),n.splice(a,1)):(tn(n,function(i){Fi(t,e,i.wrappedHandler)}),n.splice(0,n.length))}function Fi(t,e,r){"removeEventListener"in t?t.removeEventListener(e,r):"detachEvent"in t&&t.detachEvent("on"+e,r)}var yl=Ed,Ld=Je,aa=vn,xd=gl;function Md(t,e,r,n){if(Ld(e)){aa(e.split(/\s+/g),function(a){Ui(t,a,r,n)});return}aa(e,function(a,i){Ui(t,i,a,r)})}function Ui(t,e,r,n){function a(i){r.call(n||t,i||window.event)}"addEventListener"in t?t.addEventListener(e,a):"attachEvent"in t&&t.attachEvent("on"+e,a),Ad(t,e,r,a)}function Ad(t,e,r,n){var a=xd(t,e),i=!1;aa(a,function(o){return o.handler===r?(i=!0,!1):!0}),i||a.push({handler:r,wrappedHandler:n})}var bl=Md;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ia=function(t,e){return ia=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},ia(t,e)};function Ae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ia(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ve=function(){return ve=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ve.apply(this,arguments)};function oa(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var $t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vi={};function Sd(t){var e,r,n=Vi[t];if(n)return n;for(n=Vi[t]=[],e=0;e<128;e++)r=String.fromCharCode(e),/^[0-9a-z]$/i.test(r)?n.push(r):n.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)n[t.charCodeAt(e)]=t[e];return n}function yn(t,e,r){var n,a,i,o,s,l="";for(typeof e!="string"&&(r=e,e=yn.defaultChars),typeof r>"u"&&(r=!0),s=Sd(e),n=0,a=t.length;n<a;n++){if(i=t.charCodeAt(n),r&&i===37&&n+2<a&&/^[0-9a-f]{2}$/i.test(t.slice(n+1,n+3))){l+=t.slice(n,n+3),n+=2;continue}if(i<128){l+=s[i];continue}if(i>=55296&&i<=57343){if(i>=55296&&i<=56319&&n+1<a&&(o=t.charCodeAt(n+1),o>=56320&&o<=57343)){l+=encodeURIComponent(t[n]+t[n+1]),n++;continue}l+="%EF%BF%BD";continue}l+=encodeURIComponent(t[n])}return l}yn.defaultChars=";/?:@&=+$,-_.!~*'()#";yn.componentChars="-_.!~*'()";var Od=yn,Ka={},Ye={},Dd="Á",Id="á",Nd="Ă",Rd="ă",Bd="∾",Pd="∿",Hd="∾̳",_d="Â",qd="â",$d="´",Fd="А",Ud="а",Vd="Æ",jd="æ",zd="⁡",Wd="𝔄",Gd="𝔞",Xd="À",Kd="à",Qd="ℵ",Yd="ℵ",Zd="Α",Jd="α",ep="Ā",tp="ā",rp="⨿",np="&",ap="&",ip="⩕",op="⩓",sp="∧",lp="⩜",up="⩘",cp="⩚",vp="∠",fp="⦤",dp="∠",pp="⦨",hp="⦩",mp="⦪",gp="⦫",yp="⦬",bp="⦭",wp="⦮",Cp="⦯",Tp="∡",kp="∟",Ep="⊾",Lp="⦝",xp="∢",Mp="Å",Ap="⍼",Sp="Ą",Op="ą",Dp="𝔸",Ip="𝕒",Np="⩯",Rp="≈",Bp="⩰",Pp="≊",Hp="≋",_p="'",qp="⁡",$p="≈",Fp="≊",Up="Å",Vp="å",jp="𝒜",zp="𝒶",Wp="≔",Gp="*",Xp="≈",Kp="≍",Qp="Ã",Yp="ã",Zp="Ä",Jp="ä",eh="∳",th="⨑",rh="≌",nh="϶",ah="‵",ih="∽",oh="⋍",sh="∖",lh="⫧",uh="⊽",ch="⌅",vh="⌆",fh="⌅",dh="⎵",ph="⎶",hh="≌",mh="Б",gh="б",yh="„",bh="∵",wh="∵",Ch="∵",Th="⦰",kh="϶",Eh="ℬ",Lh="ℬ",xh="Β",Mh="β",Ah="ℶ",Sh="≬",Oh="𝔅",Dh="𝔟",Ih="⋂",Nh="◯",Rh="⋃",Bh="⨀",Ph="⨁",Hh="⨂",_h="⨆",qh="★",$h="▽",Fh="△",Uh="⨄",Vh="⋁",jh="⋀",zh="⤍",Wh="⧫",Gh="▪",Xh="▴",Kh="▾",Qh="◂",Yh="▸",Zh="␣",Jh="▒",em="░",tm="▓",rm="█",nm="=⃥",am="≡⃥",im="⫭",om="⌐",sm="𝔹",lm="𝕓",um="⊥",cm="⊥",vm="⋈",fm="⧉",dm="┐",pm="╕",hm="╖",mm="╗",gm="┌",ym="╒",bm="╓",wm="╔",Cm="─",Tm="═",km="┬",Em="╤",Lm="╥",xm="╦",Mm="┴",Am="╧",Sm="╨",Om="╩",Dm="⊟",Im="⊞",Nm="⊠",Rm="┘",Bm="╛",Pm="╜",Hm="╝",_m="└",qm="╘",$m="╙",Fm="╚",Um="│",Vm="║",jm="┼",zm="╪",Wm="╫",Gm="╬",Xm="┤",Km="╡",Qm="╢",Ym="╣",Zm="├",Jm="╞",eg="╟",tg="╠",rg="‵",ng="˘",ag="˘",ig="¦",og="𝒷",sg="ℬ",lg="⁏",ug="∽",cg="⋍",vg="⧅",fg="\\",dg="⟈",pg="•",hg="•",mg="≎",gg="⪮",yg="≏",bg="≎",wg="≏",Cg="Ć",Tg="ć",kg="⩄",Eg="⩉",Lg="⩋",xg="∩",Mg="⋒",Ag="⩇",Sg="⩀",Og="ⅅ",Dg="∩︀",Ig="⁁",Ng="ˇ",Rg="ℭ",Bg="⩍",Pg="Č",Hg="č",_g="Ç",qg="ç",$g="Ĉ",Fg="ĉ",Ug="∰",Vg="⩌",jg="⩐",zg="Ċ",Wg="ċ",Gg="¸",Xg="¸",Kg="⦲",Qg="¢",Yg="·",Zg="·",Jg="𝔠",ey="ℭ",ty="Ч",ry="ч",ny="✓",ay="✓",iy="Χ",oy="χ",sy="ˆ",ly="≗",uy="↺",cy="↻",vy="⊛",fy="⊚",dy="⊝",py="⊙",hy="®",my="Ⓢ",gy="⊖",yy="⊕",by="⊗",wy="○",Cy="⧃",Ty="≗",ky="⨐",Ey="⫯",Ly="⧂",xy="∲",My="”",Ay="’",Sy="♣",Oy="♣",Dy=":",Iy="∷",Ny="⩴",Ry="≔",By="≔",Py=",",Hy="@",_y="∁",qy="∘",$y="∁",Fy="ℂ",Uy="≅",Vy="⩭",jy="≡",zy="∮",Wy="∯",Gy="∮",Xy="𝕔",Ky="ℂ",Qy="∐",Yy="∐",Zy="©",Jy="©",eb="℗",tb="∳",rb="↵",nb="✗",ab="⨯",ib="𝒞",ob="𝒸",sb="⫏",lb="⫑",ub="⫐",cb="⫒",vb="⋯",fb="⤸",db="⤵",pb="⋞",hb="⋟",mb="↶",gb="⤽",yb="⩈",bb="⩆",wb="≍",Cb="∪",Tb="⋓",kb="⩊",Eb="⊍",Lb="⩅",xb="∪︀",Mb="↷",Ab="⤼",Sb="⋞",Ob="⋟",Db="⋎",Ib="⋏",Nb="¤",Rb="↶",Bb="↷",Pb="⋎",Hb="⋏",_b="∲",qb="∱",$b="⌭",Fb="†",Ub="‡",Vb="ℸ",jb="↓",zb="↡",Wb="⇓",Gb="‐",Xb="⫤",Kb="⊣",Qb="⤏",Yb="˝",Zb="Ď",Jb="ď",ew="Д",tw="д",rw="‡",nw="⇊",aw="ⅅ",iw="ⅆ",ow="⤑",sw="⩷",lw="°",uw="∇",cw="Δ",vw="δ",fw="⦱",dw="⥿",pw="𝔇",hw="𝔡",mw="⥥",gw="⇃",yw="⇂",bw="´",ww="˙",Cw="˝",Tw="`",kw="˜",Ew="⋄",Lw="⋄",xw="⋄",Mw="♦",Aw="♦",Sw="¨",Ow="ⅆ",Dw="ϝ",Iw="⋲",Nw="÷",Rw="÷",Bw="⋇",Pw="⋇",Hw="Ђ",_w="ђ",qw="⌞",$w="⌍",Fw="$",Uw="𝔻",Vw="𝕕",jw="¨",zw="˙",Ww="⃜",Gw="≐",Xw="≑",Kw="≐",Qw="∸",Yw="∔",Zw="⊡",Jw="⌆",eC="∯",tC="¨",rC="⇓",nC="⇐",aC="⇔",iC="⫤",oC="⟸",sC="⟺",lC="⟹",uC="⇒",cC="⊨",vC="⇑",fC="⇕",dC="∥",pC="⤓",hC="↓",mC="↓",gC="⇓",yC="⇵",bC="̑",wC="⇊",CC="⇃",TC="⇂",kC="⥐",EC="⥞",LC="⥖",xC="↽",MC="⥟",AC="⥗",SC="⇁",OC="↧",DC="⊤",IC="⤐",NC="⌟",RC="⌌",BC="𝒟",PC="𝒹",HC="Ѕ",_C="ѕ",qC="⧶",$C="Đ",FC="đ",UC="⋱",VC="▿",jC="▾",zC="⇵",WC="⥯",GC="⦦",XC="Џ",KC="џ",QC="⟿",YC="É",ZC="é",JC="⩮",eT="Ě",tT="ě",rT="Ê",nT="ê",aT="≖",iT="≕",oT="Э",sT="э",lT="⩷",uT="Ė",cT="ė",vT="≑",fT="ⅇ",dT="≒",pT="𝔈",hT="𝔢",mT="⪚",gT="È",yT="è",bT="⪖",wT="⪘",CT="⪙",TT="∈",kT="⏧",ET="ℓ",LT="⪕",xT="⪗",MT="Ē",AT="ē",ST="∅",OT="∅",DT="◻",IT="∅",NT="▫",RT=" ",BT=" ",PT=" ",HT="Ŋ",_T="ŋ",qT=" ",$T="Ę",FT="ę",UT="𝔼",VT="𝕖",jT="⋕",zT="⧣",WT="⩱",GT="ε",XT="Ε",KT="ε",QT="ϵ",YT="≖",ZT="≕",JT="≂",ek="⪖",tk="⪕",rk="⩵",nk="=",ak="≂",ik="≟",ok="⇌",sk="≡",lk="⩸",uk="⧥",ck="⥱",vk="≓",fk="ℯ",dk="ℰ",pk="≐",hk="⩳",mk="≂",gk="Η",yk="η",bk="Ð",wk="ð",Ck="Ë",Tk="ë",kk="€",Ek="!",Lk="∃",xk="∃",Mk="ℰ",Ak="ⅇ",Sk="ⅇ",Ok="≒",Dk="Ф",Ik="ф",Nk="♀",Rk="ﬃ",Bk="ﬀ",Pk="ﬄ",Hk="𝔉",_k="𝔣",qk="ﬁ",$k="◼",Fk="▪",Uk="fj",Vk="♭",jk="ﬂ",zk="▱",Wk="ƒ",Gk="𝔽",Xk="𝕗",Kk="∀",Qk="∀",Yk="⋔",Zk="⫙",Jk="ℱ",eE="⨍",tE="½",rE="⅓",nE="¼",aE="⅕",iE="⅙",oE="⅛",sE="⅔",lE="⅖",uE="¾",cE="⅗",vE="⅜",fE="⅘",dE="⅚",pE="⅝",hE="⅞",mE="⁄",gE="⌢",yE="𝒻",bE="ℱ",wE="ǵ",CE="Γ",TE="γ",kE="Ϝ",EE="ϝ",LE="⪆",xE="Ğ",ME="ğ",AE="Ģ",SE="Ĝ",OE="ĝ",DE="Г",IE="г",NE="Ġ",RE="ġ",BE="≥",PE="≧",HE="⪌",_E="⋛",qE="≥",$E="≧",FE="⩾",UE="⪩",VE="⩾",jE="⪀",zE="⪂",WE="⪄",GE="⋛︀",XE="⪔",KE="𝔊",QE="𝔤",YE="≫",ZE="⋙",JE="⋙",eL="ℷ",tL="Ѓ",rL="ѓ",nL="⪥",aL="≷",iL="⪒",oL="⪤",sL="⪊",lL="⪊",uL="⪈",cL="≩",vL="⪈",fL="≩",dL="⋧",pL="𝔾",hL="𝕘",mL="`",gL="≥",yL="⋛",bL="≧",wL="⪢",CL="≷",TL="⩾",kL="≳",EL="𝒢",LL="ℊ",xL="≳",ML="⪎",AL="⪐",SL="⪧",OL="⩺",DL=">",IL=">",NL="≫",RL="⋗",BL="⦕",PL="⩼",HL="⪆",_L="⥸",qL="⋗",$L="⋛",FL="⪌",UL="≷",VL="≳",jL="≩︀",zL="≩︀",WL="ˇ",GL=" ",XL="½",KL="ℋ",QL="Ъ",YL="ъ",ZL="⥈",JL="↔",ex="⇔",tx="↭",rx="^",nx="ℏ",ax="Ĥ",ix="ĥ",ox="♥",sx="♥",lx="…",ux="⊹",cx="𝔥",vx="ℌ",fx="ℋ",dx="⤥",px="⤦",hx="⇿",mx="∻",gx="↩",yx="↪",bx="𝕙",wx="ℍ",Cx="―",Tx="─",kx="𝒽",Ex="ℋ",Lx="ℏ",xx="Ħ",Mx="ħ",Ax="≎",Sx="≏",Ox="⁃",Dx="‐",Ix="Í",Nx="í",Rx="⁣",Bx="Î",Px="î",Hx="И",_x="и",qx="İ",$x="Е",Fx="е",Ux="¡",Vx="⇔",jx="𝔦",zx="ℑ",Wx="Ì",Gx="ì",Xx="ⅈ",Kx="⨌",Qx="∭",Yx="⧜",Zx="℩",Jx="Ĳ",e1="ĳ",t1="Ī",r1="ī",n1="ℑ",a1="ⅈ",i1="ℐ",o1="ℑ",s1="ı",l1="ℑ",u1="⊷",c1="Ƶ",v1="⇒",f1="℅",d1="∞",p1="⧝",h1="ı",m1="⊺",g1="∫",y1="∬",b1="ℤ",w1="∫",C1="⊺",T1="⋂",k1="⨗",E1="⨼",L1="⁣",x1="⁢",M1="Ё",A1="ё",S1="Į",O1="į",D1="𝕀",I1="𝕚",N1="Ι",R1="ι",B1="⨼",P1="¿",H1="𝒾",_1="ℐ",q1="∈",$1="⋵",F1="⋹",U1="⋴",V1="⋳",j1="∈",z1="⁢",W1="Ĩ",G1="ĩ",X1="І",K1="і",Q1="Ï",Y1="ï",Z1="Ĵ",J1="ĵ",e0="Й",t0="й",r0="𝔍",n0="𝔧",a0="ȷ",i0="𝕁",o0="𝕛",s0="𝒥",l0="𝒿",u0="Ј",c0="ј",v0="Є",f0="є",d0="Κ",p0="κ",h0="ϰ",m0="Ķ",g0="ķ",y0="К",b0="к",w0="𝔎",C0="𝔨",T0="ĸ",k0="Х",E0="х",L0="Ќ",x0="ќ",M0="𝕂",A0="𝕜",S0="𝒦",O0="𝓀",D0="⇚",I0="Ĺ",N0="ĺ",R0="⦴",B0="ℒ",P0="Λ",H0="λ",_0="⟨",q0="⟪",$0="⦑",F0="⟨",U0="⪅",V0="ℒ",j0="«",z0="⇤",W0="⤟",G0="←",X0="↞",K0="⇐",Q0="⤝",Y0="↩",Z0="↫",J0="⤹",eM="⥳",tM="↢",rM="⤙",nM="⤛",aM="⪫",iM="⪭",oM="⪭︀",sM="⤌",lM="⤎",uM="❲",cM="{",vM="[",fM="⦋",dM="⦏",pM="⦍",hM="Ľ",mM="ľ",gM="Ļ",yM="ļ",bM="⌈",wM="{",CM="Л",TM="л",kM="⤶",EM="“",LM="„",xM="⥧",MM="⥋",AM="↲",SM="≤",OM="≦",DM="⟨",IM="⇤",NM="←",RM="←",BM="⇐",PM="⇆",HM="↢",_M="⌈",qM="⟦",$M="⥡",FM="⥙",UM="⇃",VM="⌊",jM="↽",zM="↼",WM="⇇",GM="↔",XM="↔",KM="⇔",QM="⇆",YM="⇋",ZM="↭",JM="⥎",eA="↤",tA="⊣",rA="⥚",nA="⋋",aA="⧏",iA="⊲",oA="⊴",sA="⥑",lA="⥠",uA="⥘",cA="↿",vA="⥒",fA="↼",dA="⪋",pA="⋚",hA="≤",mA="≦",gA="⩽",yA="⪨",bA="⩽",wA="⩿",CA="⪁",TA="⪃",kA="⋚︀",EA="⪓",LA="⪅",xA="⋖",MA="⋚",AA="⪋",SA="⋚",OA="≦",DA="≶",IA="≶",NA="⪡",RA="≲",BA="⩽",PA="≲",HA="⥼",_A="⌊",qA="𝔏",$A="𝔩",FA="≶",UA="⪑",VA="⥢",jA="↽",zA="↼",WA="⥪",GA="▄",XA="Љ",KA="љ",QA="⇇",YA="≪",ZA="⋘",JA="⌞",eS="⇚",tS="⥫",rS="◺",nS="Ŀ",aS="ŀ",iS="⎰",oS="⎰",sS="⪉",lS="⪉",uS="⪇",cS="≨",vS="⪇",fS="≨",dS="⋦",pS="⟬",hS="⇽",mS="⟦",gS="⟵",yS="⟵",bS="⟸",wS="⟷",CS="⟷",TS="⟺",kS="⟼",ES="⟶",LS="⟶",xS="⟹",MS="↫",AS="↬",SS="⦅",OS="𝕃",DS="𝕝",IS="⨭",NS="⨴",RS="∗",BS="_",PS="↙",HS="↘",_S="◊",qS="◊",$S="⧫",FS="(",US="⦓",VS="⇆",jS="⌟",zS="⇋",WS="⥭",GS="‎",XS="⊿",KS="‹",QS="𝓁",YS="ℒ",ZS="↰",JS="↰",eO="≲",tO="⪍",rO="⪏",nO="[",aO="‘",iO="‚",oO="Ł",sO="ł",lO="⪦",uO="⩹",cO="<",vO="<",fO="≪",dO="⋖",pO="⋋",hO="⋉",mO="⥶",gO="⩻",yO="◃",bO="⊴",wO="◂",CO="⦖",TO="⥊",kO="⥦",EO="≨︀",LO="≨︀",xO="¯",MO="♂",AO="✠",SO="✠",OO="↦",DO="↦",IO="↧",NO="↤",RO="↥",BO="▮",PO="⨩",HO="М",_O="м",qO="—",$O="∺",FO="∡",UO=" ",VO="ℳ",jO="𝔐",zO="𝔪",WO="℧",GO="µ",XO="*",KO="⫰",QO="∣",YO="·",ZO="⊟",JO="−",eD="∸",tD="⨪",rD="∓",nD="⫛",aD="…",iD="∓",oD="⊧",sD="𝕄",lD="𝕞",uD="∓",cD="𝓂",vD="ℳ",fD="∾",dD="Μ",pD="μ",hD="⊸",mD="⊸",gD="∇",yD="Ń",bD="ń",wD="∠⃒",CD="≉",TD="⩰̸",kD="≋̸",ED="ŉ",LD="≉",xD="♮",MD="ℕ",AD="♮",SD=" ",OD="≎̸",DD="≏̸",ID="⩃",ND="Ň",RD="ň",BD="Ņ",PD="ņ",HD="≇",_D="⩭̸",qD="⩂",$D="Н",FD="н",UD="–",VD="⤤",jD="↗",zD="⇗",WD="↗",GD="≠",XD="≐̸",KD="​",QD="​",YD="​",ZD="​",JD="≢",eI="⤨",tI="≂̸",rI="≫",nI="≪",aI=`
`,iI="∄",oI="∄",sI="𝔑",lI="𝔫",uI="≧̸",cI="≱",vI="≱",fI="≧̸",dI="⩾̸",pI="⩾̸",hI="⋙̸",mI="≵",gI="≫⃒",yI="≯",bI="≯",wI="≫̸",CI="↮",TI="⇎",kI="⫲",EI="∋",LI="⋼",xI="⋺",MI="∋",AI="Њ",SI="њ",OI="↚",DI="⇍",II="‥",NI="≦̸",RI="≰",BI="↚",PI="⇍",HI="↮",_I="⇎",qI="≰",$I="≦̸",FI="⩽̸",UI="⩽̸",VI="≮",jI="⋘̸",zI="≴",WI="≪⃒",GI="≮",XI="⋪",KI="⋬",QI="≪̸",YI="∤",ZI="⁠",JI=" ",eN="𝕟",tN="ℕ",rN="⫬",nN="¬",aN="≢",iN="≭",oN="∦",sN="∉",lN="≠",uN="≂̸",cN="∄",vN="≯",fN="≱",dN="≧̸",pN="≫̸",hN="≹",mN="⩾̸",gN="≵",yN="≎̸",bN="≏̸",wN="∉",CN="⋵̸",TN="⋹̸",kN="∉",EN="⋷",LN="⋶",xN="⧏̸",MN="⋪",AN="⋬",SN="≮",ON="≰",DN="≸",IN="≪̸",NN="⩽̸",RN="≴",BN="⪢̸",PN="⪡̸",HN="∌",_N="∌",qN="⋾",$N="⋽",FN="⊀",UN="⪯̸",VN="⋠",jN="∌",zN="⧐̸",WN="⋫",GN="⋭",XN="⊏̸",KN="⋢",QN="⊐̸",YN="⋣",ZN="⊂⃒",JN="⊈",eR="⊁",tR="⪰̸",rR="⋡",nR="≿̸",aR="⊃⃒",iR="⊉",oR="≁",sR="≄",lR="≇",uR="≉",cR="∤",vR="∦",fR="∦",dR="⫽⃥",pR="∂̸",hR="⨔",mR="⊀",gR="⋠",yR="⊀",bR="⪯̸",wR="⪯̸",CR="⤳̸",TR="↛",kR="⇏",ER="↝̸",LR="↛",xR="⇏",MR="⋫",AR="⋭",SR="⊁",OR="⋡",DR="⪰̸",IR="𝒩",NR="𝓃",RR="∤",BR="∦",PR="≁",HR="≄",_R="≄",qR="∤",$R="∦",FR="⋢",UR="⋣",VR="⊄",jR="⫅̸",zR="⊈",WR="⊂⃒",GR="⊈",XR="⫅̸",KR="⊁",QR="⪰̸",YR="⊅",ZR="⫆̸",JR="⊉",eB="⊃⃒",tB="⊉",rB="⫆̸",nB="≹",aB="Ñ",iB="ñ",oB="≸",sB="⋪",lB="⋬",uB="⋫",cB="⋭",vB="Ν",fB="ν",dB="#",pB="№",hB=" ",mB="≍⃒",gB="⊬",yB="⊭",bB="⊮",wB="⊯",CB="≥⃒",TB=">⃒",kB="⤄",EB="⧞",LB="⤂",xB="≤⃒",MB="<⃒",AB="⊴⃒",SB="⤃",OB="⊵⃒",DB="∼⃒",IB="⤣",NB="↖",RB="⇖",BB="↖",PB="⤧",HB="Ó",_B="ó",qB="⊛",$B="Ô",FB="ô",UB="⊚",VB="О",jB="о",zB="⊝",WB="Ő",GB="ő",XB="⨸",KB="⊙",QB="⦼",YB="Œ",ZB="œ",JB="⦿",eP="𝔒",tP="𝔬",rP="˛",nP="Ò",aP="ò",iP="⧁",oP="⦵",sP="Ω",lP="∮",uP="↺",cP="⦾",vP="⦻",fP="‾",dP="⧀",pP="Ō",hP="ō",mP="Ω",gP="ω",yP="Ο",bP="ο",wP="⦶",CP="⊖",TP="𝕆",kP="𝕠",EP="⦷",LP="“",xP="‘",MP="⦹",AP="⊕",SP="↻",OP="⩔",DP="∨",IP="⩝",NP="ℴ",RP="ℴ",BP="ª",PP="º",HP="⊶",_P="⩖",qP="⩗",$P="⩛",FP="Ⓢ",UP="𝒪",VP="ℴ",jP="Ø",zP="ø",WP="⊘",GP="Õ",XP="õ",KP="⨶",QP="⨷",YP="⊗",ZP="Ö",JP="ö",eH="⌽",tH="‾",rH="⏞",nH="⎴",aH="⏜",iH="¶",oH="∥",sH="∥",lH="⫳",uH="⫽",cH="∂",vH="∂",fH="П",dH="п",pH="%",hH=".",mH="‰",gH="⊥",yH="‱",bH="𝔓",wH="𝔭",CH="Φ",TH="φ",kH="ϕ",EH="ℳ",LH="☎",xH="Π",MH="π",AH="⋔",SH="ϖ",OH="ℏ",DH="ℎ",IH="ℏ",NH="⨣",RH="⊞",BH="⨢",PH="+",HH="∔",_H="⨥",qH="⩲",$H="±",FH="±",UH="⨦",VH="⨧",jH="±",zH="ℌ",WH="⨕",GH="𝕡",XH="ℙ",KH="£",QH="⪷",YH="⪻",ZH="≺",JH="≼",e_="⪷",t_="≺",r_="≼",n_="≺",a_="⪯",i_="≼",o_="≾",s_="⪯",l_="⪹",u_="⪵",c_="⋨",v_="⪯",f_="⪳",d_="≾",p_="′",h_="″",m_="ℙ",g_="⪹",y_="⪵",b_="⋨",w_="∏",C_="∏",T_="⌮",k_="⌒",E_="⌓",L_="∝",x_="∝",M_="∷",A_="∝",S_="≾",O_="⊰",D_="𝒫",I_="𝓅",N_="Ψ",R_="ψ",B_=" ",P_="𝔔",H_="𝔮",__="⨌",q_="𝕢",$_="ℚ",F_="⁗",U_="𝒬",V_="𝓆",j_="ℍ",z_="⨖",W_="?",G_="≟",X_='"',K_='"',Q_="⇛",Y_="∽̱",Z_="Ŕ",J_="ŕ",eq="√",tq="⦳",rq="⟩",nq="⟫",aq="⦒",iq="⦥",oq="⟩",sq="»",lq="⥵",uq="⇥",cq="⤠",vq="⤳",fq="→",dq="↠",pq="⇒",hq="⤞",mq="↪",gq="↬",yq="⥅",bq="⥴",wq="⤖",Cq="↣",Tq="↝",kq="⤚",Eq="⤜",Lq="∶",xq="ℚ",Mq="⤍",Aq="⤏",Sq="⤐",Oq="❳",Dq="}",Iq="]",Nq="⦌",Rq="⦎",Bq="⦐",Pq="Ř",Hq="ř",_q="Ŗ",qq="ŗ",$q="⌉",Fq="}",Uq="Р",Vq="р",jq="⤷",zq="⥩",Wq="”",Gq="”",Xq="↳",Kq="ℜ",Qq="ℛ",Yq="ℜ",Zq="ℝ",Jq="ℜ",e$="▭",t$="®",r$="®",n$="∋",a$="⇋",i$="⥯",o$="⥽",s$="⌋",l$="𝔯",u$="ℜ",c$="⥤",v$="⇁",f$="⇀",d$="⥬",p$="Ρ",h$="ρ",m$="ϱ",g$="⟩",y$="⇥",b$="→",w$="→",C$="⇒",T$="⇄",k$="↣",E$="⌉",L$="⟧",x$="⥝",M$="⥕",A$="⇂",S$="⌋",O$="⇁",D$="⇀",I$="⇄",N$="⇌",R$="⇉",B$="↝",P$="↦",H$="⊢",_$="⥛",q$="⋌",$$="⧐",F$="⊳",U$="⊵",V$="⥏",j$="⥜",z$="⥔",W$="↾",G$="⥓",X$="⇀",K$="˚",Q$="≓",Y$="⇄",Z$="⇌",J$="‏",eF="⎱",tF="⎱",rF="⫮",nF="⟭",aF="⇾",iF="⟧",oF="⦆",sF="𝕣",lF="ℝ",uF="⨮",cF="⨵",vF="⥰",fF=")",dF="⦔",pF="⨒",hF="⇉",mF="⇛",gF="›",yF="𝓇",bF="ℛ",wF="↱",CF="↱",TF="]",kF="’",EF="’",LF="⋌",xF="⋊",MF="▹",AF="⊵",SF="▸",OF="⧎",DF="⧴",IF="⥨",NF="℞",RF="Ś",BF="ś",PF="‚",HF="⪸",_F="Š",qF="š",$F="⪼",FF="≻",UF="≽",VF="⪰",jF="⪴",zF="Ş",WF="ş",GF="Ŝ",XF="ŝ",KF="⪺",QF="⪶",YF="⋩",ZF="⨓",JF="≿",eU="С",tU="с",rU="⊡",nU="⋅",aU="⩦",iU="⤥",oU="↘",sU="⇘",lU="↘",uU="§",cU=";",vU="⤩",fU="∖",dU="∖",pU="✶",hU="𝔖",mU="𝔰",gU="⌢",yU="♯",bU="Щ",wU="щ",CU="Ш",TU="ш",kU="↓",EU="←",LU="∣",xU="∥",MU="→",AU="↑",SU="­",OU="Σ",DU="σ",IU="ς",NU="ς",RU="∼",BU="⩪",PU="≃",HU="≃",_U="⪞",qU="⪠",$U="⪝",FU="⪟",UU="≆",VU="⨤",jU="⥲",zU="←",WU="∘",GU="∖",XU="⨳",KU="⧤",QU="∣",YU="⌣",ZU="⪪",JU="⪬",e2="⪬︀",t2="Ь",r2="ь",n2="⌿",a2="⧄",i2="/",o2="𝕊",s2="𝕤",l2="♠",u2="♠",c2="∥",v2="⊓",f2="⊓︀",d2="⊔",p2="⊔︀",h2="√",m2="⊏",g2="⊑",y2="⊏",b2="⊑",w2="⊐",C2="⊒",T2="⊐",k2="⊒",E2="□",L2="□",x2="⊓",M2="⊏",A2="⊑",S2="⊐",O2="⊒",D2="⊔",I2="▪",N2="□",R2="▪",B2="→",P2="𝒮",H2="𝓈",_2="∖",q2="⌣",$2="⋆",F2="⋆",U2="☆",V2="★",j2="ϵ",z2="ϕ",W2="¯",G2="⊂",X2="⋐",K2="⪽",Q2="⫅",Y2="⊆",Z2="⫃",J2="⫁",eV="⫋",tV="⊊",rV="⪿",nV="⥹",aV="⊂",iV="⋐",oV="⊆",sV="⫅",lV="⊆",uV="⊊",cV="⫋",vV="⫇",fV="⫕",dV="⫓",pV="⪸",hV="≻",mV="≽",gV="≻",yV="⪰",bV="≽",wV="≿",CV="⪰",TV="⪺",kV="⪶",EV="⋩",LV="≿",xV="∋",MV="∑",AV="∑",SV="♪",OV="¹",DV="²",IV="³",NV="⊃",RV="⋑",BV="⪾",PV="⫘",HV="⫆",_V="⊇",qV="⫄",$V="⊃",FV="⊇",UV="⟉",VV="⫗",jV="⥻",zV="⫂",WV="⫌",GV="⊋",XV="⫀",KV="⊃",QV="⋑",YV="⊇",ZV="⫆",JV="⊋",ej="⫌",tj="⫈",rj="⫔",nj="⫖",aj="⤦",ij="↙",oj="⇙",sj="↙",lj="⤪",uj="ß",cj="	",vj="⌖",fj="Τ",dj="τ",pj="⎴",hj="Ť",mj="ť",gj="Ţ",yj="ţ",bj="Т",wj="т",Cj="⃛",Tj="⌕",kj="𝔗",Ej="𝔱",Lj="∴",xj="∴",Mj="∴",Aj="Θ",Sj="θ",Oj="ϑ",Dj="ϑ",Ij="≈",Nj="∼",Rj="  ",Bj=" ",Pj=" ",Hj="≈",_j="∼",qj="Þ",$j="þ",Fj="˜",Uj="∼",Vj="≃",jj="≅",zj="≈",Wj="⨱",Gj="⊠",Xj="×",Kj="⨰",Qj="∭",Yj="⤨",Zj="⌶",Jj="⫱",ez="⊤",tz="𝕋",rz="𝕥",nz="⫚",az="⤩",iz="‴",oz="™",sz="™",lz="▵",uz="▿",cz="◃",vz="⊴",fz="≜",dz="▹",pz="⊵",hz="◬",mz="≜",gz="⨺",yz="⃛",bz="⨹",wz="⧍",Cz="⨻",Tz="⏢",kz="𝒯",Ez="𝓉",Lz="Ц",xz="ц",Mz="Ћ",Az="ћ",Sz="Ŧ",Oz="ŧ",Dz="≬",Iz="↞",Nz="↠",Rz="Ú",Bz="ú",Pz="↑",Hz="↟",_z="⇑",qz="⥉",$z="Ў",Fz="ў",Uz="Ŭ",Vz="ŭ",jz="Û",zz="û",Wz="У",Gz="у",Xz="⇅",Kz="Ű",Qz="ű",Yz="⥮",Zz="⥾",Jz="𝔘",eW="𝔲",tW="Ù",rW="ù",nW="⥣",aW="↿",iW="↾",oW="▀",sW="⌜",lW="⌜",uW="⌏",cW="◸",vW="Ū",fW="ū",dW="¨",pW="_",hW="⏟",mW="⎵",gW="⏝",yW="⋃",bW="⊎",wW="Ų",CW="ų",TW="𝕌",kW="𝕦",EW="⤒",LW="↑",xW="↑",MW="⇑",AW="⇅",SW="↕",OW="↕",DW="⇕",IW="⥮",NW="↿",RW="↾",BW="⊎",PW="↖",HW="↗",_W="υ",qW="ϒ",$W="ϒ",FW="Υ",UW="υ",VW="↥",jW="⊥",zW="⇈",WW="⌝",GW="⌝",XW="⌎",KW="Ů",QW="ů",YW="◹",ZW="𝒰",JW="𝓊",e3="⋰",t3="Ũ",r3="ũ",n3="▵",a3="▴",i3="⇈",o3="Ü",s3="ü",l3="⦧",u3="⦜",c3="ϵ",v3="ϰ",f3="∅",d3="ϕ",p3="ϖ",h3="∝",m3="↕",g3="⇕",y3="ϱ",b3="ς",w3="⊊︀",C3="⫋︀",T3="⊋︀",k3="⫌︀",E3="ϑ",L3="⊲",x3="⊳",M3="⫨",A3="⫫",S3="⫩",O3="В",D3="в",I3="⊢",N3="⊨",R3="⊩",B3="⊫",P3="⫦",H3="⊻",_3="∨",q3="⋁",$3="≚",F3="⋮",U3="|",V3="‖",j3="|",z3="‖",W3="∣",G3="|",X3="❘",K3="≀",Q3=" ",Y3="𝔙",Z3="𝔳",J3="⊲",eG="⊂⃒",tG="⊃⃒",rG="𝕍",nG="𝕧",aG="∝",iG="⊳",oG="𝒱",sG="𝓋",lG="⫋︀",uG="⊊︀",cG="⫌︀",vG="⊋︀",fG="⊪",dG="⦚",pG="Ŵ",hG="ŵ",mG="⩟",gG="∧",yG="⋀",bG="≙",wG="℘",CG="𝔚",TG="𝔴",kG="𝕎",EG="𝕨",LG="℘",xG="≀",MG="≀",AG="𝒲",SG="𝓌",OG="⋂",DG="◯",IG="⋃",NG="▽",RG="𝔛",BG="𝔵",PG="⟷",HG="⟺",_G="Ξ",qG="ξ",$G="⟵",FG="⟸",UG="⟼",VG="⋻",jG="⨀",zG="𝕏",WG="𝕩",GG="⨁",XG="⨂",KG="⟶",QG="⟹",YG="𝒳",ZG="𝓍",JG="⨆",e4="⨄",t4="△",r4="⋁",n4="⋀",a4="Ý",i4="ý",o4="Я",s4="я",l4="Ŷ",u4="ŷ",c4="Ы",v4="ы",f4="¥",d4="𝔜",p4="𝔶",h4="Ї",m4="ї",g4="𝕐",y4="𝕪",b4="𝒴",w4="𝓎",C4="Ю",T4="ю",k4="ÿ",E4="Ÿ",L4="Ź",x4="ź",M4="Ž",A4="ž",S4="З",O4="з",D4="Ż",I4="ż",N4="ℨ",R4="​",B4="Ζ",P4="ζ",H4="𝔷",_4="ℨ",q4="Ж",$4="ж",F4="⇝",U4="𝕫",V4="ℤ",j4="𝒵",z4="𝓏",W4="‍",G4="‌",wl={Aacute:Dd,aacute:Id,Abreve:Nd,abreve:Rd,ac:Bd,acd:Pd,acE:Hd,Acirc:_d,acirc:qd,acute:$d,Acy:Fd,acy:Ud,AElig:Vd,aelig:jd,af:zd,Afr:Wd,afr:Gd,Agrave:Xd,agrave:Kd,alefsym:Qd,aleph:Yd,Alpha:Zd,alpha:Jd,Amacr:ep,amacr:tp,amalg:rp,amp:np,AMP:ap,andand:ip,And:op,and:sp,andd:lp,andslope:up,andv:cp,ang:vp,ange:fp,angle:dp,angmsdaa:pp,angmsdab:hp,angmsdac:mp,angmsdad:gp,angmsdae:yp,angmsdaf:bp,angmsdag:wp,angmsdah:Cp,angmsd:Tp,angrt:kp,angrtvb:Ep,angrtvbd:Lp,angsph:xp,angst:Mp,angzarr:Ap,Aogon:Sp,aogon:Op,Aopf:Dp,aopf:Ip,apacir:Np,ap:Rp,apE:Bp,ape:Pp,apid:Hp,apos:_p,ApplyFunction:qp,approx:$p,approxeq:Fp,Aring:Up,aring:Vp,Ascr:jp,ascr:zp,Assign:Wp,ast:Gp,asymp:Xp,asympeq:Kp,Atilde:Qp,atilde:Yp,Auml:Zp,auml:Jp,awconint:eh,awint:th,backcong:rh,backepsilon:nh,backprime:ah,backsim:ih,backsimeq:oh,Backslash:sh,Barv:lh,barvee:uh,barwed:ch,Barwed:vh,barwedge:fh,bbrk:dh,bbrktbrk:ph,bcong:hh,Bcy:mh,bcy:gh,bdquo:yh,becaus:bh,because:wh,Because:Ch,bemptyv:Th,bepsi:kh,bernou:Eh,Bernoullis:Lh,Beta:xh,beta:Mh,beth:Ah,between:Sh,Bfr:Oh,bfr:Dh,bigcap:Ih,bigcirc:Nh,bigcup:Rh,bigodot:Bh,bigoplus:Ph,bigotimes:Hh,bigsqcup:_h,bigstar:qh,bigtriangledown:$h,bigtriangleup:Fh,biguplus:Uh,bigvee:Vh,bigwedge:jh,bkarow:zh,blacklozenge:Wh,blacksquare:Gh,blacktriangle:Xh,blacktriangledown:Kh,blacktriangleleft:Qh,blacktriangleright:Yh,blank:Zh,blk12:Jh,blk14:em,blk34:tm,block:rm,bne:nm,bnequiv:am,bNot:im,bnot:om,Bopf:sm,bopf:lm,bot:um,bottom:cm,bowtie:vm,boxbox:fm,boxdl:dm,boxdL:pm,boxDl:hm,boxDL:mm,boxdr:gm,boxdR:ym,boxDr:bm,boxDR:wm,boxh:Cm,boxH:Tm,boxhd:km,boxHd:Em,boxhD:Lm,boxHD:xm,boxhu:Mm,boxHu:Am,boxhU:Sm,boxHU:Om,boxminus:Dm,boxplus:Im,boxtimes:Nm,boxul:Rm,boxuL:Bm,boxUl:Pm,boxUL:Hm,boxur:_m,boxuR:qm,boxUr:$m,boxUR:Fm,boxv:Um,boxV:Vm,boxvh:jm,boxvH:zm,boxVh:Wm,boxVH:Gm,boxvl:Xm,boxvL:Km,boxVl:Qm,boxVL:Ym,boxvr:Zm,boxvR:Jm,boxVr:eg,boxVR:tg,bprime:rg,breve:ng,Breve:ag,brvbar:ig,bscr:og,Bscr:sg,bsemi:lg,bsim:ug,bsime:cg,bsolb:vg,bsol:fg,bsolhsub:dg,bull:pg,bullet:hg,bump:mg,bumpE:gg,bumpe:yg,Bumpeq:bg,bumpeq:wg,Cacute:Cg,cacute:Tg,capand:kg,capbrcup:Eg,capcap:Lg,cap:xg,Cap:Mg,capcup:Ag,capdot:Sg,CapitalDifferentialD:Og,caps:Dg,caret:Ig,caron:Ng,Cayleys:Rg,ccaps:Bg,Ccaron:Pg,ccaron:Hg,Ccedil:_g,ccedil:qg,Ccirc:$g,ccirc:Fg,Cconint:Ug,ccups:Vg,ccupssm:jg,Cdot:zg,cdot:Wg,cedil:Gg,Cedilla:Xg,cemptyv:Kg,cent:Qg,centerdot:Yg,CenterDot:Zg,cfr:Jg,Cfr:ey,CHcy:ty,chcy:ry,check:ny,checkmark:ay,Chi:iy,chi:oy,circ:sy,circeq:ly,circlearrowleft:uy,circlearrowright:cy,circledast:vy,circledcirc:fy,circleddash:dy,CircleDot:py,circledR:hy,circledS:my,CircleMinus:gy,CirclePlus:yy,CircleTimes:by,cir:wy,cirE:Cy,cire:Ty,cirfnint:ky,cirmid:Ey,cirscir:Ly,ClockwiseContourIntegral:xy,CloseCurlyDoubleQuote:My,CloseCurlyQuote:Ay,clubs:Sy,clubsuit:Oy,colon:Dy,Colon:Iy,Colone:Ny,colone:Ry,coloneq:By,comma:Py,commat:Hy,comp:_y,compfn:qy,complement:$y,complexes:Fy,cong:Uy,congdot:Vy,Congruent:jy,conint:zy,Conint:Wy,ContourIntegral:Gy,copf:Xy,Copf:Ky,coprod:Qy,Coproduct:Yy,copy:Zy,COPY:Jy,copysr:eb,CounterClockwiseContourIntegral:tb,crarr:rb,cross:nb,Cross:ab,Cscr:ib,cscr:ob,csub:sb,csube:lb,csup:ub,csupe:cb,ctdot:vb,cudarrl:fb,cudarrr:db,cuepr:pb,cuesc:hb,cularr:mb,cularrp:gb,cupbrcap:yb,cupcap:bb,CupCap:wb,cup:Cb,Cup:Tb,cupcup:kb,cupdot:Eb,cupor:Lb,cups:xb,curarr:Mb,curarrm:Ab,curlyeqprec:Sb,curlyeqsucc:Ob,curlyvee:Db,curlywedge:Ib,curren:Nb,curvearrowleft:Rb,curvearrowright:Bb,cuvee:Pb,cuwed:Hb,cwconint:_b,cwint:qb,cylcty:$b,dagger:Fb,Dagger:Ub,daleth:Vb,darr:jb,Darr:zb,dArr:Wb,dash:Gb,Dashv:Xb,dashv:Kb,dbkarow:Qb,dblac:Yb,Dcaron:Zb,dcaron:Jb,Dcy:ew,dcy:tw,ddagger:rw,ddarr:nw,DD:aw,dd:iw,DDotrahd:ow,ddotseq:sw,deg:lw,Del:uw,Delta:cw,delta:vw,demptyv:fw,dfisht:dw,Dfr:pw,dfr:hw,dHar:mw,dharl:gw,dharr:yw,DiacriticalAcute:bw,DiacriticalDot:ww,DiacriticalDoubleAcute:Cw,DiacriticalGrave:Tw,DiacriticalTilde:kw,diam:Ew,diamond:Lw,Diamond:xw,diamondsuit:Mw,diams:Aw,die:Sw,DifferentialD:Ow,digamma:Dw,disin:Iw,div:Nw,divide:Rw,divideontimes:Bw,divonx:Pw,DJcy:Hw,djcy:_w,dlcorn:qw,dlcrop:$w,dollar:Fw,Dopf:Uw,dopf:Vw,Dot:jw,dot:zw,DotDot:Ww,doteq:Gw,doteqdot:Xw,DotEqual:Kw,dotminus:Qw,dotplus:Yw,dotsquare:Zw,doublebarwedge:Jw,DoubleContourIntegral:eC,DoubleDot:tC,DoubleDownArrow:rC,DoubleLeftArrow:nC,DoubleLeftRightArrow:aC,DoubleLeftTee:iC,DoubleLongLeftArrow:oC,DoubleLongLeftRightArrow:sC,DoubleLongRightArrow:lC,DoubleRightArrow:uC,DoubleRightTee:cC,DoubleUpArrow:vC,DoubleUpDownArrow:fC,DoubleVerticalBar:dC,DownArrowBar:pC,downarrow:hC,DownArrow:mC,Downarrow:gC,DownArrowUpArrow:yC,DownBreve:bC,downdownarrows:wC,downharpoonleft:CC,downharpoonright:TC,DownLeftRightVector:kC,DownLeftTeeVector:EC,DownLeftVectorBar:LC,DownLeftVector:xC,DownRightTeeVector:MC,DownRightVectorBar:AC,DownRightVector:SC,DownTeeArrow:OC,DownTee:DC,drbkarow:IC,drcorn:NC,drcrop:RC,Dscr:BC,dscr:PC,DScy:HC,dscy:_C,dsol:qC,Dstrok:$C,dstrok:FC,dtdot:UC,dtri:VC,dtrif:jC,duarr:zC,duhar:WC,dwangle:GC,DZcy:XC,dzcy:KC,dzigrarr:QC,Eacute:YC,eacute:ZC,easter:JC,Ecaron:eT,ecaron:tT,Ecirc:rT,ecirc:nT,ecir:aT,ecolon:iT,Ecy:oT,ecy:sT,eDDot:lT,Edot:uT,edot:cT,eDot:vT,ee:fT,efDot:dT,Efr:pT,efr:hT,eg:mT,Egrave:gT,egrave:yT,egs:bT,egsdot:wT,el:CT,Element:TT,elinters:kT,ell:ET,els:LT,elsdot:xT,Emacr:MT,emacr:AT,empty:ST,emptyset:OT,EmptySmallSquare:DT,emptyv:IT,EmptyVerySmallSquare:NT,emsp13:RT,emsp14:BT,emsp:PT,ENG:HT,eng:_T,ensp:qT,Eogon:$T,eogon:FT,Eopf:UT,eopf:VT,epar:jT,eparsl:zT,eplus:WT,epsi:GT,Epsilon:XT,epsilon:KT,epsiv:QT,eqcirc:YT,eqcolon:ZT,eqsim:JT,eqslantgtr:ek,eqslantless:tk,Equal:rk,equals:nk,EqualTilde:ak,equest:ik,Equilibrium:ok,equiv:sk,equivDD:lk,eqvparsl:uk,erarr:ck,erDot:vk,escr:fk,Escr:dk,esdot:pk,Esim:hk,esim:mk,Eta:gk,eta:yk,ETH:bk,eth:wk,Euml:Ck,euml:Tk,euro:kk,excl:Ek,exist:Lk,Exists:xk,expectation:Mk,exponentiale:Ak,ExponentialE:Sk,fallingdotseq:Ok,Fcy:Dk,fcy:Ik,female:Nk,ffilig:Rk,fflig:Bk,ffllig:Pk,Ffr:Hk,ffr:_k,filig:qk,FilledSmallSquare:$k,FilledVerySmallSquare:Fk,fjlig:Uk,flat:Vk,fllig:jk,fltns:zk,fnof:Wk,Fopf:Gk,fopf:Xk,forall:Kk,ForAll:Qk,fork:Yk,forkv:Zk,Fouriertrf:Jk,fpartint:eE,frac12:tE,frac13:rE,frac14:nE,frac15:aE,frac16:iE,frac18:oE,frac23:sE,frac25:lE,frac34:uE,frac35:cE,frac38:vE,frac45:fE,frac56:dE,frac58:pE,frac78:hE,frasl:mE,frown:gE,fscr:yE,Fscr:bE,gacute:wE,Gamma:CE,gamma:TE,Gammad:kE,gammad:EE,gap:LE,Gbreve:xE,gbreve:ME,Gcedil:AE,Gcirc:SE,gcirc:OE,Gcy:DE,gcy:IE,Gdot:NE,gdot:RE,ge:BE,gE:PE,gEl:HE,gel:_E,geq:qE,geqq:$E,geqslant:FE,gescc:UE,ges:VE,gesdot:jE,gesdoto:zE,gesdotol:WE,gesl:GE,gesles:XE,Gfr:KE,gfr:QE,gg:YE,Gg:ZE,ggg:JE,gimel:eL,GJcy:tL,gjcy:rL,gla:nL,gl:aL,glE:iL,glj:oL,gnap:sL,gnapprox:lL,gne:uL,gnE:cL,gneq:vL,gneqq:fL,gnsim:dL,Gopf:pL,gopf:hL,grave:mL,GreaterEqual:gL,GreaterEqualLess:yL,GreaterFullEqual:bL,GreaterGreater:wL,GreaterLess:CL,GreaterSlantEqual:TL,GreaterTilde:kL,Gscr:EL,gscr:LL,gsim:xL,gsime:ML,gsiml:AL,gtcc:SL,gtcir:OL,gt:DL,GT:IL,Gt:NL,gtdot:RL,gtlPar:BL,gtquest:PL,gtrapprox:HL,gtrarr:_L,gtrdot:qL,gtreqless:$L,gtreqqless:FL,gtrless:UL,gtrsim:VL,gvertneqq:jL,gvnE:zL,Hacek:WL,hairsp:GL,half:XL,hamilt:KL,HARDcy:QL,hardcy:YL,harrcir:ZL,harr:JL,hArr:ex,harrw:tx,Hat:rx,hbar:nx,Hcirc:ax,hcirc:ix,hearts:ox,heartsuit:sx,hellip:lx,hercon:ux,hfr:cx,Hfr:vx,HilbertSpace:fx,hksearow:dx,hkswarow:px,hoarr:hx,homtht:mx,hookleftarrow:gx,hookrightarrow:yx,hopf:bx,Hopf:wx,horbar:Cx,HorizontalLine:Tx,hscr:kx,Hscr:Ex,hslash:Lx,Hstrok:xx,hstrok:Mx,HumpDownHump:Ax,HumpEqual:Sx,hybull:Ox,hyphen:Dx,Iacute:Ix,iacute:Nx,ic:Rx,Icirc:Bx,icirc:Px,Icy:Hx,icy:_x,Idot:qx,IEcy:$x,iecy:Fx,iexcl:Ux,iff:Vx,ifr:jx,Ifr:zx,Igrave:Wx,igrave:Gx,ii:Xx,iiiint:Kx,iiint:Qx,iinfin:Yx,iiota:Zx,IJlig:Jx,ijlig:e1,Imacr:t1,imacr:r1,image:n1,ImaginaryI:a1,imagline:i1,imagpart:o1,imath:s1,Im:l1,imof:u1,imped:c1,Implies:v1,incare:f1,in:"∈",infin:d1,infintie:p1,inodot:h1,intcal:m1,int:g1,Int:y1,integers:b1,Integral:w1,intercal:C1,Intersection:T1,intlarhk:k1,intprod:E1,InvisibleComma:L1,InvisibleTimes:x1,IOcy:M1,iocy:A1,Iogon:S1,iogon:O1,Iopf:D1,iopf:I1,Iota:N1,iota:R1,iprod:B1,iquest:P1,iscr:H1,Iscr:_1,isin:q1,isindot:$1,isinE:F1,isins:U1,isinsv:V1,isinv:j1,it:z1,Itilde:W1,itilde:G1,Iukcy:X1,iukcy:K1,Iuml:Q1,iuml:Y1,Jcirc:Z1,jcirc:J1,Jcy:e0,jcy:t0,Jfr:r0,jfr:n0,jmath:a0,Jopf:i0,jopf:o0,Jscr:s0,jscr:l0,Jsercy:u0,jsercy:c0,Jukcy:v0,jukcy:f0,Kappa:d0,kappa:p0,kappav:h0,Kcedil:m0,kcedil:g0,Kcy:y0,kcy:b0,Kfr:w0,kfr:C0,kgreen:T0,KHcy:k0,khcy:E0,KJcy:L0,kjcy:x0,Kopf:M0,kopf:A0,Kscr:S0,kscr:O0,lAarr:D0,Lacute:I0,lacute:N0,laemptyv:R0,lagran:B0,Lambda:P0,lambda:H0,lang:_0,Lang:q0,langd:$0,langle:F0,lap:U0,Laplacetrf:V0,laquo:j0,larrb:z0,larrbfs:W0,larr:G0,Larr:X0,lArr:K0,larrfs:Q0,larrhk:Y0,larrlp:Z0,larrpl:J0,larrsim:eM,larrtl:tM,latail:rM,lAtail:nM,lat:aM,late:iM,lates:oM,lbarr:sM,lBarr:lM,lbbrk:uM,lbrace:cM,lbrack:vM,lbrke:fM,lbrksld:dM,lbrkslu:pM,Lcaron:hM,lcaron:mM,Lcedil:gM,lcedil:yM,lceil:bM,lcub:wM,Lcy:CM,lcy:TM,ldca:kM,ldquo:EM,ldquor:LM,ldrdhar:xM,ldrushar:MM,ldsh:AM,le:SM,lE:OM,LeftAngleBracket:DM,LeftArrowBar:IM,leftarrow:NM,LeftArrow:RM,Leftarrow:BM,LeftArrowRightArrow:PM,leftarrowtail:HM,LeftCeiling:_M,LeftDoubleBracket:qM,LeftDownTeeVector:$M,LeftDownVectorBar:FM,LeftDownVector:UM,LeftFloor:VM,leftharpoondown:jM,leftharpoonup:zM,leftleftarrows:WM,leftrightarrow:GM,LeftRightArrow:XM,Leftrightarrow:KM,leftrightarrows:QM,leftrightharpoons:YM,leftrightsquigarrow:ZM,LeftRightVector:JM,LeftTeeArrow:eA,LeftTee:tA,LeftTeeVector:rA,leftthreetimes:nA,LeftTriangleBar:aA,LeftTriangle:iA,LeftTriangleEqual:oA,LeftUpDownVector:sA,LeftUpTeeVector:lA,LeftUpVectorBar:uA,LeftUpVector:cA,LeftVectorBar:vA,LeftVector:fA,lEg:dA,leg:pA,leq:hA,leqq:mA,leqslant:gA,lescc:yA,les:bA,lesdot:wA,lesdoto:CA,lesdotor:TA,lesg:kA,lesges:EA,lessapprox:LA,lessdot:xA,lesseqgtr:MA,lesseqqgtr:AA,LessEqualGreater:SA,LessFullEqual:OA,LessGreater:DA,lessgtr:IA,LessLess:NA,lesssim:RA,LessSlantEqual:BA,LessTilde:PA,lfisht:HA,lfloor:_A,Lfr:qA,lfr:$A,lg:FA,lgE:UA,lHar:VA,lhard:jA,lharu:zA,lharul:WA,lhblk:GA,LJcy:XA,ljcy:KA,llarr:QA,ll:YA,Ll:ZA,llcorner:JA,Lleftarrow:eS,llhard:tS,lltri:rS,Lmidot:nS,lmidot:aS,lmoustache:iS,lmoust:oS,lnap:sS,lnapprox:lS,lne:uS,lnE:cS,lneq:vS,lneqq:fS,lnsim:dS,loang:pS,loarr:hS,lobrk:mS,longleftarrow:gS,LongLeftArrow:yS,Longleftarrow:bS,longleftrightarrow:wS,LongLeftRightArrow:CS,Longleftrightarrow:TS,longmapsto:kS,longrightarrow:ES,LongRightArrow:LS,Longrightarrow:xS,looparrowleft:MS,looparrowright:AS,lopar:SS,Lopf:OS,lopf:DS,loplus:IS,lotimes:NS,lowast:RS,lowbar:BS,LowerLeftArrow:PS,LowerRightArrow:HS,loz:_S,lozenge:qS,lozf:$S,lpar:FS,lparlt:US,lrarr:VS,lrcorner:jS,lrhar:zS,lrhard:WS,lrm:GS,lrtri:XS,lsaquo:KS,lscr:QS,Lscr:YS,lsh:ZS,Lsh:JS,lsim:eO,lsime:tO,lsimg:rO,lsqb:nO,lsquo:aO,lsquor:iO,Lstrok:oO,lstrok:sO,ltcc:lO,ltcir:uO,lt:cO,LT:vO,Lt:fO,ltdot:dO,lthree:pO,ltimes:hO,ltlarr:mO,ltquest:gO,ltri:yO,ltrie:bO,ltrif:wO,ltrPar:CO,lurdshar:TO,luruhar:kO,lvertneqq:EO,lvnE:LO,macr:xO,male:MO,malt:AO,maltese:SO,Map:"⤅",map:OO,mapsto:DO,mapstodown:IO,mapstoleft:NO,mapstoup:RO,marker:BO,mcomma:PO,Mcy:HO,mcy:_O,mdash:qO,mDDot:$O,measuredangle:FO,MediumSpace:UO,Mellintrf:VO,Mfr:jO,mfr:zO,mho:WO,micro:GO,midast:XO,midcir:KO,mid:QO,middot:YO,minusb:ZO,minus:JO,minusd:eD,minusdu:tD,MinusPlus:rD,mlcp:nD,mldr:aD,mnplus:iD,models:oD,Mopf:sD,mopf:lD,mp:uD,mscr:cD,Mscr:vD,mstpos:fD,Mu:dD,mu:pD,multimap:hD,mumap:mD,nabla:gD,Nacute:yD,nacute:bD,nang:wD,nap:CD,napE:TD,napid:kD,napos:ED,napprox:LD,natural:xD,naturals:MD,natur:AD,nbsp:SD,nbump:OD,nbumpe:DD,ncap:ID,Ncaron:ND,ncaron:RD,Ncedil:BD,ncedil:PD,ncong:HD,ncongdot:_D,ncup:qD,Ncy:$D,ncy:FD,ndash:UD,nearhk:VD,nearr:jD,neArr:zD,nearrow:WD,ne:GD,nedot:XD,NegativeMediumSpace:KD,NegativeThickSpace:QD,NegativeThinSpace:YD,NegativeVeryThinSpace:ZD,nequiv:JD,nesear:eI,nesim:tI,NestedGreaterGreater:rI,NestedLessLess:nI,NewLine:aI,nexist:iI,nexists:oI,Nfr:sI,nfr:lI,ngE:uI,nge:cI,ngeq:vI,ngeqq:fI,ngeqslant:dI,nges:pI,nGg:hI,ngsim:mI,nGt:gI,ngt:yI,ngtr:bI,nGtv:wI,nharr:CI,nhArr:TI,nhpar:kI,ni:EI,nis:LI,nisd:xI,niv:MI,NJcy:AI,njcy:SI,nlarr:OI,nlArr:DI,nldr:II,nlE:NI,nle:RI,nleftarrow:BI,nLeftarrow:PI,nleftrightarrow:HI,nLeftrightarrow:_I,nleq:qI,nleqq:$I,nleqslant:FI,nles:UI,nless:VI,nLl:jI,nlsim:zI,nLt:WI,nlt:GI,nltri:XI,nltrie:KI,nLtv:QI,nmid:YI,NoBreak:ZI,NonBreakingSpace:JI,nopf:eN,Nopf:tN,Not:rN,not:nN,NotCongruent:aN,NotCupCap:iN,NotDoubleVerticalBar:oN,NotElement:sN,NotEqual:lN,NotEqualTilde:uN,NotExists:cN,NotGreater:vN,NotGreaterEqual:fN,NotGreaterFullEqual:dN,NotGreaterGreater:pN,NotGreaterLess:hN,NotGreaterSlantEqual:mN,NotGreaterTilde:gN,NotHumpDownHump:yN,NotHumpEqual:bN,notin:wN,notindot:CN,notinE:TN,notinva:kN,notinvb:EN,notinvc:LN,NotLeftTriangleBar:xN,NotLeftTriangle:MN,NotLeftTriangleEqual:AN,NotLess:SN,NotLessEqual:ON,NotLessGreater:DN,NotLessLess:IN,NotLessSlantEqual:NN,NotLessTilde:RN,NotNestedGreaterGreater:BN,NotNestedLessLess:PN,notni:HN,notniva:_N,notnivb:qN,notnivc:$N,NotPrecedes:FN,NotPrecedesEqual:UN,NotPrecedesSlantEqual:VN,NotReverseElement:jN,NotRightTriangleBar:zN,NotRightTriangle:WN,NotRightTriangleEqual:GN,NotSquareSubset:XN,NotSquareSubsetEqual:KN,NotSquareSuperset:QN,NotSquareSupersetEqual:YN,NotSubset:ZN,NotSubsetEqual:JN,NotSucceeds:eR,NotSucceedsEqual:tR,NotSucceedsSlantEqual:rR,NotSucceedsTilde:nR,NotSuperset:aR,NotSupersetEqual:iR,NotTilde:oR,NotTildeEqual:sR,NotTildeFullEqual:lR,NotTildeTilde:uR,NotVerticalBar:cR,nparallel:vR,npar:fR,nparsl:dR,npart:pR,npolint:hR,npr:mR,nprcue:gR,nprec:yR,npreceq:bR,npre:wR,nrarrc:CR,nrarr:TR,nrArr:kR,nrarrw:ER,nrightarrow:LR,nRightarrow:xR,nrtri:MR,nrtrie:AR,nsc:SR,nsccue:OR,nsce:DR,Nscr:IR,nscr:NR,nshortmid:RR,nshortparallel:BR,nsim:PR,nsime:HR,nsimeq:_R,nsmid:qR,nspar:$R,nsqsube:FR,nsqsupe:UR,nsub:VR,nsubE:jR,nsube:zR,nsubset:WR,nsubseteq:GR,nsubseteqq:XR,nsucc:KR,nsucceq:QR,nsup:YR,nsupE:ZR,nsupe:JR,nsupset:eB,nsupseteq:tB,nsupseteqq:rB,ntgl:nB,Ntilde:aB,ntilde:iB,ntlg:oB,ntriangleleft:sB,ntrianglelefteq:lB,ntriangleright:uB,ntrianglerighteq:cB,Nu:vB,nu:fB,num:dB,numero:pB,numsp:hB,nvap:mB,nvdash:gB,nvDash:yB,nVdash:bB,nVDash:wB,nvge:CB,nvgt:TB,nvHarr:kB,nvinfin:EB,nvlArr:LB,nvle:xB,nvlt:MB,nvltrie:AB,nvrArr:SB,nvrtrie:OB,nvsim:DB,nwarhk:IB,nwarr:NB,nwArr:RB,nwarrow:BB,nwnear:PB,Oacute:HB,oacute:_B,oast:qB,Ocirc:$B,ocirc:FB,ocir:UB,Ocy:VB,ocy:jB,odash:zB,Odblac:WB,odblac:GB,odiv:XB,odot:KB,odsold:QB,OElig:YB,oelig:ZB,ofcir:JB,Ofr:eP,ofr:tP,ogon:rP,Ograve:nP,ograve:aP,ogt:iP,ohbar:oP,ohm:sP,oint:lP,olarr:uP,olcir:cP,olcross:vP,oline:fP,olt:dP,Omacr:pP,omacr:hP,Omega:mP,omega:gP,Omicron:yP,omicron:bP,omid:wP,ominus:CP,Oopf:TP,oopf:kP,opar:EP,OpenCurlyDoubleQuote:LP,OpenCurlyQuote:xP,operp:MP,oplus:AP,orarr:SP,Or:OP,or:DP,ord:IP,order:NP,orderof:RP,ordf:BP,ordm:PP,origof:HP,oror:_P,orslope:qP,orv:$P,oS:FP,Oscr:UP,oscr:VP,Oslash:jP,oslash:zP,osol:WP,Otilde:GP,otilde:XP,otimesas:KP,Otimes:QP,otimes:YP,Ouml:ZP,ouml:JP,ovbar:eH,OverBar:tH,OverBrace:rH,OverBracket:nH,OverParenthesis:aH,para:iH,parallel:oH,par:sH,parsim:lH,parsl:uH,part:cH,PartialD:vH,Pcy:fH,pcy:dH,percnt:pH,period:hH,permil:mH,perp:gH,pertenk:yH,Pfr:bH,pfr:wH,Phi:CH,phi:TH,phiv:kH,phmmat:EH,phone:LH,Pi:xH,pi:MH,pitchfork:AH,piv:SH,planck:OH,planckh:DH,plankv:IH,plusacir:NH,plusb:RH,pluscir:BH,plus:PH,plusdo:HH,plusdu:_H,pluse:qH,PlusMinus:$H,plusmn:FH,plussim:UH,plustwo:VH,pm:jH,Poincareplane:zH,pointint:WH,popf:GH,Popf:XH,pound:KH,prap:QH,Pr:YH,pr:ZH,prcue:JH,precapprox:e_,prec:t_,preccurlyeq:r_,Precedes:n_,PrecedesEqual:a_,PrecedesSlantEqual:i_,PrecedesTilde:o_,preceq:s_,precnapprox:l_,precneqq:u_,precnsim:c_,pre:v_,prE:f_,precsim:d_,prime:p_,Prime:h_,primes:m_,prnap:g_,prnE:y_,prnsim:b_,prod:w_,Product:C_,profalar:T_,profline:k_,profsurf:E_,prop:L_,Proportional:x_,Proportion:M_,propto:A_,prsim:S_,prurel:O_,Pscr:D_,pscr:I_,Psi:N_,psi:R_,puncsp:B_,Qfr:P_,qfr:H_,qint:__,qopf:q_,Qopf:$_,qprime:F_,Qscr:U_,qscr:V_,quaternions:j_,quatint:z_,quest:W_,questeq:G_,quot:X_,QUOT:K_,rAarr:Q_,race:Y_,Racute:Z_,racute:J_,radic:eq,raemptyv:tq,rang:rq,Rang:nq,rangd:aq,range:iq,rangle:oq,raquo:sq,rarrap:lq,rarrb:uq,rarrbfs:cq,rarrc:vq,rarr:fq,Rarr:dq,rArr:pq,rarrfs:hq,rarrhk:mq,rarrlp:gq,rarrpl:yq,rarrsim:bq,Rarrtl:wq,rarrtl:Cq,rarrw:Tq,ratail:kq,rAtail:Eq,ratio:Lq,rationals:xq,rbarr:Mq,rBarr:Aq,RBarr:Sq,rbbrk:Oq,rbrace:Dq,rbrack:Iq,rbrke:Nq,rbrksld:Rq,rbrkslu:Bq,Rcaron:Pq,rcaron:Hq,Rcedil:_q,rcedil:qq,rceil:$q,rcub:Fq,Rcy:Uq,rcy:Vq,rdca:jq,rdldhar:zq,rdquo:Wq,rdquor:Gq,rdsh:Xq,real:Kq,realine:Qq,realpart:Yq,reals:Zq,Re:Jq,rect:e$,reg:t$,REG:r$,ReverseElement:n$,ReverseEquilibrium:a$,ReverseUpEquilibrium:i$,rfisht:o$,rfloor:s$,rfr:l$,Rfr:u$,rHar:c$,rhard:v$,rharu:f$,rharul:d$,Rho:p$,rho:h$,rhov:m$,RightAngleBracket:g$,RightArrowBar:y$,rightarrow:b$,RightArrow:w$,Rightarrow:C$,RightArrowLeftArrow:T$,rightarrowtail:k$,RightCeiling:E$,RightDoubleBracket:L$,RightDownTeeVector:x$,RightDownVectorBar:M$,RightDownVector:A$,RightFloor:S$,rightharpoondown:O$,rightharpoonup:D$,rightleftarrows:I$,rightleftharpoons:N$,rightrightarrows:R$,rightsquigarrow:B$,RightTeeArrow:P$,RightTee:H$,RightTeeVector:_$,rightthreetimes:q$,RightTriangleBar:$$,RightTriangle:F$,RightTriangleEqual:U$,RightUpDownVector:V$,RightUpTeeVector:j$,RightUpVectorBar:z$,RightUpVector:W$,RightVectorBar:G$,RightVector:X$,ring:K$,risingdotseq:Q$,rlarr:Y$,rlhar:Z$,rlm:J$,rmoustache:eF,rmoust:tF,rnmid:rF,roang:nF,roarr:aF,robrk:iF,ropar:oF,ropf:sF,Ropf:lF,roplus:uF,rotimes:cF,RoundImplies:vF,rpar:fF,rpargt:dF,rppolint:pF,rrarr:hF,Rrightarrow:mF,rsaquo:gF,rscr:yF,Rscr:bF,rsh:wF,Rsh:CF,rsqb:TF,rsquo:kF,rsquor:EF,rthree:LF,rtimes:xF,rtri:MF,rtrie:AF,rtrif:SF,rtriltri:OF,RuleDelayed:DF,ruluhar:IF,rx:NF,Sacute:RF,sacute:BF,sbquo:PF,scap:HF,Scaron:_F,scaron:qF,Sc:$F,sc:FF,sccue:UF,sce:VF,scE:jF,Scedil:zF,scedil:WF,Scirc:GF,scirc:XF,scnap:KF,scnE:QF,scnsim:YF,scpolint:ZF,scsim:JF,Scy:eU,scy:tU,sdotb:rU,sdot:nU,sdote:aU,searhk:iU,searr:oU,seArr:sU,searrow:lU,sect:uU,semi:cU,seswar:vU,setminus:fU,setmn:dU,sext:pU,Sfr:hU,sfr:mU,sfrown:gU,sharp:yU,SHCHcy:bU,shchcy:wU,SHcy:CU,shcy:TU,ShortDownArrow:kU,ShortLeftArrow:EU,shortmid:LU,shortparallel:xU,ShortRightArrow:MU,ShortUpArrow:AU,shy:SU,Sigma:OU,sigma:DU,sigmaf:IU,sigmav:NU,sim:RU,simdot:BU,sime:PU,simeq:HU,simg:_U,simgE:qU,siml:$U,simlE:FU,simne:UU,simplus:VU,simrarr:jU,slarr:zU,SmallCircle:WU,smallsetminus:GU,smashp:XU,smeparsl:KU,smid:QU,smile:YU,smt:ZU,smte:JU,smtes:e2,SOFTcy:t2,softcy:r2,solbar:n2,solb:a2,sol:i2,Sopf:o2,sopf:s2,spades:l2,spadesuit:u2,spar:c2,sqcap:v2,sqcaps:f2,sqcup:d2,sqcups:p2,Sqrt:h2,sqsub:m2,sqsube:g2,sqsubset:y2,sqsubseteq:b2,sqsup:w2,sqsupe:C2,sqsupset:T2,sqsupseteq:k2,square:E2,Square:L2,SquareIntersection:x2,SquareSubset:M2,SquareSubsetEqual:A2,SquareSuperset:S2,SquareSupersetEqual:O2,SquareUnion:D2,squarf:I2,squ:N2,squf:R2,srarr:B2,Sscr:P2,sscr:H2,ssetmn:_2,ssmile:q2,sstarf:$2,Star:F2,star:U2,starf:V2,straightepsilon:j2,straightphi:z2,strns:W2,sub:G2,Sub:X2,subdot:K2,subE:Q2,sube:Y2,subedot:Z2,submult:J2,subnE:eV,subne:tV,subplus:rV,subrarr:nV,subset:aV,Subset:iV,subseteq:oV,subseteqq:sV,SubsetEqual:lV,subsetneq:uV,subsetneqq:cV,subsim:vV,subsub:fV,subsup:dV,succapprox:pV,succ:hV,succcurlyeq:mV,Succeeds:gV,SucceedsEqual:yV,SucceedsSlantEqual:bV,SucceedsTilde:wV,succeq:CV,succnapprox:TV,succneqq:kV,succnsim:EV,succsim:LV,SuchThat:xV,sum:MV,Sum:AV,sung:SV,sup1:OV,sup2:DV,sup3:IV,sup:NV,Sup:RV,supdot:BV,supdsub:PV,supE:HV,supe:_V,supedot:qV,Superset:$V,SupersetEqual:FV,suphsol:UV,suphsub:VV,suplarr:jV,supmult:zV,supnE:WV,supne:GV,supplus:XV,supset:KV,Supset:QV,supseteq:YV,supseteqq:ZV,supsetneq:JV,supsetneqq:ej,supsim:tj,supsub:rj,supsup:nj,swarhk:aj,swarr:ij,swArr:oj,swarrow:sj,swnwar:lj,szlig:uj,Tab:cj,target:vj,Tau:fj,tau:dj,tbrk:pj,Tcaron:hj,tcaron:mj,Tcedil:gj,tcedil:yj,Tcy:bj,tcy:wj,tdot:Cj,telrec:Tj,Tfr:kj,tfr:Ej,there4:Lj,therefore:xj,Therefore:Mj,Theta:Aj,theta:Sj,thetasym:Oj,thetav:Dj,thickapprox:Ij,thicksim:Nj,ThickSpace:Rj,ThinSpace:Bj,thinsp:Pj,thkap:Hj,thksim:_j,THORN:qj,thorn:$j,tilde:Fj,Tilde:Uj,TildeEqual:Vj,TildeFullEqual:jj,TildeTilde:zj,timesbar:Wj,timesb:Gj,times:Xj,timesd:Kj,tint:Qj,toea:Yj,topbot:Zj,topcir:Jj,top:ez,Topf:tz,topf:rz,topfork:nz,tosa:az,tprime:iz,trade:oz,TRADE:sz,triangle:lz,triangledown:uz,triangleleft:cz,trianglelefteq:vz,triangleq:fz,triangleright:dz,trianglerighteq:pz,tridot:hz,trie:mz,triminus:gz,TripleDot:yz,triplus:bz,trisb:wz,tritime:Cz,trpezium:Tz,Tscr:kz,tscr:Ez,TScy:Lz,tscy:xz,TSHcy:Mz,tshcy:Az,Tstrok:Sz,tstrok:Oz,twixt:Dz,twoheadleftarrow:Iz,twoheadrightarrow:Nz,Uacute:Rz,uacute:Bz,uarr:Pz,Uarr:Hz,uArr:_z,Uarrocir:qz,Ubrcy:$z,ubrcy:Fz,Ubreve:Uz,ubreve:Vz,Ucirc:jz,ucirc:zz,Ucy:Wz,ucy:Gz,udarr:Xz,Udblac:Kz,udblac:Qz,udhar:Yz,ufisht:Zz,Ufr:Jz,ufr:eW,Ugrave:tW,ugrave:rW,uHar:nW,uharl:aW,uharr:iW,uhblk:oW,ulcorn:sW,ulcorner:lW,ulcrop:uW,ultri:cW,Umacr:vW,umacr:fW,uml:dW,UnderBar:pW,UnderBrace:hW,UnderBracket:mW,UnderParenthesis:gW,Union:yW,UnionPlus:bW,Uogon:wW,uogon:CW,Uopf:TW,uopf:kW,UpArrowBar:EW,uparrow:LW,UpArrow:xW,Uparrow:MW,UpArrowDownArrow:AW,updownarrow:SW,UpDownArrow:OW,Updownarrow:DW,UpEquilibrium:IW,upharpoonleft:NW,upharpoonright:RW,uplus:BW,UpperLeftArrow:PW,UpperRightArrow:HW,upsi:_W,Upsi:qW,upsih:$W,Upsilon:FW,upsilon:UW,UpTeeArrow:VW,UpTee:jW,upuparrows:zW,urcorn:WW,urcorner:GW,urcrop:XW,Uring:KW,uring:QW,urtri:YW,Uscr:ZW,uscr:JW,utdot:e3,Utilde:t3,utilde:r3,utri:n3,utrif:a3,uuarr:i3,Uuml:o3,uuml:s3,uwangle:l3,vangrt:u3,varepsilon:c3,varkappa:v3,varnothing:f3,varphi:d3,varpi:p3,varpropto:h3,varr:m3,vArr:g3,varrho:y3,varsigma:b3,varsubsetneq:w3,varsubsetneqq:C3,varsupsetneq:T3,varsupsetneqq:k3,vartheta:E3,vartriangleleft:L3,vartriangleright:x3,vBar:M3,Vbar:A3,vBarv:S3,Vcy:O3,vcy:D3,vdash:I3,vDash:N3,Vdash:R3,VDash:B3,Vdashl:P3,veebar:H3,vee:_3,Vee:q3,veeeq:$3,vellip:F3,verbar:U3,Verbar:V3,vert:j3,Vert:z3,VerticalBar:W3,VerticalLine:G3,VerticalSeparator:X3,VerticalTilde:K3,VeryThinSpace:Q3,Vfr:Y3,vfr:Z3,vltri:J3,vnsub:eG,vnsup:tG,Vopf:rG,vopf:nG,vprop:aG,vrtri:iG,Vscr:oG,vscr:sG,vsubnE:lG,vsubne:uG,vsupnE:cG,vsupne:vG,Vvdash:fG,vzigzag:dG,Wcirc:pG,wcirc:hG,wedbar:mG,wedge:gG,Wedge:yG,wedgeq:bG,weierp:wG,Wfr:CG,wfr:TG,Wopf:kG,wopf:EG,wp:LG,wr:xG,wreath:MG,Wscr:AG,wscr:SG,xcap:OG,xcirc:DG,xcup:IG,xdtri:NG,Xfr:RG,xfr:BG,xharr:PG,xhArr:HG,Xi:_G,xi:qG,xlarr:$G,xlArr:FG,xmap:UG,xnis:VG,xodot:jG,Xopf:zG,xopf:WG,xoplus:GG,xotime:XG,xrarr:KG,xrArr:QG,Xscr:YG,xscr:ZG,xsqcup:JG,xuplus:e4,xutri:t4,xvee:r4,xwedge:n4,Yacute:a4,yacute:i4,YAcy:o4,yacy:s4,Ycirc:l4,ycirc:u4,Ycy:c4,ycy:v4,yen:f4,Yfr:d4,yfr:p4,YIcy:h4,yicy:m4,Yopf:g4,yopf:y4,Yscr:b4,yscr:w4,YUcy:C4,yucy:T4,yuml:k4,Yuml:E4,Zacute:L4,zacute:x4,Zcaron:M4,zcaron:A4,Zcy:S4,zcy:O4,Zdot:D4,zdot:I4,zeetrf:N4,ZeroWidthSpace:R4,Zeta:B4,zeta:P4,zfr:H4,Zfr:_4,ZHcy:q4,zhcy:$4,zigrarr:F4,zopf:U4,Zopf:V4,Zscr:j4,zscr:z4,zwj:W4,zwnj:G4},X4="Á",K4="á",Q4="Â",Y4="â",Z4="´",J4="Æ",e9="æ",t9="À",r9="à",n9="&",a9="&",i9="Å",o9="å",s9="Ã",l9="ã",u9="Ä",c9="ä",v9="¦",f9="Ç",d9="ç",p9="¸",h9="¢",m9="©",g9="©",y9="¤",b9="°",w9="÷",C9="É",T9="é",k9="Ê",E9="ê",L9="È",x9="è",M9="Ð",A9="ð",S9="Ë",O9="ë",D9="½",I9="¼",N9="¾",R9=">",B9=">",P9="Í",H9="í",_9="Î",q9="î",$9="¡",F9="Ì",U9="ì",V9="¿",j9="Ï",z9="ï",W9="«",G9="<",X9="<",K9="¯",Q9="µ",Y9="·",Z9=" ",J9="¬",e8="Ñ",t8="ñ",r8="Ó",n8="ó",a8="Ô",i8="ô",o8="Ò",s8="ò",l8="ª",u8="º",c8="Ø",v8="ø",f8="Õ",d8="õ",p8="Ö",h8="ö",m8="¶",g8="±",y8="£",b8='"',w8='"',C8="»",T8="®",k8="®",E8="§",L8="­",x8="¹",M8="²",A8="³",S8="ß",O8="Þ",D8="þ",I8="×",N8="Ú",R8="ú",B8="Û",P8="û",H8="Ù",_8="ù",q8="¨",$8="Ü",F8="ü",U8="Ý",V8="ý",j8="¥",z8="ÿ",W8={Aacute:X4,aacute:K4,Acirc:Q4,acirc:Y4,acute:Z4,AElig:J4,aelig:e9,Agrave:t9,agrave:r9,amp:n9,AMP:a9,Aring:i9,aring:o9,Atilde:s9,atilde:l9,Auml:u9,auml:c9,brvbar:v9,Ccedil:f9,ccedil:d9,cedil:p9,cent:h9,copy:m9,COPY:g9,curren:y9,deg:b9,divide:w9,Eacute:C9,eacute:T9,Ecirc:k9,ecirc:E9,Egrave:L9,egrave:x9,ETH:M9,eth:A9,Euml:S9,euml:O9,frac12:D9,frac14:I9,frac34:N9,gt:R9,GT:B9,Iacute:P9,iacute:H9,Icirc:_9,icirc:q9,iexcl:$9,Igrave:F9,igrave:U9,iquest:V9,Iuml:j9,iuml:z9,laquo:W9,lt:G9,LT:X9,macr:K9,micro:Q9,middot:Y9,nbsp:Z9,not:J9,Ntilde:e8,ntilde:t8,Oacute:r8,oacute:n8,Ocirc:a8,ocirc:i8,Ograve:o8,ograve:s8,ordf:l8,ordm:u8,Oslash:c8,oslash:v8,Otilde:f8,otilde:d8,Ouml:p8,ouml:h8,para:m8,plusmn:g8,pound:y8,quot:b8,QUOT:w8,raquo:C8,reg:T8,REG:k8,sect:E8,shy:L8,sup1:x8,sup2:M8,sup3:A8,szlig:S8,THORN:O8,thorn:D8,times:I8,Uacute:N8,uacute:R8,Ucirc:B8,ucirc:P8,Ugrave:H8,ugrave:_8,uml:q8,Uuml:$8,uuml:F8,Yacute:U8,yacute:V8,yen:j8,yuml:z8},G8="&",X8="'",K8=">",Q8="<",Y8='"',Cl={amp:G8,apos:X8,gt:K8,lt:Q8,quot:Y8},Qa={},Z8={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},J8=$t&&$t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qa,"__esModule",{value:!0});var ji=J8(Z8),e5=String.fromCodePoint||function(t){var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function t5(t){return t>=55296&&t<=57343||t>1114111?"�":(t in ji.default&&(t=ji.default[t]),e5(t))}Qa.default=t5;var bn=$t&&$t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.decodeHTML=Ye.decodeHTMLStrict=Ye.decodeXML=void 0;var sa=bn(wl),r5=bn(W8),n5=bn(Cl),zi=bn(Qa),a5=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;Ye.decodeXML=Tl(n5.default);Ye.decodeHTMLStrict=Tl(sa.default);function Tl(t){var e=kl(t);return function(r){return String(r).replace(a5,e)}}var Wi=function(t,e){return t<e?1:-1};Ye.decodeHTML=function(){for(var t=Object.keys(r5.default).sort(Wi),e=Object.keys(sa.default).sort(Wi),r=0,n=0;r<e.length;r++)t[n]===e[r]?(e[r]+=";?",n++):e[r]+=";";var a=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),i=kl(sa.default);function o(s){return s.substr(-1)!==";"&&(s+=";"),i(s)}return function(s){return String(s).replace(a,o)}}();function kl(t){return function(r){if(r.charAt(1)==="#"){var n=r.charAt(2);return n==="X"||n==="x"?zi.default(parseInt(r.substr(3),16)):zi.default(parseInt(r.substr(2),10))}return t[r.slice(1,-1)]||r}}var Ee={},El=$t&&$t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.escapeUTF8=Ee.escape=Ee.encodeNonAsciiHTML=Ee.encodeHTML=Ee.encodeXML=void 0;var i5=El(Cl),Ll=Ml(i5.default),xl=Al(Ll);Ee.encodeXML=Dl(Ll);var o5=El(wl),Ya=Ml(o5.default),s5=Al(Ya);Ee.encodeHTML=u5(Ya,s5);Ee.encodeNonAsciiHTML=Dl(Ya);function Ml(t){return Object.keys(t).sort().reduce(function(e,r){return e[t[r]]="&"+r+";",e},{})}function Al(t){for(var e=[],r=[],n=0,a=Object.keys(t);n<a.length;n++){var i=a[n];i.length===1?e.push("\\"+i):r.push(i)}e.sort();for(var o=0;o<e.length-1;o++){for(var s=o;s<e.length-1&&e[s].charCodeAt(1)+1===e[s+1].charCodeAt(1);)s+=1;var l=1+s-o;l<3||e.splice(o,l,e[o]+"-"+e[s])}return r.unshift("["+e.join("")+"]"),new RegExp(r.join("|"),"g")}var Sl=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,l5=String.prototype.codePointAt!=null?function(t){return t.codePointAt(0)}:function(t){return(t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)-56320+65536};function wn(t){return"&#x"+(t.length>1?l5(t):t.charCodeAt(0)).toString(16).toUpperCase()+";"}function u5(t,e){return function(r){return r.replace(e,function(n){return t[n]}).replace(Sl,wn)}}var Ol=new RegExp(xl.source+"|"+Sl.source,"g");function c5(t){return t.replace(Ol,wn)}Ee.escape=c5;function v5(t){return t.replace(xl,wn)}Ee.escapeUTF8=v5;function Dl(t){return function(e){return e.replace(Ol,function(r){return t[r]||wn(r)})}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.encodeHTML5=t.encodeHTML4=t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=t.encode=t.decodeStrict=t.decode=void 0;var e=Ye,r=Ee;function n(l,u){return(!u||u<=0?e.decodeXML:e.decodeHTML)(l)}t.decode=n;function a(l,u){return(!u||u<=0?e.decodeXML:e.decodeHTMLStrict)(l)}t.decodeStrict=a;function i(l,u){return(!u||u<=0?r.encodeXML:r.encodeHTML)(l)}t.encode=i;var o=Ee;Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return o.encodeXML}}),Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return o.encodeNonAsciiHTML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return o.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return o.escapeUTF8}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return o.encodeHTML}});var s=Ye;Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return s.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return s.decodeXML}})})(Ka);var Il="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",f5=92,d5=/[\\&]/,Za="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",p5=new RegExp("\\\\"+Za+"|"+Il,"gi"),h5='[&<>"]',Gi=new RegExp(h5,"g"),m5=function(t){return t.charCodeAt(0)===f5?t.charAt(1):Ka.decodeHTML(t)};function fr(t){return d5.test(t)?t.replace(p5,m5):t}function Or(t){try{return Od(t)}catch{return t}}function g5(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return t}}function It(t){return Gi.test(t)?t.replace(Gi,g5):t}function la(t,e){for(var r=[],n=0;n<e;n++)r.push(t);return r.join("")}function Xi(t){return t?!/[^ \t]+/.test(t):!0}var y5=function(){function t(e){this.current=e,this.root=e,this.entering=!0}return t.prototype.next=function(){var e=this.current,r=this.entering;if(e===null)return null;var n=Ja(e);return r&&n?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:e.next===null?(this.current=e.parent,this.entering=!1):(this.current=e.next,this.entering=!0),{entering:r,node:e}},t.prototype.resumeAt=function(e,r){this.current=e,this.entering=r===!0},t}();function Ja(t){switch(t.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var b5=1,Cn={};function w5(t){return Cn[t]}function ua(t){delete Cn[t]}function C5(){Cn={}}var br=function(){function t(e,r){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,e==="document"?this.id=-1:this.id=b5++,this.type=e,this.sourcepos=r,Cn[this.id]=this}return t.prototype.isContainer=function(){return Ja(this)},t.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},t.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},t.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),e.prev=this,this.next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},t.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),e.next=this,this.prev=e,e.parent=this.parent,e.prev||(e.parent.firstChild=e)},t.prototype.appendChild=function(e){e.unlink(),e.parent=this,this.lastChild?(this.lastChild.next=e,e.prev=this.lastChild,this.lastChild=e):(this.firstChild=e,this.lastChild=e)},t.prototype.prependChild=function(e){e.unlink(),e.parent=this,this.firstChild?(this.firstChild.prev=e,e.next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},t.prototype.walker=function(){return new y5(this)},t}(),et=function(t){Ae(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.open=!0,a.lineOffsets=null,a.stringContent=null,a.lastLineBlank=!1,a.lastLineChecked=!1,a.type=r,a}return e}(br),T5=function(t){Ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.listData=null,r}return e}(et),k5=function(t){Ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.level=0,r.headingType="atx",r}return e}(et),E5=function(t){Ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.isFenced=!1,r.fenceChar=null,r.fenceLength=0,r.fenceOffset=-1,r.info=null,r.infoPadding=0,r}return e}(et),L5=function(t){Ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.columns=[],r}return e}(et),x5=function(t){Ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.startIdx=0,r.endIdx=0,r.paddingLeft=0,r.paddingRight=0,r.ignored=!1,r}return e}(et),M5=function(t){Ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.title="",r.dest="",r.label="",r}return e}(et),A5=function(t){Ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.syntaxLength=0,r.offset=-1,r.info="",r}return e}(et),S5=function(t){Ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.htmlBlockType=-1,r}return e}(et),O5=function(t){Ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.destination=null,r.title=null,r.extendedAutolink=!1,r}return e}(br),D5=function(t){Ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.tickCount=0,r}return e}(br),I5=function(t){Ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.info="",r}return e}(br);function Z(t,e){switch(t){case"heading":return new k5(t,e);case"list":case"item":return new T5(t,e);case"link":case"image":return new O5(t,e);case"codeBlock":return new E5(t,e);case"htmlBlock":return new S5(t,e);case"table":return new L5(t,e);case"tableCell":return new x5(t,e);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new et(t,e);case"code":return new D5(t,e);case"refDef":return new M5(t,e);case"customBlock":return new A5(t,e);case"customInline":return new I5(t,e);default:return new br(t,e)}}function Nl(t){return t.type==="codeBlock"}function N5(t){return t.type==="htmlBlock"}function R5(t){return t.type==="heading"}function Ki(t){return t.type==="list"}function B5(t){return t.type==="table"}function St(t){return t.type==="refDef"}function Rl(t){return t.type==="customBlock"}function P5(t){return t.type==="customInline"}function re(t,e){var r=Z("text",e);return r.literal=t,r}var Bl="[A-Za-z][A-Za-z0-9-]*",H5="[a-zA-Z_:][a-zA-Z0-9:._-]*",_5="[^\"'=<>`\\x00-\\x20]+",q5="'[^']*'",$5='"[^"]*"',F5="(?:"+_5+"|"+q5+"|"+$5+")",U5="(?:\\s*=\\s*"+F5+")",V5="(?:\\s+"+H5+U5+"?)",Pl="<"+Bl+V5+"*\\s*/?>",Hl="</"+Bl+"\\s*[>]",j5="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",z5="[<][?].*?[?][>]",W5="<![A-Z]+\\s+[^>]*>",G5="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",X5="(?:"+Pl+"|"+Hl+"|"+j5+"|"+z5+"|"+W5+"|"+G5+")",K5=new RegExp("^"+X5,"i");/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var ca;if(String.fromCodePoint)ca=function(t){try{return String.fromCodePoint(t)}catch(e){if(e instanceof RangeError)return"�";throw e}};else{var Q5=String.fromCharCode,Y5=Math.floor;ca=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=16384,n=[],a,i,o=-1,s=t.length;if(!s)return"";for(var l="";++o<s;){var u=Number(t[o]);if(!isFinite(u)||u<0||u>1114111||Y5(u)!==u)return"�";u<=65535?n.push(u):(u-=65536,a=(u>>10)+55296,i=u%1024+56320,n.push(a,i)),(o+1===s||n.length>r)&&(l+=Q5.apply(void 0,n),n.length=0)}return l}}var Rn=ca,Z5="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",J5="[^<\\s]*[^<?!.,:*_?~\\s]",e6="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function t6(t){var e=/\)+$/.exec(t);if(e){for(var r=0,n=0,a=t;n<a.length;n++){var i=a[n];i==="("?r<0?r=1:r+=1:i===")"&&(r-=1)}if(r<0){var o=Math.min(-r,e[0].length);return t.substring(0,t.length-o)}}return t}function r6(t){return t.replace(/&[A-Za-z0-9]+;$/,"")}function n6(t){for(var e=new RegExp(e6,"g"),r=[],n;n=e.exec(t);){var a=n[0];/[_-]+$/.test(a)||r.push({text:a,range:[n.index,n.index+a.length-1],url:"mailto:"+a})}return r}function a6(t){for(var e=new RegExp("(www|https?://)."+Z5+J5,"g"),r=[],n;n=e.exec(t);){var a=r6(t6(n[0])),i=n[1]==="www"?"http://":"";r.push({text:a,range:[n.index,n.index+a.length-1],url:""+i+a})}return r}function i6(t){return oa(oa([],a6(t)),n6(t)).sort(function(e,r){return e.range[0]-r.range[0]})}function o6(t,e){typeof e=="boolean"&&(e=i6);for(var r,n=function(){var a=r.entering,i=r.node;if(a&&i.type==="text"&&i.parent.type!=="link"){var o=i.literal,s=e(o);if(!s||!s.length)return"continue";for(var l=0,u=i.sourcepos[0],c=u[0],v=u[1],f=function(P,V){return[[c,v+P],[c,v+V]]},d=[],p=0,h=s;p<h.length;p++){var m=h[p],y=m.range,w=m.url,T=m.text;y[0]>l&&d.push(re(o.substring(l,y[0]),f(l,y[0]-1)));var E=Z("link",f.apply(void 0,y));E.appendChild(re(T,f.apply(void 0,y))),E.destination=w,E.extendedAutolink=!0,d.push(E),l=y[1]+1}l<o.length&&d.push(re(o.substring(l),f(l,o.length-1)));for(var L=0,S=d;L<S.length;L++){var I=S[L];i.insertBefore(I)}i.unlink()}};r=t.next();)n()}function rn(t){return t[t.length-1]}function Qi(t){return t.slice(1,t.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function Dr(t,e){Object.keys(t).forEach(function(r){e(r,t[r])})}function s6(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=ve({},t);return e.forEach(function(a){delete n[a]}),n}function Ot(t){return!Object.keys(t).length}function l6(t){Object.keys(t).forEach(function(e){delete t[e]})}var va=10,Bn=42,Ir=95,u6=96,Yi=91,c6=93,Nr=126,Zi=60,v6=33,Ji=92,f6=38,eo=40,Pn=41,d6=58,ct=39,vt=34,ft=36,Hn="\\\\"+Za,to=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),p6=new RegExp('^(?:"('+Hn+'|[^"\\x00])*"|'+("'("+Hn+"|[^'\\x00])*'")+"|"+("\\(("+Hn+"|[^()\\x00])*\\))")),h6=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,ro=new RegExp("^"+Za),m6=new RegExp("^"+Il,"i"),g6=/`+/,y6=/^`+/,b6=/\.\.\./g,w6=/--+/g,C6=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,T6=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,k6=/^ *(?:\n *)?/,_n=/^[ \t\n\x0b\x0c\x0d]/,no=/^\s/,E6=/ *$/,L6=/^ */,ao=/^ *(?:\n|$)/,x6=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,M6=/^[^\n`\[\]\\!<&*_'"~$]+/m,A6=function(){function t(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}return t.prototype.sourcepos=function(e,r){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],a=this.lineStartNum+this.lineIdx,i=[a,e+n];return typeof r=="number"?[i,[a,r+n]]:i},t.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},t.prototype.match=function(e){var r=e.exec(this.subject.slice(this.pos));return r===null?null:(this.pos+=r.index+r[0].length,r[0])},t.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},t.prototype.spnl=function(){return this.match(k6),!0},t.prototype.parseBackticks=function(e){var r=this.pos+1,n=this.match(y6);if(n===null)return!1;for(var a=this.pos,i;(i=this.match(g6))!==null;)if(i===n){var o=this.subject.slice(a,this.pos-n.length),s=this.sourcepos(r,this.pos),l=o.split(`
`);if(l.length>1){var u=rn(l);this.lineIdx+=l.length-1,this.linePosOffset=-(this.pos-u.length-n.length),s[1]=this.sourcepos(this.pos),o=l.join(" ")}var c=Z("code",s);return o.length>0&&o.match(/[^ ]/)!==null&&o[0]==" "&&o[o.length-1]==" "?c.literal=o.slice(1,o.length-1):c.literal=o,c.tickCount=n.length,e.appendChild(c),!0}return this.pos=a,e.appendChild(re(n,this.sourcepos(r,this.pos-1))),!0},t.prototype.parseBackslash=function(e){var r=this.subject,n;this.pos+=1;var a=this.pos;return this.peek()===va?(this.pos+=1,n=Z("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(n),this.nextLine()):ro.test(r.charAt(this.pos))?(e.appendChild(re(r.charAt(this.pos),this.sourcepos(a,this.pos))),this.pos+=1):e.appendChild(re("\\",this.sourcepos(a,a))),!0},t.prototype.parseAutolink=function(e){var r,n,a,i=this.pos+1;return(r=this.match(C6))?(n=r.slice(1,r.length-1),a=Z("link",this.sourcepos(i,this.pos)),a.destination=Or("mailto:"+n),a.title="",a.appendChild(re(n,this.sourcepos(i+1,this.pos-1))),e.appendChild(a),!0):(r=this.match(T6))?(n=r.slice(1,r.length-1),a=Z("link",this.sourcepos(i,this.pos)),a.destination=Or(n),a.title="",a.appendChild(re(n,this.sourcepos(i+1,this.pos-1))),e.appendChild(a),!0):!1},t.prototype.parseHtmlTag=function(e){var r=this.pos+1,n=this.match(K5);if(n===null)return!1;var a=Z("htmlInline",this.sourcepos(r,this.pos));return a.literal=n,e.appendChild(a),!0},t.prototype.scanDelims=function(e){var r=0,n=this.pos;if(e===ct||e===vt)r++,this.pos++;else for(;this.peek()===e;)r++,this.pos++;if(r===0||r<2&&(e===Nr||e===ft))return this.pos=n,null;var a=n===0?`
`:this.subject.charAt(n-1),i=this.peek(),o;i===-1?o=`
`:o=Rn(i);var s=no.test(o),l=to.test(o),u=no.test(a),c=to.test(a),v=!s&&(!l||u||c),f=!u&&(!c||s||l),d,p;return e===Ir?(d=v&&(!f||c),p=f&&(!v||l)):e===ct||e===vt?(d=v&&!f,p=f):e===ft?(d=!s,p=!u):(d=v,p=f),this.pos=n,{numdelims:r,canOpen:d,canClose:p}},t.prototype.handleDelim=function(e,r){var n=this.scanDelims(e);if(!n)return!1;var a=n.numdelims,i=this.pos+1,o;this.pos+=a,e===ct?o="’":e===vt?o="“":o=this.subject.slice(i-1,this.pos);var s=re(o,this.sourcepos(i,this.pos));return r.appendChild(s),(n.canOpen||n.canClose)&&(this.options.smart||e!==ct&&e!==vt)&&(this.delimiters={cc:e,numdelims:a,origdelims:a,node:s,previous:this.delimiters,next:null,canOpen:n.canOpen,canClose:n.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},t.prototype.removeDelimiter=function(e){e.previous!==null&&(e.previous.next=e.next),e.next===null?this.delimiters=e.previous:e.next.previous=e.previous},t.prototype.removeDelimitersBetween=function(e,r){e.next!==r&&(e.next=r,r.previous=e)},t.prototype.processEmphasis=function(e){var r,n,a,i,o,s,l,u=!1,c=(r={},r[Ir]=[e,e,e],r[Bn]=[e,e,e],r[ct]=[e],r[vt]=[e],r[Nr]=[e],r[ft]=[e],r);for(a=this.delimiters;a!==null&&a.previous!==e;)a=a.previous;for(;a!==null;){var v=a.cc,f=v===Ir||v===Bn;if(!a.canClose)a=a.next;else{for(n=a.previous,l=!1;n!==null&&n!==e&&n!==c[v][f?a.origdelims%3:0];){if(u=f&&(a.canOpen||n.canClose)&&a.origdelims%3!==0&&(n.origdelims+a.origdelims)%3===0,n.cc===a.cc&&n.canOpen&&!u){l=!0;break}n=n.previous}if(i=a,f||v===Nr||v===ft){if(!l)a=a.next;else if(n){var d=a.numdelims>=2&&n.numdelims>=2?2:1,p=f?0:1;o=n.node,s=a.node;var h=f?d===1?"emph":"strong":"strike";v===ft&&(h="customInline");var m=Z(h),y=o.sourcepos[1],w=s.sourcepos[0];m.sourcepos=[[y[0],y[1]-d+1],[w[0],w[1]+d-1]],o.sourcepos[1][1]-=d,s.sourcepos[0][1]+=d,o.literal=o.literal.slice(d),s.literal=s.literal.slice(d),n.numdelims-=d,a.numdelims-=d;for(var T=o.next,E=void 0;T&&T!==s;)E=T.next,T.unlink(),m.appendChild(T),T=E;if(v===ft){var L=m.firstChild,S=L.literal||"",I=S.split(/\s/)[0];m.info=I,S.length<=I.length?L.unlink():(L.sourcepos[0][1]+=I.length,L.literal=S.replace(I+" ",""))}if(o.insertAfter(m),this.removeDelimitersBetween(n,a),n.numdelims<=p&&(n.numdelims===0&&o.unlink(),this.removeDelimiter(n)),a.numdelims<=p){a.numdelims===0&&s.unlink();var P=a.next;this.removeDelimiter(a),a=P}}}else v===ct?(a.node.literal="’",l&&(n.node.literal="‘"),a=a.next):v===vt&&(a.node.literal="”",l&&(n.node.literal="“"),a=a.next);l||(c[v][f?i.origdelims%3:0]=i.previous,i.canOpen||this.removeDelimiter(i))}}for(;this.delimiters!==null&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},t.prototype.parseLinkTitle=function(){var e=this.match(p6);return e===null?null:fr(e.substr(1,e.length-2))},t.prototype.parseLinkDestination=function(){var e=this.match(h6);if(e===null){if(this.peek()===Zi)return null;for(var r=this.pos,n=0,a=void 0;(a=this.peek())!==-1;)if(a===Ji&&ro.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(a===eo)this.pos+=1,n+=1;else if(a===Pn){if(n<1)break;this.pos+=1,n-=1}else{if(_n.exec(Rn(a))!==null)break;this.pos+=1}return this.pos===r&&a!==Pn||n!==0?null:(e=this.subject.substr(r,this.pos-r),Or(fr(e)))}return Or(fr(e.substr(1,e.length-2)))},t.prototype.parseLinkLabel=function(){var e=this.match(x6);return e===null||e.length>1001?0:e.length},t.prototype.parseOpenBracket=function(e){var r=this.pos;this.pos+=1;var n=re("[",this.sourcepos(this.pos,this.pos));return e.appendChild(n),this.addBracket(n,r,!1),!0},t.prototype.parseBang=function(e){var r=this.pos;if(this.pos+=1,this.peek()===Yi){this.pos+=1;var n=re("![",this.sourcepos(this.pos-1,this.pos));e.appendChild(n),this.addBracket(n,r+1,!0)}else{var n=re("!",this.sourcepos(this.pos,this.pos));e.appendChild(n)}return!0},t.prototype.parseCloseBracket=function(e){var r=null,n=null,a=!1;this.pos+=1;var i=this.pos,o=this.brackets;if(o===null)return e.appendChild(re("]",this.sourcepos(i,i))),!0;if(!o.active)return e.appendChild(re("]",this.sourcepos(i,i))),this.removeBracket(),!0;var s=o.image,l=this.pos;this.peek()===eo&&(this.pos++,this.spnl()&&(r=this.parseLinkDestination())!==null&&this.spnl()&&(_n.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===Pn?(this.pos+=1,a=!0):this.pos=l);var u="";if(!a){var c=this.pos,v=this.parseLinkLabel();if(v>2?u=this.subject.slice(c,c+v):o.bracketAfter||(u=this.subject.slice(o.index,i)),v===0&&(this.pos=l),u){u=Qi(u);var f=this.refMap[u];f&&(r=f.destination,n=f.title,a=!0)}}if(a){var d=Z(s?"image":"link");d.destination=r,d.title=n||"",d.sourcepos=[o.startpos,this.sourcepos(this.pos)];for(var p=o.node.next,h=void 0;p;)h=p.next,p.unlink(),d.appendChild(p),p=h;if(e.appendChild(d),this.processEmphasis(o.previousDelimiter),this.removeBracket(),o.node.unlink(),!s)for(o=this.brackets;o!==null;)o.image||(o.active=!1),o=o.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:u}),!0}return this.removeBracket(),this.pos=i,e.appendChild(re("]",this.sourcepos(i,i))),this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:u}),!0},t.prototype.addBracket=function(e,r,n){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(r+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:r,image:n,active:!0}},t.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},t.prototype.parseEntity=function(e){var r,n=this.pos+1;return(r=this.match(m6))?(e.appendChild(re(Ka.decodeHTML(r),this.sourcepos(n,this.pos))),!0):!1},t.prototype.parseString=function(e){var r,n=this.pos+1;if(r=this.match(M6)){if(this.options.smart){var a=r.replace(b6,"…").replace(w6,function(o){var s=0,l=0;return o.length%3===0?l=o.length/3:o.length%2===0?s=o.length/2:o.length%3===2?(s=1,l=(o.length-2)/3):(s=2,l=(o.length-4)/3),la("—",l)+la("–",s)});e.appendChild(re(a,this.sourcepos(n,this.pos)))}else{var i=re(r,this.sourcepos(n,this.pos));e.appendChild(i)}return!0}return!1},t.prototype.parseNewline=function(e){this.pos+=1;var r=e.lastChild;if(r&&r.type==="text"&&r.literal[r.literal.length-1]===" "){var n=r.literal[r.literal.length-2]===" ",a=r.literal.length;r.literal=r.literal.replace(E6,"");var i=a-r.literal.length;r.sourcepos[1][1]-=i,e.appendChild(Z(n?"linebreak":"softbreak",this.sourcepos(this.pos-i,this.pos)))}else e.appendChild(Z("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(L6),!0},t.prototype.parseReference=function(e,r){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var n=null,a=this.pos,i=this.parseLinkLabel();if(i===0)return 0;var o=this.subject.substr(0,i);if(this.peek()===d6)this.pos++;else return this.pos=a,0;this.spnl();var s=this.parseLinkDestination();if(s===null)return this.pos=a,0;var l=this.pos;this.spnl(),this.pos!==l&&(n=this.parseLinkTitle()),n===null&&(n="",this.pos=l);var u=!0;if(this.match(ao)===null&&(n===""?u=!1:(n="",this.pos=l,u=this.match(ao)!==null)),!u)return this.pos=a,0;var c=Qi(o);if(c==="")return this.pos=a,0;var v=this.getReferenceDefSourcepos(e);e.sourcepos[0][0]=v[1][0]+1;var f=Z("refDef",v);return f.title=n,f.dest=s,f.label=c,e.insertBefore(f),r[c]?this.refDefCandidateMap[f.id]=f:r[c]=pa(f),this.pos-a},t.prototype.mergeTextNodes=function(e){for(var r,n=[];r=e.next();){var a=r.entering,i=r.node;if(a&&i.type==="text")n.push(i);else if(n.length===1)n=[];else if(n.length>1){var o=n[0],s=n[n.length-1];o.sourcepos&&s.sourcepos&&(o.sourcepos[1]=s.sourcepos[1]),o.next=s.next,o.next&&(o.next.prev=o);for(var l=1;l<n.length;l+=1)o.literal+=n[l].literal,n[l].unlink();n=[]}}},t.prototype.getReferenceDefSourcepos=function(e){for(var r=e.stringContent.split(/\n|\r\n/),n=!1,a=0,i={line:0,ch:0},o=0;o<r.length;o+=1){var s=r[o];if(_n.test(s))break;if(/\:/.test(s)&&a===0){if(n)break;var l=s.indexOf(":")===s.length-1?o+1:o;i={line:l,ch:r[l].length},n=!0}var u=s.match(/'|"/g);if(u&&(a+=u.length),a===2){i={line:o,ch:s.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+i.line,i.ch]]},t.prototype.parseInline=function(e){var r,n=!1,a=this.peek();if(a===-1)return!1;switch(a){case va:n=this.parseNewline(e);break;case Ji:n=this.parseBackslash(e);break;case u6:n=this.parseBackticks(e);break;case Bn:case Ir:case Nr:case ft:n=this.handleDelim(a,e);break;case ct:case vt:n=!!(!((r=this.options)===null||r===void 0)&&r.smart)&&this.handleDelim(a,e);break;case Yi:n=this.parseOpenBracket(e);break;case v6:n=this.parseBang(e);break;case c6:n=this.parseCloseBracket(e);break;case Zi:n=this.parseAutolink(e)||this.parseHtmlTag(e);break;case f6:e.disabledEntityParse||(n=this.parseEntity(e));break;default:n=this.parseString(e);break}return n||(this.pos+=1,e.appendChild(re(Rn(a),this.sourcepos(this.pos,this.pos+1)))),!0},t.prototype.parse=function(e){for(this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],R5(e)&&(this.lineOffsets[0]+=e.level+1);this.parseInline(e););e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var r=this.options,n=r.extendedAutolinks,a=r.customParser;if(n&&o6(e.walker(),n),a&&e.firstChild)for(var i,o=e.firstChild.walker();i=o.next();){var s=i.node,l=i.entering;a[s.type]&&a[s.type](s,{entering:l,options:this.options})}},t}(),S6=/^\[([ \txX])\][ \t]+/;function O6(t,e){if(e.firstChild&&e.firstChild.type==="paragraph"){var r=e.firstChild,n=r.stringContent.match(S6);if(n){var a=n[0].length;r.stringContent=r.stringContent.substring(a-1),r.sourcepos[0][1]+=a,r.lineOffsets[0]+=a,e.listData.task=!0,e.listData.checked=/[xX]/.test(n[1])}}}var D6={continue:function(){return 0},finalize:function(){},canContain:function(t){return t==="tableHead"||t==="tableBody"},acceptsLines:!1},I6={continue:function(){return 0},finalize:function(){},canContain:function(t){return t==="tableRow"},acceptsLines:!1},N6={continue:function(){return 1},finalize:function(){},canContain:function(t){return t==="tableRow"||t==="tableDelimRow"},acceptsLines:!1},R6={continue:function(){return 1},finalize:function(){},canContain:function(t){return t==="tableDelimCell"},acceptsLines:!1},B6={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},P6={continue:function(){return 1},finalize:function(){},canContain:function(t){return t==="tableCell"},acceptsLines:!1},H6={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},nn=4,_l=9,ql=62,_6=60,$l=32,Fl=91,Ul=/[^ \t\f\v\r\n]/,q6=/^(?:`{3,}|~{3,})(?= *$)/;function io(t){for(var e=t;e;){if(e.lastLineBlank)return!0;var r=e.type;if(!e.lastLineChecked&&(r==="list"||r==="item"))e.lastLineChecked=!0,e=e.lastChild;else{e.lastLineChecked=!0;break}}return!1}function Le(t,e){return e<t.length?t.charCodeAt(e):-1}function Vl(t){return!Ul.test(t)}function Ft(t){return t===$l||t===_l}var $6=/^\$\$$/,F6={continue:function(t,e){var r=t.currentLine,n=r.match($6);if(n)return t.lastLineLength=n[0].length,t.finalize(e,t.lineNumber),2;for(var a=e.offset;a>0&&Ft(Le(r,t.offset));)t.advanceOffset(1,!0),a--;return 0},finalize:function(t,e){if(e.stringContent!==null){var r=e.stringContent,n=r.indexOf(`
`),a=r.slice(0,n),i=r.slice(n+1),o=a.match(/^(\s*)(.*)/);e.info=fr(o[2].trim()),e.literal=i,e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},jl={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},U6={continue:function(){return 0},finalize:function(){},canContain:function(t){return t!=="item"},acceptsLines:!1},V6={continue:function(){return 0},finalize:function(t,e){for(var r=e.firstChild;r;){if(io(r)&&r.next){e.listData.tight=!1;break}for(var n=r.firstChild;n;){if(io(n)&&(r.next||n.next)){e.listData.tight=!1;break}n=n.next}r=r.next}},canContain:function(t){return t==="item"},acceptsLines:!1},j6={continue:function(t){var e=t.currentLine;if(!t.indented&&Le(e,t.nextNonspace)===ql)t.advanceNextNonspace(),t.advanceOffset(1,!1),Ft(Le(e,t.offset))&&t.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(t){return t!=="item"},acceptsLines:!1},z6={continue:function(t,e){if(t.blank){if(e.firstChild===null)return 1;t.advanceNextNonspace()}else if(t.indent>=e.listData.markerOffset+e.listData.padding)t.advanceOffset(e.listData.markerOffset+e.listData.padding,!0);else return 1;return 0},finalize:O6,canContain:function(t){return t!=="item"},acceptsLines:!1},W6={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},G6={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},X6={continue:function(t,e){var r=t.currentLine,n=t.indent;if(e.isFenced){var a=n<=3&&r.charAt(t.nextNonspace)===e.fenceChar&&r.slice(t.nextNonspace).match(q6);if(a&&a[0].length>=e.fenceLength)return t.lastLineLength=t.offset+n+a[0].length,t.finalize(e,t.lineNumber),2;for(var i=e.fenceOffset;i>0&&Ft(Le(r,t.offset));)t.advanceOffset(1,!0),i--}else if(n>=nn)t.advanceOffset(nn,!0);else if(t.blank)t.advanceNextNonspace();else return 1;return 0},finalize:function(t,e){var r;if(e.stringContent!==null){if(e.isFenced){var n=e.stringContent,a=n.indexOf(`
`),i=n.slice(0,a),o=n.slice(a+1),s=i.match(/^(\s*)(.*)/);e.infoPadding=s[1].length,e.info=fr(s[2].trim()),e.literal=o}else e.literal=(r=e.stringContent)===null||r===void 0?void 0:r.replace(/(\n *)+$/,`
`);e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},K6={continue:function(t,e){return t.blank&&(e.htmlBlockType===6||e.htmlBlockType===7)?1:0},finalize:function(t,e){var r;e.literal=((r=e.stringContent)===null||r===void 0?void 0:r.replace(/(\n *)+$/,""))||null,e.stringContent=null},canContain:function(){return!1},acceptsLines:!0},Q6={continue:function(t){return t.blank?1:0},finalize:function(t,e){if(e.stringContent!==null){for(var r,n=!1;Le(e.stringContent,0)===Fl&&(r=t.inlineParser.parseReference(e,t.refMap));)e.stringContent=e.stringContent.slice(r),n=!0;n&&Vl(e.stringContent)&&e.unlink()}},canContain:function(){return!1},acceptsLines:!0},Y6=jl,Z6=jl,Dt={document:U6,list:V6,blockQuote:j6,item:z6,heading:W6,thematicBreak:G6,codeBlock:X6,htmlBlock:K6,paragraph:Q6,table:D6,tableBody:I6,tableHead:N6,tableRow:P6,tableCell:H6,tableDelimRow:R6,tableDelimCell:B6,refDef:Y6,customBlock:F6,frontMatter:Z6};function fa(t){for(var e=0,r=0,n=[],a=0;a<t.length;a+=1)if(t[a]==="|"&&t[a-1]!=="\\"){var i=t.substring(e,a);e===0&&Xi(i)?r=a+1:n.push(i),e=a+1}if(e<t.length){var i=t.substring(e,t.length);Xi(i)||n.push(i)}return[r,n]}function da(t,e,r,n){for(var a=[],i=0,o=e;i<o.length;i++){var s=o[i],l=s.match(/^[ \t]+/),u=l?l[0].length:0,c=void 0,v=void 0;if(u===s.length)u=0,c=0,v="";else{var f=s.match(/[ \t]+$/);c=f?f[0].length:0,v=s.slice(u,s.length-c)}var d=n+u,p=Z(t,[[r,n],[r,n+s.length-1]]);p.stringContent=v.replace(/\\\|/g,"|"),p.startIdx=a.length,p.endIdx=a.length,p.lineOffsets=[d-1],p.paddingLeft=u,p.paddingRight=c,a.push(p),n+=s.length+1}return a}function J6(t){var e=null,r=t.stringContent,n=r[0],a=r[r.length-1];return a===":"?e=n===":"?"center":"right":n===":"&&(e="left"),{align:e}}var eX=function(t,e){var r=e.stringContent;if(e.type==="paragraph"&&!t.indented&&!t.blank){var n=r.length-1,a=r.lastIndexOf(`
`,n-1)+1,i=r.slice(a,n),o=t.currentLine.slice(t.nextNonspace),s=fa(i),l=s[0],u=s[1],c=fa(o),v=c[0],f=c[1],d=/^[ \t]*:?-+:?[ \t]*$/;if(!u.length||!f.length||f.some(function(P){return!d.test(P)})||f.length===1&&o.indexOf("|")!==0)return 0;var p=e.lineOffsets,h=t.lineNumber-1,m=rn(p)+1,y=Z("table",[[h,m],[t.lineNumber,t.offset]]);if(y.columns=f.map(function(){return{align:null}}),e.insertAfter(y),p.length===1)e.unlink();else{e.stringContent=r.slice(0,a);var w=r.lastIndexOf(`
`,a-2)+1,T=a-w-1;t.lastLineLength=p[p.length-2]+T,t.finalize(e,h-1)}t.advanceOffset(t.currentLine.length-t.offset,!1);var E=Z("tableHead",[[h,m],[t.lineNumber,t.offset]]);y.appendChild(E);var L=Z("tableRow",[[h,m],[h,m+i.length-1]]),S=Z("tableDelimRow",[[t.lineNumber,t.nextNonspace+1],[t.lineNumber,t.offset]]);E.appendChild(L),E.appendChild(S),da("tableCell",u,h,m+l).forEach(function(P){L.appendChild(P)});var I=da("tableDelimCell",f,t.lineNumber,t.nextNonspace+1+v);return I.forEach(function(P){S.appendChild(P)}),y.columns=I.map(J6),t.tip=y,2}return 0},tX=function(t,e){if(e.type!=="table"&&e.type!=="tableBody"||!t.blank&&t.currentLine.indexOf("|")===-1)return 0;if(t.advanceOffset(t.currentLine.length-t.offset,!1),t.blank){var r=e;return e.type==="tableBody"&&(r=e.parent,t.finalize(e,t.lineNumber-1)),t.finalize(r,t.lineNumber-1),0}var n=e;e.type==="table"&&(n=t.addChild("tableBody",t.nextNonspace),n.stringContent=null);var a=Z("tableRow",[[t.lineNumber,t.nextNonspace+1],[t.lineNumber,t.currentLine.length]]);n.appendChild(a);var i=n.parent,o=t.currentLine.slice(t.nextNonspace),s=fa(o),l=s[0],u=s[1];return da("tableCell",u,t.lineNumber,t.nextNonspace+1+l).forEach(function(c,v){v>=i.columns.length&&(c.ignored=!0),a.appendChild(c)}),2},rX=/^(\$\$)(\s*[a-zA-Z])+/,nX=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,aX=function(t){var e;if(!t.indented&&!nX.test(t.currentLine)&&(e=t.currentLine.match(rX))){var r=e[1].length;t.closeUnmatchedBlocks();var n=t.addChild("customBlock",t.nextNonspace);return n.syntaxLength=r,n.offset=t.indent,t.advanceNextNonspace(),t.advanceOffset(r,!1),2}return 0},iX=/^`{3,}(?!.*`)|^~{3,}/,oX=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+Pl+"|"+Hl+")\\s*$","i")],sX=/^(?:=+|-+)[ \t]*$/,lX=/^#{1,6}(?:[ \t]+|$)/,uX=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,zl=/^[*+-]/,Wl=/^(\d{1,9})([.)])/;function cX(t,e){var r=t.currentLine.slice(t.nextNonspace),n,a,i={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:t.indent,task:!1,checked:!1};if(t.indent>=4)return null;if(n=r.match(zl))i.type="bullet",i.bulletChar=n[0][0];else if((n=r.match(Wl))&&(e.type!=="paragraph"||n[1]==="1"))i.type="ordered",i.start=parseInt(n[1],10),i.delimiter=n[2];else return null;if(a=Le(t.currentLine,t.nextNonspace+n[0].length),!(a===-1||a===_l||a===$l)||e.type==="paragraph"&&!t.currentLine.slice(t.nextNonspace+n[0].length).match(Ul))return null;t.advanceNextNonspace(),t.advanceOffset(n[0].length,!0);var o=t.column,s=t.offset;do t.advanceOffset(1,!0),a=Le(t.currentLine,t.offset);while(t.column-o<5&&Ft(a));var l=Le(t.currentLine,t.offset)===-1,u=t.column-o;return u>=5||u<1||l?(i.padding=n[0].length+1,t.column=o,t.offset=s,Ft(Le(t.currentLine,t.offset))&&t.advanceOffset(1,!0)):i.padding=n[0].length+u,i}function vX(t,e){return t.type===e.type&&t.delimiter===e.delimiter&&t.bulletChar===e.bulletChar}function Gl(t,e){return t.options.disallowDeepHeading&&(e.type==="blockQuote"||e.type==="item")}var fX=function(t){return!t.indented&&Le(t.currentLine,t.nextNonspace)===ql?(t.advanceNextNonspace(),t.advanceOffset(1,!1),Ft(Le(t.currentLine,t.offset))&&t.advanceOffset(1,!0),t.closeUnmatchedBlocks(),t.addChild("blockQuote",t.nextNonspace),1):0},dX=function(t,e){var r;if(!t.indented&&!Gl(t,e)&&(r=t.currentLine.slice(t.nextNonspace).match(lX))){t.advanceNextNonspace(),t.advanceOffset(r[0].length,!1),t.closeUnmatchedBlocks();var n=t.addChild("heading",t.nextNonspace);return n.level=r[0].trim().length,n.headingType="atx",n.stringContent=t.currentLine.slice(t.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),t.advanceOffset(t.currentLine.length-t.offset),2}return 0},pX=function(t){var e;if(!t.indented&&(e=t.currentLine.slice(t.nextNonspace).match(iX))){var r=e[0].length;t.closeUnmatchedBlocks();var n=t.addChild("codeBlock",t.nextNonspace);return n.isFenced=!0,n.fenceLength=r,n.fenceChar=e[0][0],n.fenceOffset=t.indent,t.advanceNextNonspace(),t.advanceOffset(r,!1),2}return 0},hX=function(t,e){if(!t.indented&&Le(t.currentLine,t.nextNonspace)===_6){var r=t.currentLine.slice(t.nextNonspace),n=t.options.disallowedHtmlBlockTags,a=void 0;for(a=1;a<=7;a++){var i=r.match(oX[a]);if(i){if(a===7){if(e.type==="paragraph")return 0;if(n.length>0){var o=new RegExp("</?(?:"+n.join("|")+")","i");if(o.test(i[0]))return 0}}t.closeUnmatchedBlocks();var s=t.addChild("htmlBlock",t.offset);return s.htmlBlockType=a,2}}}return 0},mX=function(t,e){var r;if(e.stringContent!==null&&!t.indented&&e.type==="paragraph"&&!Gl(t,e.parent)&&(r=t.currentLine.slice(t.nextNonspace).match(sX))){t.closeUnmatchedBlocks();for(var n=void 0;Le(e.stringContent,0)===Fl&&(n=t.inlineParser.parseReference(e,t.refMap));)e.stringContent=e.stringContent.slice(n);if(e.stringContent.length>0){var a=Z("heading",e.sourcepos);return a.level=r[0][0]==="="?1:2,a.headingType="setext",a.stringContent=e.stringContent,e.insertAfter(a),e.unlink(),t.tip=a,t.advanceOffset(t.currentLine.length-t.offset,!1),2}return 0}return 0},gX=function(t){return!t.indented&&uX.test(t.currentLine.slice(t.nextNonspace))?(t.closeUnmatchedBlocks(),t.addChild("thematicBreak",t.nextNonspace),t.advanceOffset(t.currentLine.length-t.offset,!1),2):0},yX=function(t,e){var r,n=e;return(!t.indented||e.type==="list")&&(r=cX(t,n))?(t.closeUnmatchedBlocks(),(t.tip.type!=="list"||!vX(n.listData,r))&&(n=t.addChild("list",t.nextNonspace),n.listData=r),n=t.addChild("item",t.nextNonspace),n.listData=r,1):0},bX=function(t){return t.indented&&t.tip.type!=="paragraph"&&!t.blank?(t.advanceOffset(nn,!0),t.closeUnmatchedBlocks(),t.addChild("codeBlock",t.offset),2):0},qn=[fX,dX,pX,hX,mX,gX,yX,bX,eX,tX,aX],Xl=/^(-{3}|\+{3}|;{3})$/,wX=function(t,e){var r=t.currentLine,n=t.lineNumber,a=t.indented;if(n===1&&!a&&e.type==="document"&&Xl.test(r)){t.closeUnmatchedBlocks();var i=t.addChild("frontMatter",t.nextNonspace);return i.stringContent=r,t.advanceNextNonspace(),t.advanceOffset(r.length,!1),2}return 0},CX={continue:function(t,e){var r=t.currentLine,n=r.match(Xl);return e.type==="frontMatter"&&n?(e.stringContent+=r,t.lastLineLength=n[0].length,t.finalize(e,t.lineNumber),2):0},finalize:function(t,e){e.stringContent!==null&&(e.literal=e.stringContent,e.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},TX=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],kX=/^[#`~*+_=<>0-9-;$]/,EX=/\r\n|\n|\r/;function $n(){return Z("document",[[1,1],[0,0]])}var LX={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},xX=function(){function t(e){this.options=ve(ve({},LX),e),this.doc=$n(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(Dt.frontMatter=CX,qn.unshift(wX)),this.inlineParser=new A6(this.options)}return t.prototype.advanceOffset=function(e,r){r===void 0&&(r=!1);for(var n=this.currentLine,a,i,o;e>0&&(o=n[this.offset]);)o==="	"?(a=4-this.column%4,r?(this.partiallyConsumedTab=a>e,i=a>e?e:a,this.column+=i,this.offset+=this.partiallyConsumedTab?0:1,e-=i):(this.partiallyConsumedTab=!1,this.column+=a,this.offset+=1,e-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,e-=1)},t.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},t.prototype.findNextNonspace=function(){for(var e=this.currentLine,r=this.offset,n=this.column,a;(a=e.charAt(r))!=="";)if(a===" ")r++,n++;else if(a==="	")r++,n+=4-n%4;else break;this.blank=a===`
`||a==="\r"||a==="",this.nextNonspace=r,this.nextNonspaceColumn=n,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=nn},t.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var e=4-this.column%4;this.tip.stringContent+=la(" ",e)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+`
`},t.prototype.addChild=function(e,r){for(;!Dt[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);var n=r+1,a=Z(e,[[this.lineNumber,n],[0,0]]);return a.stringContent="",this.tip.appendChild(a),this.tip=a,a},t.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},t.prototype.finalize=function(e,r){var n=e.parent;e.open=!1,e.sourcepos[1]=[r,this.lastLineLength],Dt[e.type].finalize(this,e),this.tip=n},t.prototype.processInlines=function(e){var r,n=this.options.customParser,a=e.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;r=a.next();){var i=r.node,o=r.entering,s=i.type;n&&n[s]&&n[s](i,{entering:o,options:this.options}),!o&&(s==="paragraph"||s==="heading"||s==="tableCell"&&!i.ignored)&&this.inlineParser.parse(i)}},t.prototype.incorporateLine=function(e){var r=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,e.indexOf("\0")!==-1&&(e=e.replace(/\0/g,"�")),this.currentLine=e;for(var n=!0,a;(a=r.lastChild)&&a.open;){switch(r=a,this.findNextNonspace(),Dt[r.type].continue(this,r)){case 0:break;case 1:n=!1;break;case 2:this.lastLineLength=e.length;return;default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!n){r=r.parent;break}}this.allClosed=r===this.oldtip,this.lastMatchedContainer=r;for(var i=r.type!=="paragraph"&&Dt[r.type].acceptsLines,o=qn.length;!i;){if(this.findNextNonspace(),r.type!=="table"&&r.type!=="tableBody"&&r.type!=="paragraph"&&!this.indented&&!kX.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var s=0;s<o;){var l=qn[s](this,r);if(l===1){r=this.tip;break}else if(l===2){r=this.tip,i=!0;break}else s++}if(s===o){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&r.lastChild&&(r.lastChild.lastLineBlank=!0);for(var u=r.type,c=this.blank&&!(u==="blockQuote"||Nl(r)&&r.isFenced||u==="item"&&!r.firstChild&&r.sourcepos[0][0]===this.lineNumber),v=r;v;)v.lastLineBlank=c,v=v.parent;Dt[u].acceptsLines?(this.addLine(),N5(r)&&r.htmlBlockType>=1&&r.htmlBlockType<=5&&TX[r.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(r,this.lineNumber))):this.offset<e.length&&!this.blank&&(r=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=e.length},t.prototype.parse=function(e,r){this.doc=$n(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var n=e.split(EX),a=n.length;this.lines=r||n,this.options.referenceDefinition&&this.clearRefMaps(),e.charCodeAt(e.length-1)===va&&(a-=1);for(var i=0;i<a;i++)this.incorporateLine(n[i]);for(;this.tip;)this.finalize(this.tip,a);return this.processInlines(this.doc),this.doc},t.prototype.partialParseStart=function(e,r){this.doc=$n(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=r.length,a=0;a<n;a++)this.incorporateLine(r[a]);return this.doc},t.prototype.partialParseExtends=function(e){for(var r=0;r<e.length;r++)this.incorporateLine(e[r])},t.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},t.prototype.setRefMaps=function(e,r,n){this.refMap=e,this.refLinkCandidateMap=r,this.refDefCandidateMap=n},t.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){l6(e)})},t}();function oo(t,e){return t[0]<e[0]?1:t[0]>e[0]?-1:t[1]<e[1]?1:t[1]>e[1]?-1:0}function MX(t,e){var r=t[0],n=t[1];return oo(n,e)===1?1:oo(r,e)===-1?-1:0}function AX(t,e){if(!(t.parent!==e.parent||t===e)){for(var r=t.next;r&&r!==e;){for(var n=r.next,a=0,i=["parent","prev","next"];a<i.length;a++){var o=i[a];r[o]&&(ua(r[o].id),r[o]=null)}r=n}t.next=e.next,e.next?e.next.prev=t:t.parent.lastChild=t}}function SX(t){for(var e=[],r=t.firstChild;r;)e.push(r),r=r.next;return e}function so(t,e){for(var r=0,n=e;r<n.length;r++){var a=n[r];t.insertBefore(a)}}function OX(t,e){for(var r=e.length-1;r>=0;r-=1)t.prependChild(e[r])}function DX(t,e){if(!(!t||!t.parent||e===0)){var r=t.parent.walker();r.resumeAt(t,!0);for(var n;n=r.next();){var a=n.node,i=n.entering;i&&(a.sourcepos[0][0]+=e,a.sourcepos[1][0]+=e)}}}function Kl(t,e){var r=t[0],n=t[1];return n[0]<e?1:r[0]>e?-1:0}function Rr(t,e){for(var r=t.firstChild;r;){var n=Kl(r.sourcepos,e);if(n===0)return r;if(n===-1)return r.prev||r;r=r.next}return t.lastChild}function IX(t){for(;t.lastChild;)t=t.lastChild;return t}function NX(t){for(;t.parent&&t.parent.type!=="document"&&t.parent.sourcepos[0][0]===t.sourcepos[0][0];)t=t.parent;return t}function RX(t,e){for(var r=t.firstChild,n=null;r;){var a=Kl(r.sourcepos,e);if(a===0){if(r.sourcepos[0][0]===e||!r.firstChild)return r;n=r,r=r.firstChild}else{if(a===-1)break;n=r,r=r.next}}return n?NX(IX(n)):null}function BX(t,e){for(var r=t,n=null;r;){var a=MX(r.sourcepos,e);if(a===0)if(r.firstChild)n=r,r=r.firstChild;else return r;else{if(a===-1)return n;if(r.next)r=r.next;else return n}}return r}function Ql(t){return w5(t)||null}function Fn(t,e,r){if(r===void 0&&(r=null),e)for(var n=e.walker();e&&e!==r;){t(e);var a=n.next();if(a)e=a.node;else break}}function PX(t){var e=Ql(t);if(!e)return!0;for(;e&&e.type!=="document";){if(!e.parent&&!e.prev&&!e.next)return!0;e=e.parent}return!1}var lo=/\r\n|\n|\r/;function HX(t){var e=t.match(/^[ \t]+/);if(e&&(e[0].length>=2||/\t/.test(e[0])))return!0;var r=e?t.slice(e.length):t;return zl.test(r)||Wl.test(r)}function _X(t){return!Vl(t)&&t.indexOf("|")!==-1}function pa(t){var e=t.id,r=t.title,n=t.sourcepos,a=t.dest;return{id:e,title:r,sourcepos:n,unlinked:!1,destination:a}}var Yl=function(){function t(e,r){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(r!=null&&r.referenceDefinition),this.parser=new xX(r),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},e=e||"",this.lineTexts=e.split(lo),this.root=this.parser.parse(e,this.lineTexts)}return t.prototype.updateLineTexts=function(e,r,n){var a,i=e[0],o=e[1],s=r[0],l=r[1],u=n.split(lo),c=u.length,v=this.lineTexts[i-1],f=this.lineTexts[s-1];u[0]=v.slice(0,o-1)+u[0],u[c-1]=u[c-1]+f.slice(l-1);var d=s-i+1;return(a=this.lineTexts).splice.apply(a,oa([i-1,d],u)),c-d},t.prototype.updateRootNodeState=function(){if(this.lineTexts.length===1&&this.lineTexts[0]===""){this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];return}this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var e=this.lineTexts,r=e.length-1;e[r]==="";)r-=1;e.length-2>r&&(r+=1),this.root.sourcepos[1]=[r+1,e[r].length]},t.prototype.replaceRangeNodes=function(e,r,n){e?(so(e,n),AX(e,r),[e.id,r.id].forEach(function(a){return ua(a)}),e.unlink()):r?(so(r,n),ua(r.id),r.unlink()):OX(this.root,n)},t.prototype.getNodeRange=function(e,r){var n=Rr(this.root,e[0]),a=Rr(this.root,r[0]);return a&&a.next&&r[0]+1===a.next.sourcepos[0][0]&&(a=a.next),[n,a]},t.prototype.trigger=function(e,r){this.eventHandlerMap[e].forEach(function(n){n(r)})},t.prototype.extendEndLine=function(e){for(;this.lineTexts[e]==="";)e+=1;return e},t.prototype.parseRange=function(e,r,n,a){e&&e.prev&&(Ki(e.prev)&&HX(this.lineTexts[n-1])||B5(e.prev)&&_X(this.lineTexts[n-1]))&&(e=e.prev,n=e.sourcepos[0][0]);for(var i=this.lineTexts.slice(n-1,a),o=this.parser.partialParseStart(n,i),s=r?r.next:this.root.firstChild,l=o.lastChild,u=l&&Nl(l)&&l.open,c=l&&Rl(l)&&l.open,v=l&&Ki(l);(u||c)&&s||v&&s&&(s.type==="list"||s.sourcepos[0][1]>=2);){var f=this.extendEndLine(s.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(a,f)),e||(e=r),r=s,a=f,s=s.next}this.parser.partialParseFinish();var d=SX(o);return{newNodes:d,extStartNode:e,extEndNode:r}},t.prototype.getRemovedNodeRange=function(e,r){return!e||e&&St(e)||r&&St(r)?null:{id:[e.id,r.id],line:[e.sourcepos[0][0]-1,r.sourcepos[1][0]-1]}},t.prototype.markDeletedRefMap=function(e,r){var n=this;if(!Ot(this.refMap)){var a=function(i){if(St(i)){var o=n.refMap[i.label];o&&i.id===o.id&&(o.unlinked=!0)}};e&&Fn(a,e.parent,r),r&&Fn(a,r)}},t.prototype.replaceWithNewRefDefState=function(e){var r=this;if(!Ot(this.refMap)){var n=function(a){if(St(a)){var i=a.label,o=r.refMap[i];(!o||o.unlinked)&&(r.refMap[i]=pa(a))}};e.forEach(function(a){Fn(n,a)})}},t.prototype.replaceWithRefDefCandidate=function(){var e=this;Ot(this.refDefCandidateMap)||Dr(this.refDefCandidateMap,function(r,n){var a=n.label,i=n.sourcepos,o=e.refMap[a];(!o||o.unlinked||o.sourcepos[0][0]>i[0][0])&&(e.refMap[a]=pa(n))})},t.prototype.getRangeWithRefDef=function(e,r,n,a,i){if(this.referenceDefinition&&!Ot(this.refMap)){var o=Rr(this.root,e-1),s=Rr(this.root,r+1);o&&St(o)&&o!==n&&o!==a&&(n=o,e=n.sourcepos[0][0]),s&&St(s)&&s!==n&&s!==a&&(a=s,r=this.extendEndLine(a.sourcepos[1][0]+i))}return[n,a,e,r]},t.prototype.parse=function(e,r,n){n===void 0&&(n=0);var a=this.getNodeRange(e,r),i=a[0],o=a[1],s=i?Math.min(i.sourcepos[0][0],e[0]):e[0],l=this.extendEndLine((o?Math.max(o.sourcepos[1][0],r[0]):r[0])+n),u=this.parseRange.apply(this,this.getRangeWithRefDef(s,l,i,o,n)),c=u.newNodes,v=u.extStartNode,f=u.extEndNode,d=this.getRemovedNodeRange(v,f),p=f?f.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(v,f),this.replaceRangeNodes(v,f,c),this.replaceWithNewRefDefState(c)):this.replaceRangeNodes(v,f,c),{nodes:c,removedNodeRange:d,nextNode:p}},t.prototype.parseRefLink=function(){var e=this,r=[];return Ot(this.refMap)||Dr(this.refMap,function(n,a){a.unlinked&&delete e.refMap[n],Dr(e.refLinkCandidateMap,function(i,o){var s=o.node,l=o.refLabel;l===n&&r.push(e.parse(s.sourcepos[0],s.sourcepos[1]))})}),r},t.prototype.removeUnlinkedCandidate=function(){Ot(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){Dr(e,function(r){PX(r)&&delete e[r]})})},t.prototype.editMarkdown=function(e,r,n){var a=this.updateLineTexts(e,r,n),i=this.parse(e,r,a),o=s6(i,"nextNode");DX(i.nextNode,a),this.updateRootNodeState();var s=[o];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),s=s.concat(this.parseRefLink())),this.trigger("change",s),s},t.prototype.getLineTexts=function(){return this.lineTexts},t.prototype.getRootNode=function(){return this.root},t.prototype.findNodeAtPosition=function(e){var r=BX(this.root,e);return!r||r===this.root?null:r},t.prototype.findFirstNodeAtLine=function(e){return RX(this.root,e)},t.prototype.on=function(e,r){this.eventHandlerMap[e].push(r)},t.prototype.off=function(e,r){var n=this.eventHandlerMap[e],a=n.indexOf(r);n.splice(a,1)},t.prototype.findNodeById=function(e){return Ql(e)},t.prototype.removeAllNode=function(){C5()},t}(),qX=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],uo=new RegExp("<(/?(?:"+qX.join("|")+")[^>]*>)","ig");function co(t){return uo.test(t)?t.replace(uo,function(e,r){return"&lt;"+r}):t}var vo={heading:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"h"+t.level,outerNewLine:!0}},text:function(t){return{type:"text",content:t.literal}},softbreak:function(t,e){var r=e.options;return{type:"html",content:r.softbreak}},linebreak:function(){return{type:"html",content:`<br />
`}},emph:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"em"}},strong:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"strong"}},paragraph:function(t,e){var r,n=e.entering,a=(r=t.parent)===null||r===void 0?void 0:r.parent;return a&&a.type==="list"&&a.listData.tight?null:{type:n?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(t,e){var r=e.entering,n=t.listData,a=n.type,i=n.start,o=a==="bullet"?"ul":"ol",s={};return o==="ol"&&i!==null&&i!==1&&(s.start=i.toString()),{type:r?"openTag":"closeTag",tagName:o,attributes:s,outerNewLine:!0}},item:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(t,e){var r=e.options,n=r.tagFilter?co(t.literal):t.literal;return{type:"html",content:n}},htmlBlock:function(t,e){var r=e.options,n=r.tagFilter?co(t.literal):t.literal;return r.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:n},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:n,outerNewLine:!0}},code:function(t){return[{type:"openTag",tagName:"code"},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(t){var e=t.info,r=e?e.split(/\s+/):[],n=[];return r.length>0&&r[0].length>0&&n.push("language-"+It(r[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:n},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(t,e){var r=e.entering;if(r){var n=t,a=n.title,i=n.destination;return{type:"openTag",tagName:"a",attributes:ve({href:It(i)},a&&{title:It(a)})}}return{type:"closeTag",tagName:"a"}},image:function(t,e){var r=e.getChildrenText,n=e.skipChildren,a=t,i=a.title,o=a.destination;return n(),{type:"openTag",tagName:"img",selfClose:!0,attributes:ve({src:It(o),alt:r(t)},i&&{title:It(i)})}},customBlock:function(t,e,r){var n=t.info.trim().toLowerCase(),a=r[n];if(a)try{return a(t,e)}catch(i){console.warn("[@toast-ui/editor] - The error occurred when "+n+" block node was parsed in markdown renderer: "+i)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:t.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(t){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:t.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(t,e,r){var n=t,a=n.info,i=n.firstChild,o=a.trim().toLowerCase(),s=r[o],l=e.entering;if(s)try{return s(t,e)}catch(u){console.warn("[@toast-ui/editor] - The error occurred when "+o+" inline node was parsed in markdown renderer: "+u)}return l?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+a+(i?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},fo={strike:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"del"}},item:function(t,e){var r=e.entering,n=t.listData,a=n.checked,i=n.task;if(r){var o={type:"openTag",tagName:"li",outerNewLine:!0};return i?[o,{type:"openTag",tagName:"input",selfClose:!0,attributes:ve(ve({},a&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:o}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(t,e){var r=e.entering;if(r)return{type:"openTag",tagName:"tr",outerNewLine:!0};var n=[];if(t.lastChild)for(var a=t.parent.parent.columns.length,i=t.lastChild.endIdx,o=i+1;o<a;o+=1)n.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return n.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),n},tableCell:function(t,e){var r=e.entering;if(t.ignored)return{type:"text",content:""};var n=t.parent.parent,a=n.type==="tableHead"?"th":"td",i=n.parent,o=i.columns[t.startIdx],s=o!=null&&o.align?{align:o.align}:null;return r?ve({type:"openTag",tagName:a,outerNewLine:!0},s&&{attributes:s}):{type:"closeTag",tagName:a,outerNewLine:!0}}},$X={softbreak:`
`,gfm:!1,tagFilter:!1,nodeId:!1};function FX(t){for(var e=[],r=t.walker(),n=null;n=r.next();){var a=n.node;a.type==="text"&&e.push(a.literal)}return e.join("")}var ei=function(){function t(e){this.buffer=[],this.options=ve(ve({},$X),e),this.convertors=this.createConvertors(),delete this.options.convertors}return t.prototype.createConvertors=function(){var e=ve({},vo);if(this.options.gfm&&(e=ve(ve({},e),fo)),this.options.convertors){var r=this.options.convertors,n=Object.keys(r),a=ve(ve({},vo),fo);n.forEach(function(i){var o=e[i],s=r[i],l=Object.keys(a).indexOf(i)===-1?i.toLowerCase():i;o?e[l]=function(u,c,v){return c.origin=function(){return o(u,c,v)},s(u,c)}:e[l]=s})}return e},t.prototype.getConvertors=function(){return this.convertors},t.prototype.getOptions=function(){return this.options},t.prototype.render=function(e){var r=this;this.buffer=[];for(var n=e.walker(),a=null,i=function(){var s=a.node,l=a.entering,u=o.convertors[s.type];if(!u)return"continue";var c=!1,v={entering:l,leaf:!Ja(s),options:o.options,getChildrenText:FX,skipChildren:function(){c=!0}},f=Rl(s)||P5(s)?u(s,v,o.convertors):u(s,v);if(f){var d=Array.isArray(f)?f:[f];d.forEach(function(p,h){p.type==="openTag"&&r.options.nodeId&&h===0&&(p.attributes||(p.attributes={}),p.attributes["data-nodeid"]=String(s.id)),r.renderHTMLNode(p)}),c&&(n.resumeAt(s,!1),n.next())}},o=this;a=n.next();)i();return this.addNewLine(),this.buffer.join("")},t.prototype.renderHTMLNode=function(e){switch(e.type){case"openTag":case"closeTag":this.renderElementNode(e);break;case"text":this.renderTextNode(e);break;case"html":this.renderRawHtmlNode(e);break}},t.prototype.generateOpenTagString=function(e){var r=this,n=e.tagName,a=e.classNames,i=e.attributes;this.buffer.push("<"+n),a&&a.length>0&&this.buffer.push(' class="'+a.join(" ")+'"'),i&&Object.keys(i).forEach(function(o){var s=i[o];r.buffer.push(" "+o+'="'+s+'"')}),e.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},t.prototype.generateCloseTagString=function(e){var r=e.tagName;this.buffer.push("</"+r+">")},t.prototype.addNewLine=function(){this.buffer.length&&rn(rn(this.buffer))!==`
`&&this.buffer.push(`
`)},t.prototype.addOuterNewLine=function(e){e.outerNewLine&&this.addNewLine()},t.prototype.addInnerNewLine=function(e){e.innerNewLine&&this.addNewLine()},t.prototype.renderTextNode=function(e){this.buffer.push(It(e.content))},t.prototype.renderRawHtmlNode=function(e){this.addOuterNewLine(e),this.buffer.push(e.content),this.addOuterNewLine(e)},t.prototype.renderElementNode=function(e){e.type==="openTag"?(this.addOuterNewLine(e),this.generateOpenTagString(e),e.selfClose?this.addOuterNewLine(e):this.addInnerNewLine(e)):(this.addInnerNewLine(e),this.generateCloseTagString(e),this.addOuterNewLine(e))},t}();/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */function UX(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var VX=Object.hasOwnProperty,po=Object.setPrototypeOf,jX=Object.isFrozen,zX=Object.getPrototypeOf,WX=Object.getOwnPropertyDescriptor,be=Object.freeze,Ze=Object.seal,GX=Object.create,Zl=typeof Reflect<"u"&&Reflect,an=Zl.apply,ha=Zl.construct;an||(an=function(e,r,n){return e.apply(r,n)});be||(be=function(e){return e});Ze||(Ze=function(e){return e});ha||(ha=function(e,r){return new(Function.prototype.bind.apply(e,[null].concat(UX(r))))});var XX=Pe(Array.prototype.forEach),ho=Pe(Array.prototype.pop),ir=Pe(Array.prototype.push),Fr=Pe(String.prototype.toLowerCase),mo=Pe(String.prototype.match),nt=Pe(String.prototype.replace),KX=Pe(String.prototype.indexOf),QX=Pe(String.prototype.trim),Ge=Pe(RegExp.prototype.test),go=YX(TypeError);function Pe(t){return function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return an(t,e,n)}}function YX(t){return function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return ha(t,r)}}function $(t,e){po&&po(t,null);for(var r=e.length;r--;){var n=e[r];if(typeof n=="string"){var a=Fr(n);a!==n&&(jX(e)||(e[r]=a),n=a)}t[n]=!0}return t}function dt(t){var e=GX(null),r=void 0;for(r in t)an(VX,t,[r])&&(e[r]=t[r]);return e}function Br(t,e){for(;t!==null;){var r=WX(t,e);if(r){if(r.get)return Pe(r.get);if(typeof r.value=="function")return Pe(r.value)}t=zX(t)}function n(a){return console.warn("fallback value for",a),null}return n}var yo=be(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Un=be(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Vn=be(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ZX=be(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),jn=be(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),JX=be(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),bo=be(["#text"]),wo=be(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),zn=be(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Co=be(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Pr=be(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),eK=Ze(/\{\{[\s\S]*|[\s\S]*\}\}/gm),tK=Ze(/<%[\s\S]*|[\s\S]*%>/gm),rK=Ze(/^data-[\-\w.\u00B7-\uFFFF]/),nK=Ze(/^aria-[\-\w]+$/),aK=Ze(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),iK=Ze(/^(?:\w+script|data):/i),oK=Ze(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function _e(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var sK=function(){return typeof window>"u"?null:window},lK=function(e,r){if((typeof e>"u"?"undefined":vr(e))!=="object"||typeof e.createPolicy!="function")return null;var n=null,a="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(a)&&(n=r.currentScript.getAttribute(a));var i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:function(s){return s}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function Jl(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:sK(),e=function(g){return Jl(g)};if(e.version="2.3.3",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var r=t.document,n=t.document,a=t.DocumentFragment,i=t.HTMLTemplateElement,o=t.Node,s=t.Element,l=t.NodeFilter,u=t.NamedNodeMap,c=u===void 0?t.NamedNodeMap||t.MozNamedAttrMap:u,v=t.Text,f=t.Comment,d=t.DOMParser,p=t.trustedTypes,h=s.prototype,m=Br(h,"cloneNode"),y=Br(h,"nextSibling"),w=Br(h,"childNodes"),T=Br(h,"parentNode");if(typeof i=="function"){var E=n.createElement("template");E.content&&E.content.ownerDocument&&(n=E.content.ownerDocument)}var L=lK(p,r),S=L&&q?L.createHTML(""):"",I=n,P=I.implementation,V=I.createNodeIterator,X=I.createDocumentFragment,J=I.getElementsByTagName,we=r.importNode,Tt={};try{Tt=dt(n).documentMode?n.documentMode:{}}catch{}var xe={};e.isSupported=typeof T=="function"&&P&&typeof P.createHTMLDocument<"u"&&Tt!==9;var Xt=eK,Kt=tK,Qt=rK,En=nK,Ln=iK,wr=oK,lt=aK,te=null,Cr=$({},[].concat(_e(yo),_e(Un),_e(Vn),_e(jn),_e(bo))),ie=null,ut=$({},[].concat(_e(wo),_e(zn),_e(Co),_e(Pr))),Yt=null,Zt=null,Tr=!0,Jt=!0,kr=!1,tt=!1,k=!1,C=!1,M=!1,B=!1,N=!1,_=!0,q=!1,Y=!0,oe=!0,se=!1,Ce={},rt=null,Er=$({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),er=null,tr=$({},["audio","video","img","source","image","track"]),rr=null,Lr=$({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),kt="http://www.w3.org/1998/Math/MathML",Et="http://www.w3.org/2000/svg",Se="http://www.w3.org/1999/xhtml",Lt=Se,xn=!1,xt=void 0,$u=["application/xhtml+xml","text/html"],Fu="text/html",Mt=void 0,At=null,Uu=n.createElement("form"),Mn=function(g){At&&At===g||((!g||(typeof g>"u"?"undefined":vr(g))!=="object")&&(g={}),g=dt(g),te="ALLOWED_TAGS"in g?$({},g.ALLOWED_TAGS):Cr,ie="ALLOWED_ATTR"in g?$({},g.ALLOWED_ATTR):ut,rr="ADD_URI_SAFE_ATTR"in g?$(dt(Lr),g.ADD_URI_SAFE_ATTR):Lr,er="ADD_DATA_URI_TAGS"in g?$(dt(tr),g.ADD_DATA_URI_TAGS):tr,rt="FORBID_CONTENTS"in g?$({},g.FORBID_CONTENTS):Er,Yt="FORBID_TAGS"in g?$({},g.FORBID_TAGS):{},Zt="FORBID_ATTR"in g?$({},g.FORBID_ATTR):{},Ce="USE_PROFILES"in g?g.USE_PROFILES:!1,Tr=g.ALLOW_ARIA_ATTR!==!1,Jt=g.ALLOW_DATA_ATTR!==!1,kr=g.ALLOW_UNKNOWN_PROTOCOLS||!1,tt=g.SAFE_FOR_TEMPLATES||!1,k=g.WHOLE_DOCUMENT||!1,B=g.RETURN_DOM||!1,N=g.RETURN_DOM_FRAGMENT||!1,_=g.RETURN_DOM_IMPORT!==!1,q=g.RETURN_TRUSTED_TYPE||!1,M=g.FORCE_BODY||!1,Y=g.SANITIZE_DOM!==!1,oe=g.KEEP_CONTENT!==!1,se=g.IN_PLACE||!1,lt=g.ALLOWED_URI_REGEXP||lt,Lt=g.NAMESPACE||Se,xt=$u.indexOf(g.PARSER_MEDIA_TYPE)===-1?xt=Fu:xt=g.PARSER_MEDIA_TYPE,Mt=xt==="application/xhtml+xml"?function(x){return x}:Fr,tt&&(Jt=!1),N&&(B=!0),Ce&&(te=$({},[].concat(_e(bo))),ie=[],Ce.html===!0&&($(te,yo),$(ie,wo)),Ce.svg===!0&&($(te,Un),$(ie,zn),$(ie,Pr)),Ce.svgFilters===!0&&($(te,Vn),$(ie,zn),$(ie,Pr)),Ce.mathMl===!0&&($(te,jn),$(ie,Co),$(ie,Pr))),g.ADD_TAGS&&(te===Cr&&(te=dt(te)),$(te,g.ADD_TAGS)),g.ADD_ATTR&&(ie===ut&&(ie=dt(ie)),$(ie,g.ADD_ATTR)),g.ADD_URI_SAFE_ATTR&&$(rr,g.ADD_URI_SAFE_ATTR),g.FORBID_CONTENTS&&(rt===Er&&(rt=dt(rt)),$(rt,g.FORBID_CONTENTS)),oe&&(te["#text"]=!0),k&&$(te,["html","head","body"]),te.table&&($(te,["tbody"]),delete Yt.tbody),be&&be(g),At=g)},si=$({},["mi","mo","mn","ms","mtext"]),li=$({},["foreignobject","desc","title","annotation-xml"]),xr=$({},Un);$(xr,Vn),$(xr,ZX);var An=$({},jn);$(An,JX);var Vu=function(g){var x=T(g);(!x||!x.tagName)&&(x={namespaceURI:Se,tagName:"template"});var D=Fr(g.tagName),z=Fr(x.tagName);if(g.namespaceURI===Et)return x.namespaceURI===Se?D==="svg":x.namespaceURI===kt?D==="svg"&&(z==="annotation-xml"||si[z]):!!xr[D];if(g.namespaceURI===kt)return x.namespaceURI===Se?D==="math":x.namespaceURI===Et?D==="math"&&li[z]:!!An[D];if(g.namespaceURI===Se){if(x.namespaceURI===Et&&!li[z]||x.namespaceURI===kt&&!si[z])return!1;var pe=$({},["title","style","font","a","script"]);return!An[D]&&(pe[D]||!xr[D])}return!1},je=function(g){ir(e.removed,{element:g});try{g.parentNode.removeChild(g)}catch{try{g.outerHTML=S}catch{g.remove()}}},ui=function(g,x){try{ir(e.removed,{attribute:x.getAttributeNode(g),from:x})}catch{ir(e.removed,{attribute:null,from:x})}if(x.removeAttribute(g),g==="is"&&!ie[g])if(B||N)try{je(x)}catch{}else try{x.setAttribute(g,"")}catch{}},ci=function(g){var x=void 0,D=void 0;if(M)g="<remove></remove>"+g;else{var z=mo(g,/^[\r\n\t ]+/);D=z&&z[0]}xt==="application/xhtml+xml"&&(g='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+g+"</body></html>");var pe=L?L.createHTML(g):g;if(Lt===Se)try{x=new d().parseFromString(pe,xt)}catch{}if(!x||!x.documentElement){x=P.createDocument(Lt,"template",null);try{x.documentElement.innerHTML=xn?"":pe}catch{}}var he=x.body||x.documentElement;return g&&D&&he.insertBefore(n.createTextNode(D),he.childNodes[0]||null),Lt===Se?J.call(x,k?"html":"body")[0]:k?x.documentElement:he},vi=function(g){return V.call(g.ownerDocument||g,g,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},ju=function(g){return g instanceof v||g instanceof f?!1:typeof g.nodeName!="string"||typeof g.textContent!="string"||typeof g.removeChild!="function"||!(g.attributes instanceof c)||typeof g.removeAttribute!="function"||typeof g.setAttribute!="function"||typeof g.namespaceURI!="string"||typeof g.insertBefore!="function"},nr=function(g){return(typeof o>"u"?"undefined":vr(o))==="object"?g instanceof o:g&&(typeof g>"u"?"undefined":vr(g))==="object"&&typeof g.nodeType=="number"&&typeof g.nodeName=="string"},ze=function(g,x,D){xe[g]&&XX(xe[g],function(z){z.call(e,x,D,At)})},fi=function(g){var x=void 0;if(ze("beforeSanitizeElements",g,null),ju(g)||mo(g.nodeName,/[\u0080-\uFFFF]/))return je(g),!0;var D=Mt(g.nodeName);if(ze("uponSanitizeElement",g,{tagName:D,allowedTags:te}),!nr(g.firstElementChild)&&(!nr(g.content)||!nr(g.content.firstElementChild))&&Ge(/<[/\w]/g,g.innerHTML)&&Ge(/<[/\w]/g,g.textContent)||D==="select"&&Ge(/<template/i,g.innerHTML))return je(g),!0;if(!te[D]||Yt[D]){if(oe&&!rt[D]){var z=T(g)||g.parentNode,pe=w(g)||g.childNodes;if(pe&&z)for(var he=pe.length,me=he-1;me>=0;--me)z.insertBefore(m(pe[me],!0),y(g))}return je(g),!0}return g instanceof s&&!Vu(g)||(D==="noscript"||D==="noembed")&&Ge(/<\/no(script|embed)/i,g.innerHTML)?(je(g),!0):(tt&&g.nodeType===3&&(x=g.textContent,x=nt(x,Xt," "),x=nt(x,Kt," "),g.textContent!==x&&(ir(e.removed,{element:g.cloneNode()}),g.textContent=x)),ze("afterSanitizeElements",g,null),!1)},di=function(g,x,D){if(Y&&(x==="id"||x==="name")&&(D in n||D in Uu))return!1;if(!(Jt&&!Zt[x]&&Ge(Qt,x))){if(!(Tr&&Ge(En,x))){if(!ie[x]||Zt[x])return!1;if(!rr[x]){if(!Ge(lt,nt(D,wr,""))){if(!((x==="src"||x==="xlink:href"||x==="href")&&g!=="script"&&KX(D,"data:")===0&&er[g])){if(!(kr&&!Ge(Ln,nt(D,wr,"")))){if(D)return!1}}}}}}return!0},pi=function(g){var x=void 0,D=void 0,z=void 0,pe=void 0;ze("beforeSanitizeAttributes",g,null);var he=g.attributes;if(he){var me={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ie};for(pe=he.length;pe--;){x=he[pe];var We=x,ar=We.name,hi=We.namespaceURI;if(D=QX(x.value),z=Mt(ar),me.attrName=z,me.attrValue=D,me.keepAttr=!0,me.forceKeepAttr=void 0,ze("uponSanitizeAttribute",g,me),D=me.attrValue,!me.forceKeepAttr&&(ui(ar,g),!!me.keepAttr)){if(Ge(/\/>/i,D)){ui(ar,g);continue}tt&&(D=nt(D,Xt," "),D=nt(D,Kt," "));var Wu=Mt(g.nodeName);if(di(Wu,z,D))try{hi?g.setAttributeNS(hi,ar,D):g.setAttribute(ar,D),ho(e.removed)}catch{}}}ze("afterSanitizeAttributes",g,null)}},zu=function R(g){var x=void 0,D=vi(g);for(ze("beforeSanitizeShadowDOM",g,null);x=D.nextNode();)ze("uponSanitizeShadowNode",x,null),!fi(x)&&(x.content instanceof a&&R(x.content),pi(x));ze("afterSanitizeShadowDOM",g,null)};return e.sanitize=function(R,g){var x=void 0,D=void 0,z=void 0,pe=void 0,he=void 0;if(xn=!R,xn&&(R="<!-->"),typeof R!="string"&&!nr(R)){if(typeof R.toString!="function")throw go("toString is not a function");if(R=R.toString(),typeof R!="string")throw go("dirty is not a string, aborting")}if(!e.isSupported){if(vr(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof R=="string")return t.toStaticHTML(R);if(nr(R))return t.toStaticHTML(R.outerHTML)}return R}if(C||Mn(g),e.removed=[],typeof R=="string"&&(se=!1),!se)if(R instanceof o)x=ci("<!---->"),D=x.ownerDocument.importNode(R,!0),D.nodeType===1&&D.nodeName==="BODY"||D.nodeName==="HTML"?x=D:x.appendChild(D);else{if(!B&&!tt&&!k&&R.indexOf("<")===-1)return L&&q?L.createHTML(R):R;if(x=ci(R),!x)return B?null:S}x&&M&&je(x.firstChild);for(var me=vi(se?R:x);z=me.nextNode();)z.nodeType===3&&z===pe||fi(z)||(z.content instanceof a&&zu(z.content),pi(z),pe=z);if(pe=null,se)return R;if(B){if(N)for(he=X.call(x.ownerDocument);x.firstChild;)he.appendChild(x.firstChild);else he=x;return _&&(he=we.call(r,he,!0)),he}var We=k?x.outerHTML:x.innerHTML;return tt&&(We=nt(We,Xt," "),We=nt(We,Kt," ")),L&&q?L.createHTML(We):We},e.setConfig=function(R){Mn(R),C=!0},e.clearConfig=function(){At=null,C=!1},e.isValidAttribute=function(R,g,x){At||Mn({});var D=Mt(R),z=Mt(g);return di(D,z,x)},e.addHook=function(R,g){typeof g=="function"&&(xe[R]=xe[R]||[],ir(xe[R],g))},e.removeHook=function(R){xe[R]&&ho(xe[R])},e.removeHooks=function(R){xe[R]&&(xe[R]=[])},e.removeAllHooks=function(){xe={}},e}var uK=Jl(),cK=["iframe","embed"],eu=[];function tu(t){de(cK,t)&&eu.push(t.toLowerCase())}function Ct(t,e){return uK.sanitize(t,b({ADD_TAGS:eu,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},e))}function ru(t,e){return t.literal.replace(new RegExp("(<\\s*"+e+"[^>]*>)|(</"+e+"\\s*[>])","ig"),"").trim()}function ma(t){t=t.match(_t)[0];var e=t.match(new RegExp(Ys,"g"));return e?e.reduce(function(r,n){var a=n.trim().split("="),i=a[0],o=a.slice(1);return o.length&&(r[i]=o.join("=").replace(/'|"/g,"").trim()),r},{}):{}}function ga(t){return Ve(t.attributes).reduce(function(e,r){return e[r.nodeName]=r.nodeValue,e},{})}function To(t,e,r,n){var a=n.getToDOMNode(e)(t),i=r(a.outerHTML),o=document.createElement("div");o.innerHTML=i,a=o.firstChild;var s=ga(a);return{dom:a,htmlAttrs:s}}var vK={htmlBlock:function(t,e,r){return{atom:!0,content:"block+",group:"block",attrs:{htmlAttrs:{default:{}},childrenHTML:{default:""},htmlBlock:{default:!0}},parseDOM:[{tag:t,getAttrs:function(n){return{htmlAttrs:ga(n),childrenHTML:n.innerHTML}}}],toDOM:function(n){var a=To(n,t,e,r),i=a.dom,o=a.htmlAttrs;return o.class=o.class?o.class+" html-block":"html-block",Te([t,o],Ve(i.childNodes))}}},htmlInline:function(t,e,r){return{attrs:{htmlAttrs:{default:{}},htmlInline:{default:!0}},parseDOM:[{tag:t,getAttrs:function(n){return{htmlAttrs:ga(n)}}}],toDOM:function(n){var a=To(n,t,e,r).htmlAttrs;return[t,a,0]}}}};function fK(t,e,r){var n={nodes:{},marks:{}};return["htmlBlock","htmlInline"].forEach(function(a){t[a]&&Object.keys(t[a]).forEach(function(i){var o=a==="htmlBlock"?"nodes":"marks";tu(i),n[o][i]=vK[a](i,e,r)})}),n}var dK=/^\s*<\s*\//,pK={paragraph:function(t,e){var r=e.entering,n=e.origin,a=e.options;return a.nodeId?{type:r?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:n()},softbreak:function(t){var e=t.prev&&t.prev.type==="htmlInline",r=e&&/<br ?\/?>/.test(t.prev.literal),n=r?`
`:`<br>
`;return{type:"html",content:n}},item:function(t,e){var r=e.entering;if(r){var n={},a=[];return t.listData.task&&(n["data-task"]="",a.push("task-list-item"),t.listData.checked&&(a.push("checked"),n["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:a,attributes:n,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(t){var e={"data-backticks":String(t.tickCount)};return[{type:"openTag",tagName:"code",attributes:e},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(t){var e=t,r=e.fenceLength,n=e.info,a=n?n.split(/\s+/):[],i=[],o={};if(r>3&&(o["data-backticks"]=r),a.length>0&&a[0].length>0){var s=a[0];i.push("lang-"+s),o["data-language"]=s}return[{type:"openTag",tagName:"pre",classNames:i},{type:"openTag",tagName:"code",attributes:o},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(t,e){var r=e.origin,n=e.entering,a=e.skipChildren,i=t.info;if(i.indexOf("widget")!==-1&&n){a();var o=Gs(t),s=Ws(i,o).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:s},{type:"closeTag",tagName:"span"}]}return r()}};function ti(t,e){var r=b({},pK);return t&&(r.link=function(n,a){var i=a.entering,o=a.origin,s=o();return i&&(s.attributes=b(b({},s.attributes),t)),s}),e&&Object.keys(e).forEach(function(n){var a=r[n],i=e[n];a&&Me(i)?r[n]=function(o,s){var l=b({},s);return l.origin=function(){return a(o,s)},i(o,l)}:de(["htmlBlock","htmlInline"],n)&&!Me(i)?r[n]=function(o,s){var l=o.literal.match(_t);if(l){var u=l[0],c=l[1],v=l[3],f=(c||v).toLowerCase(),d=i[f],p=ru(o,f);if(d){var h=b({},o);return h.attrs=ma(u),h.childrenHTML=p,h.type=f,s.entering=!dK.test(o.literal),d(h,s)}}return s.origin()}:r[n]=i}),r}var hK=["list","item","blockQuote"],mK=["UL","OL","BLOCKQUOTE"];function gK(t,e){var r,n=t.child(e);return!n.childCount||n.childCount===1&&!(!((r=n.firstChild.text)===null||r===void 0)&&r.trim())}function ko(t,e,r){var n=yr(e)-1,a=fn(e)-1,i=r[n].getBoundingClientRect(),o=r[a].offsetTop-r[n].offsetTop+r[a].clientHeight;return{height:o<=0?r[n].clientHeight:o+yK(t,r,Math.min(a+1,t.childCount-1)),rect:i}}function yK(t,e,r){for(var n=t.childCount-1,a=0;r<=n&&gK(t,r);)a+=e[r].clientHeight,r+=1;return a}function bK(t,e){for(;!t.getAttribute("data-nodeid")&&t.parentElement!==e;)t=t.parentElement;return t}function on(t,e){for(var r=0;t&&t!==e&&(de(mK,t.tagName)||(r+=t.offsetTop),t.offsetParent!==e.offsetParent);)t=t.parentElement;return r}function wK(t,e){for(var r=e,n=null;r;){var a=r.firstElementChild;if(!a)break;var i=nu(a,t,on(r,e));n=r,r=i}var o=r||n;return o===e?null:o}function nu(t,e,r){return t&&e>r+t.offsetTop?nu(t.nextElementSibling,e,r)||t:null}function CK(t,e,r,n){var a=Math.min((t-e)/r,1);return a*n}function Wn(t,e){for(var r=t.querySelector('[data-nodeid="'+e.id+'"]');!r||lv(e);)e=e.parent,r=t.querySelector('[data-nodeid="'+e.id+'"]');return TK({mdNode:e,el:r})}function TK(t){for(var e=t.mdNode,r=t.el;(de(hK,e.type)||e.type==="table")&&e.firstChild;)e=e.firstChild,r=r.firstElementChild;return{mdNode:e,el:r}}var Ie={};function kK(t,e){Ie[t]=Ie[t]||{},Ie[t].height=e}function EK(t,e){Ie[t]=Ie[t]||{},Ie[t].offsetTop=e}function LK(t){return Ie[t]&&Ie[t].height}function xK(t){return Ie[t]&&Ie[t].offsetTop}function ya(t){t&&(delete Ie[Number(t.getAttribute("data-nodeid"))],Ve(t.children).forEach(function(e){ya(e)}))}function MK(t,e,r){var n=LK(r),a=xK(r),i=n||t.clientHeight,o=a||on(t,e)||t.offsetTop;return n||kK(r,i),a||EK(r,o),{nodeHeight:i,offsetTop:o}}var Gn=O("md-preview-highlight");function AK(t,e){for(var r=t.firstChild;r&&r.next&&!(dn(r.next)>e+1);)r=r.next;return r}var au=function(){function t(e,r){var n=document.createElement("div");this.el=n,this.eventEmitter=e,this.isViewer=!!r.isViewer,this.el.className=O("md-preview");var a=r.linkAttributes,i=r.customHTMLRenderer,o=r.sanitizer,s=r.highlight,l=s===void 0?!1:s;this.renderer=new ei({gfm:!0,nodeId:!0,convertors:ti(a,i)}),this.cursorNodeId=null,this.sanitizer=o,this.initEvent(l),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return t.prototype.initContentSection=function(){this.previewContent=rl('<div class="'+O("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},t.prototype.toggleActive=function(e){$a(this.el,"active",e)},t.prototype.initEvent=function(e){var r=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),!this.isViewer&&(e&&(this.eventEmitter.listen("changeToolbarState",function(n){var a=n.mdNode,i=n.cursorPos;r.updateCursorNode(a,i)}),this.eventEmitter.listen("blur",function(){r.removeHighlight()})),bl(this.el,"scroll",function(n){r.eventEmitter.emit("scroll","preview",wK(n.target.scrollTop,r.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return r.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return r.toggleActive(!1)}))},t.prototype.removeHighlight=function(){if(this.cursorNodeId){var e=this.getElementByNodeId(this.cursorNodeId);e&&De(e,Gn)}},t.prototype.updateCursorNode=function(e,r){e&&(e=Ht(e,function(o){return!vv(o)}),e.type==="tableRow"?e=AK(e,r[1]):e.type==="tableBody"&&(e=null));var n=e?e.id:null;if(this.cursorNodeId!==n){var a=this.getElementByNodeId(this.cursorNodeId),i=this.getElementByNodeId(n);a&&De(a,Gn),i&&$e(i,Gn),this.cursorNodeId=n}},t.prototype.getElementByNodeId=function(e){return e?this.previewContent.querySelector('[data-nodeid="'+e+'"]'):null},t.prototype.update=function(e){var r=this;e.forEach(function(n){return r.replaceRangeNodes(n)}),this.eventEmitter.emit("afterPreviewRender",this)},t.prototype.replaceRangeNodes=function(e){var r=this,n=e.nodes,a=e.removedNodeRange,i=this.previewContent,o=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(n.map(function(p){return r.renderer.render(p)}).join("")));if(!a)i.insertAdjacentHTML("afterbegin",o);else{var s=a.id,l=s[0],u=s[1],c=this.getElementByNodeId(l),v=this.getElementByNodeId(u);if(c){c.insertAdjacentHTML("beforebegin",o);for(var f=c;f&&f!==v;){var d=f.nextElementSibling;yt(f),ya(f),f=d}f!=null&&f.parentNode&&(yt(f),ya(f))}}},t.prototype.getRenderer=function(){return this.renderer},t.prototype.destroy=function(){yl(this.el,"scroll"),this.el=null},t.prototype.getElement=function(){return this.el},t.prototype.getHTML=function(){return Va(this.previewContent.innerHTML)},t.prototype.setHTML=function(e){this.previewContent.innerHTML=e},t.prototype.setHeight=function(e){Ue(this.el,{height:e+"px"})},t.prototype.setMinHeight=function(e){Ue(this.el,{minHeight:e+"px"})},t}();function Ke(t,e){for(var r=t.depth;r;){var n=t.node(r);if(e(n,r))return{node:n,depth:r,offset:r>0?t.before(r):0};r-=1}return null}function Ut(t){return!!Ke(t,function(e){var r=e.type;return r.name==="listItem"||r.name==="bulletList"||r.name==="orderedList"})}function sn(t){return!!Ke(t,function(e){var r=e.type;return r.name==="tableHeadCell"||r.name==="tableBodyCell"})}function Vt(t){return Ke(t,function(e){var r=e.type;return r.name==="listItem"})}function Tn(t){return{tag:t,getAttrs:function(e){var r=e.getAttribute("data-raw-html");return b({},r&&{rawHTML:r})}}}function iu(t){return Object.keys(t).reduce(function(e,r){return r!=="rawHTML"&&t[r]&&(r=r==="className"?"class":r,e[r]=t[r]),e},{})}function ou(t){return{tag:t,getAttrs:function(e){return["rawHTML","colspan","rowspan","extended"].reduce(function(r,n){var a=n==="rawHTML"?"data-raw-html":n,i=e.getAttribute(a);return i&&(r[n]=de(["rawHTML","extended"],n)?i:Number(i)),r},{})}}}function ue(){return{htmlAttrs:{default:null},classNames:{default:null}}}function ee(t){var e=t.htmlAttrs,r=t.classNames;return b(b({},e),{class:r?r.join(" "):null})}function SK(t,e){var r=t.parent,n=t.startIndex,a=t.endIndex,i=r.contentMatchAt(n).findWrapping(e);if(i){var o=i.length?i[0]:e;return r.canReplaceWith(n,a,o)?i:null}return null}function OK(t,e){var r=t.parent,n=t.startIndex,a=t.endIndex,i=r.child(n),o=e.contentMatch.findWrapping(i.type);if(o){for(var s=o.length?o[o.length-1]:e,l=s.contentMatch,u=n;l&&u<a;u+=1)l=l.matchType(r.child(u).type);if(l&&l.validEnd)return o}return null}function DK(t,e,r,n){var a=SK(t,r),i=OK(e,r);if(a&&i){var o=a.map(function(l){return{type:l}}),s=i.map(function(l){return{type:l,attrs:n}});return o.concat({type:r}).concat(s)}return null}function IK(t,e,r,n,a){for(var i=e.start,o=e.end,s=e.startIndex,l=e.endIndex,u=e.parent,c=W.empty,v=r.length-1;v>=0;v-=1)c=W.from(r[v].type.create(r[v].attrs,c));t.step(new mr(i-(n?2:0),o,i,o,new Re(c,0,0),r.length,!0));for(var f=0,v=0;v<r.length;v+=1)if(r[v].type===a){f=v+1;break}for(var d=r.length-f,p=i+r.length-(n?2:0),v=s,h=l;v<h;v+=1){var m=v===s;!m&&Ns(t.doc,p,d)&&(t.split(p,d),p+=d*2),p+=u.child(v).nodeSize}return t}function su(t,e,r,n){var a=e.$from,i=e.$to,o=e.depth,s=e,l=!1;if(o>=2&&a.node(o-1).type.compatibleContent(r)&&e.startIndex===0&&a.index(o-1)){var u=t.doc.resolve(e.start-2);s=new Yn(u,u,o),e.endIndex<e.parent.childCount&&(e=new Yn(a,t.doc.resolve(i.end(o)),o)),l=!0}var c=DK(s,e,r,n);return c?IK(t,e,c,l,r):t}function lu(t,e){for(var r=t.resolve(e);r.node().type.name!=="paragraph";)e-=2,r=t.resolve(e);return Vt(r)}function NK(t,e){var r=e.$from,n=e.$to,a=Vt(r),i=Vt(n);if(a&&i)for(;i;){var o=i.offset,s=i.node,l={task:!s.attrs.task,checked:!1};if(t.setNodeMarkup(o,null,l),o===a.offset)break;i=lu(t.doc,o)}return t}function RK(t,e,r){var n=e.$from,a=e.$to,i=Vt(n),o=Vt(a);if(i&&o)for(;o;){var s=o.offset,l=o.node,u=o.depth;l.attrs.task&&t.setNodeMarkup(s,null,{task:!1,checked:!1});var c=t.doc.resolve(s);if(c.parent.type!==r){var v=c.before(u-1);t.setNodeMarkup(v,r)}if(s===i.offset)break;o=lu(t.doc,s)}return t}function uu(t){return function(e,r){var n=e.selection,a=e.tr,i=n.$from,o=n.$to,s=i.blockRange(o);if(s){var l=Ut(i)?RK(a,s,t):su(a,s,t);return r(l),!0}return!1}}function BK(){return function(t,e){var r=t.selection,n=t.tr,a=t.schema,i=r.$from,o=r.$to,s=i.blockRange(o);if(s){var l=Ut(i)?NK(n,s):su(n,s,a.nodes.bulletList,{task:!0});return e(l),!0}return!1}}function PK(t){return function(e,r){var n=e.tr,a=e.selection,i=a.$from,o=a.$to,s=i.blockRange(o,function(h){var m=h.childCount,y=h.firstChild;return!!m&&y.type===t});if(s&&s.startIndex>0){var l=s.parent,u=l.child(s.startIndex-1);if(u.type!==t)return!1;var c=u.lastChild&&u.lastChild.type===l.type,v=c?W.from(t.create()):null,f=new Re(W.from(t.create(null,W.from(l.type.create(null,v)))),c?3:1,0),d=s.start,p=s.end;return n.step(new mr(d-(c?3:1),p,d,p,f,1,!0)),r(n),!0}return!1}}function HK(t,e,r){var n=e.$from,a=e.$to,i=e.end,o=e.depth,s=e.parent,l=a.end(o);return i<l&&(t.step(new mr(i-1,l,i,l,new Re(W.from(r.create(null,s.copy())),1,0),1,!0)),e=new Yn(t.doc.resolve(n.pos),t.doc.resolve(l),o)),t.lift(e,Ku(e)),t}function _K(t,e){for(var r=e.parent,n=e.end,a=e.endIndex-1,i=e.startIndex;a>i;a-=1)n-=r.child(a).nodeSize,t.delete(n-1,n+1);var o=t.doc.resolve(e.start),s=o.nodeAfter,l=e.startIndex===0,u=e.endIndex===r.childCount,c=o.node(-1),v=o.index(-1),f=c.canReplace(v+(l?0:1),v+1,s==null?void 0:s.content.append(u?W.empty:W.from(r)));if(s&&f){var d=o.pos,p=d+s.nodeSize;t.step(new mr(d-(l?1:0),p+(u?1:0),d+1,p-1,new Re((l?W.empty:W.from(r.copy(W.empty))).append(u?W.empty:W.from(r.copy(W.empty))),l?0:1,u?0:1),l?0:1))}return t}function qK(t){return function(e,r){var n=e.tr,a=e.selection,i=a.$from,o=a.$to,s=i.blockRange(o,function(c){var v=c.childCount,f=c.firstChild;return!!v&&f.type===t});if(s){var l=i.node(s.depth-1).type===t,u=l?HK(n,s,t):_K(n,s);return r(u),!0}return!1}}function $K(t){return function(e,r){var n=e.tr,a=e.selection,i=a.$from,o=a.$to;if(i.depth<2||!i.sameParent(o))return!1;var s=i.node(-1);if(s.type!==t)return!1;if(i.parent.content.size===0&&i.node(-1).childCount===i.indexAfter(-1)){if(i.depth===2||i.node(-3).type!==t||i.index(-2)!==i.node(-2).childCount-1)return!1;for(var l=i.index(-1)>0,u=W.empty,c=i.depth-(l?1:2);c>=i.depth-3;c-=1)u=W.from(i.node(c).copy(u));return u=u.append(W.from(t.createAndFill())),n.replace(l?i.before():i.before(-1),i.after(-3),new Re(u,l?3:2,2)),n.setSelection(Wt.near(n.doc.resolve(i.pos+(l?3:2)))),r(n),!0}var v=o.pos===i.end()?s.contentMatchAt(0).defaultType:null,f=v&&[null,{type:v}];return n.delete(i.pos,o.pos),Ns(n.doc,i.pos,2,f)?(n.split(i.pos,2,f),r(n),!0):!1}}function FK(){return function(){return function(t,e){var r=t.selection,n=t.schema,a=r.$from,i=r.$to,o=a.blockRange(i);return o&&Ut(a)?PK(n.nodes.listItem)(t,e):!1}}}function UK(){return function(){return function(t,e){var r=t.selection,n=t.schema,a=r.$from,i=r.$to,o=a.blockRange(i);return o&&Ut(a)?qK(n.nodes.listItem)(t,e):!1}}}function ri(){return{indent:FK(),outdent:UK()}}var Eo=new Map,ce=function(){function t(e,r,n,a){this.table=e,this.tableRows=r,this.tableStartPos=n,this.rowInfo=a}return t.create=function(e){var r=Ke(e,function(p){var h=p.type;return h.name==="table"});if(r){var n=r.node,a=r.depth,i=r.offset,o=Eo.get(n);if((o==null?void 0:o.tableStartPos)===i+1)return o;var s=[],l=e.start(a),u=n.child(0),c=n.child(1),v=ba(u,l),f=ba(c,l+u.nodeSize);u.forEach(function(p){return s.push(p)}),c.forEach(function(p){return s.push(p)});var d=new t(n,s,l,v.concat(f));return Eo.set(n,d),d}return null},Object.defineProperty(t.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),t.prototype.getCellInfo=function(e,r){return this.rowInfo[e][r]},t.prototype.posAt=function(e,r){for(var n=0,a=this.tableStartPos;;n+=1){var i=a+this.tableRows[n].nodeSize;if(n===e){for(var o=r;o<this.totalColumnCount&&this.rowInfo[n][o].offset<a;)o+=1;return o===this.totalColumnCount?i:this.rowInfo[n][o].offset}a=i}},t.prototype.getNodeAndPos=function(e,r){var n=this.rowInfo[e][r];return{node:this.table.nodeAt(n.offset-this.tableStartOffset),pos:n.offset}},t.prototype.extendedRowspan=function(e,r){return!1},t.prototype.extendedColspan=function(e,r){return!1},t.prototype.getRowspanCount=function(e,r){return 0},t.prototype.getColspanCount=function(e,r){return 0},t.prototype.decreaseColspanCount=function(e,r){return 0},t.prototype.decreaseRowspanCount=function(e,r){return 0},t.prototype.getColspanStartInfo=function(e,r){return null},t.prototype.getRowspanStartInfo=function(e,r){return null},t.prototype.getCellStartOffset=function(e,r){var n=this.rowInfo[e][r].offset;return this.extendedRowspan(e,r)?this.posAt(e,r):n},t.prototype.getCellEndOffset=function(e,r){var n=this.rowInfo[e][r],a=n.offset,i=n.nodeSize;return this.extendedRowspan(e,r)?this.posAt(e,r):a+i},t.prototype.getCellIndex=function(e){for(var r=0;r<this.totalRowCount;r+=1)for(var n=this.rowInfo[r],a=0;a<this.totalColumnCount;a+=1)if(n[a].offset+1>e.pos)return[r,a];return[0,0]},t.prototype.getRectOffsets=function(e,r){var n,a,i;r===void 0&&(r=e),e.pos>r.pos&&(n=[r,e],e=n[0],r=n[1]);var o=this.getCellIndex(e),s=o[0],l=o[1],u=this.getCellIndex(r),c=u[0],v=u[1];return a=Ei(s,c),s=a[0],c=a[1],i=Ei(l,v),l=i[0],v=i[1],this.getSpannedOffsets({startRowIdx:s,startColIdx:l,endRowIdx:c,endColIdx:v})},t.prototype.getSpannedOffsets=function(e){return e},t}(),ba=function(t,e){var r=[];return t.forEach(function(n,a){var i={rowspanMap:{},colspanMap:{},length:0};n.forEach(function(o,s){for(var l=o.nodeSize,u=0;i[u];)u+=1;i[u]={offset:e+a+s+2,nodeSize:l},i.length+=1}),r.push(i)}),r};function VK(t,e){return Pa(ce.prototype,t),ba=e,ce}function jK(t,e,r){for(var n=r.startRowIdx,a=r.startColIdx,i=r.endRowIdx,o=r.endColIdx,s=[],l=n;l<=i;l+=1)for(var u=a;u<=o;u+=1){var c=e.getCellInfo(l,u),v=c.offset,f=c.nodeSize;s.push(new Yu(t.resolve(v+1),t.resolve(v+f-1)))}return s}function zK(t,e){var r=[];return t.childCount&&r.push(t),e.childCount&&r.push(e),W.from(r)}var ni=function(t){A(e,t);function e(r,n){n===void 0&&(n=r);var a=this,i=r.node(0),o=ce.create(r),s=o.getRectOffsets(r,n),l=jK(i,o,s);return a=t.call(this,l[0].$from,l[0].$to,l)||this,a.startCell=r,a.endCell=n,a.offsetMap=o,a.isCellSelection=!0,a.visible=!1,a}return e.prototype.map=function(r,n){var a=this.startCell.pos,i=this.endCell.pos,o=r.resolve(n.map(a)),s=r.resolve(n.map(i)),l=ce.create(o);if(this.offsetMap.totalColumnCount>l.totalColumnCount||this.offsetMap.totalRowCount>l.totalRowCount){var u={tableBody:1,tableRow:2,tableCell:3,paragraph:4},c=u[s.parent.type.name],v=s.end(s.depth-c),f=Math.min(v-4,s.pos);return zt.create(r,f)}return new e(o,s)},e.prototype.eq=function(r){return r instanceof e&&r.startCell.pos===this.startCell.pos&&r.endCell.pos===this.endCell.pos},e.prototype.content=function(){for(var r=this.startCell.node(-2),n=this.startCell.start(-2),a=r.child(1).firstChild,i=r.child(0).type.create(),o=r.child(1).type.create(),s=ce.create(this.startCell),l=s.getRectOffsets(this.startCell,this.endCell),u=l.startRowIdx,c=l.startColIdx,v=l.endRowIdx,f=l.endColIdx,d=!1,p=u;p<=v;p+=1){for(var h=[],m=c;m<=f;m+=1){var y=s.getCellInfo(p,m).offset,w=r.nodeAt(y-n);w&&(d=w.type.name==="tableHeadCell",s.extendedRowspan(p,m)||s.extendedColspan(p,m)?h.push(w.type.create({extended:!0})):h.push(w.copy(w.content)))}var T=a.copy(W.from(h)),E=d?i:o;E.content=E.content.append(W.from(T))}return new Re(zK(i,o),1,1)},e.prototype.toJSON=function(){return JSON.stringify(this)},e}(Wt);function WK(t,e,r){for(var n=e.nodes,a=n.tableRow,i=n.tableHeadCell,o=n.paragraph,s=[],l=0;l<t;l+=1){var u=r&&r[l],c=o.create(null,u?e.text(u):[]);s.push(i.create(null,c))}return[a.create(null,s)]}function cu(t,e,r,n){for(var a=r.nodes,i=a.tableRow,o=a.tableBodyCell,s=a.paragraph,l=[],u=0;u<t;u+=1){for(var c=[],v=0;v<e;v+=1){var f=n&&n[u*e+v],d=s.create(null,f?r.text(f):[]);c.push(o.create(null,d))}l.push(i.create(null,c))}return l}function Ur(t,e,r,n){n===void 0&&(n=null);for(var a=r.nodes,i=a.tableHeadCell,o=a.tableBodyCell,s=a.paragraph,l=e===0?i:o,u=[],c=0;c<t;c+=1)u.push(l.create(n,s.create()));return u}function vu(t,e){for(;t&&t!==e;){if(t.nodeName==="TD"||t.nodeName==="TH")return t;t=t.parentNode}return null}function fu(t){return Ke(t,function(e){var r=e.type;return r.name==="tableHeadCell"||r.name==="tableBodyCell"})}function qe(t){if(t instanceof zt){var e=t.$anchor,r=fu(e);if(r){var n=e.node(0).resolve(e.before(r.depth));return{anchor:n,head:n}}}var a=t,i=a.startCell,o=a.endCell;return{anchor:i,head:o}}function du(t){var e;if(t.size){var r=t.content,n=t.openStart,a=t.openEnd;if(r.childCount!==1)return null;for(;r.childCount===1&&(n>0&&a>0||((e=r.firstChild)===null||e===void 0?void 0:e.type.name)==="table");)n-=1,a-=1,r=r.firstChild.content;if(r.firstChild.type.name==="tableHead"||r.firstChild.type.name==="tableBody")return r}return null}function Rt(t){var e=t.startRowIdx,r=t.startColIdx,n=t.endRowIdx,a=t.endColIdx,i=n-e+1,o=a-r+1;return{rowCount:i,columnCount:o}}function GK(t,e){return b(b({},t.attrs),e)}var at=new Aa("cellSelection"),XK=2,KK=function(){function t(e){this.view=e,this.handlers={mousedown:this.handleMousedown.bind(this),mousemove:this.handleMousemove.bind(this),mouseup:this.handleMouseup.bind(this)},this.startCellPos=null,this.init()}return t.prototype.init=function(){this.view.dom.addEventListener("mousedown",this.handlers.mousedown)},t.prototype.handleMousedown=function(e){var r=vu(e.target,this.view.dom);if(e.button===XK){e.preventDefault();return}if(r){var n=this.getCellPos(e);n&&(this.startCellPos=n),this.bindEvent()}},t.prototype.handleMousemove=function(e){var r=at.getState(this.view.state),n=this.getCellPos(e),a=this.startCellPos,i;r?i=this.view.state.doc.resolve(r):a!==n&&(i=a),i&&a&&n&&this.setCellSelection(a,n)},t.prototype.handleMouseup=function(){this.startCellPos=null,this.unbindEvent(),at.getState(this.view.state)!==null&&this.view.dispatch(this.view.state.tr.setMeta(at,-1))},t.prototype.bindEvent=function(){var e=this.view.dom;e.addEventListener("mousemove",this.handlers.mousemove),e.addEventListener("mouseup",this.handlers.mouseup)},t.prototype.unbindEvent=function(){var e=this.view.dom;e.removeEventListener("mousemove",this.handlers.mousemove),e.removeEventListener("mouseup",this.handlers.mouseup)},t.prototype.getCellPos=function(e){var r=e.clientX,n=e.clientY,a=this.view.posAtCoords({left:r,top:n});if(a){var i=this.view.state.doc,o=i.resolve(a.pos),s=fu(o);if(s){var l=o.before(s.depth);return i.resolve(l)}}return null},t.prototype.setCellSelection=function(e,r){var n=this.view.state,a=n.selection,i=n.tr,o=at.getState(this.view.state)===null,s=new ni(e,r);if(o||!a.eq(s)){var l=i.setSelection(s);o&&l.setMeta(at,r.pos),this.view.dispatch(l)}},t.prototype.destroy=function(){this.view.dom.removeEventListener("mousedown",this.handlers.mousedown)},t}(),QK=O("cell-selected");function YK(t){var e=t.selection,r=t.doc;if(e instanceof ni){var n=[],a=e.ranges;return a.forEach(function(i){var o=i.$from,s=i.$to;n.push(xa.node(o.pos-1,s.pos+1,{class:QK}))}),La.create(r,n)}return null}function ZK(){return new He({key:at,state:{init:function(){return null},apply:function(t,e){var r=t.getMeta(at);if(r)return r===-1?null:r;if(Wr(e)||!t.docChanged)return e;var n=t.mapping.mapResult(e),a=n.deleted,i=n.pos;return a?null:i}},props:{decorations:YK,createSelectionBetween:function(t){var e=t.state;return Wr(at.getState(e))?null:e.selection}},view:function(t){return new KK(t)}})}var pu=function(){function t(){this.keys=[],this.values=[]}return t.prototype.getKeyIndex=function(e){return mt(e,this.keys)},t.prototype.get=function(e){return this.values[this.getKeyIndex(e)]},t.prototype.set=function(e,r){var n=this.getKeyIndex(e);return n>-1?this.values[n]=r:(this.keys.push(e),this.values.push(r)),this},t.prototype.has=function(e){return this.getKeyIndex(e)>-1},t.prototype.delete=function(e){var r=this.getKeyIndex(e);return r>-1?(this.keys.splice(r,1),this.values.splice(r,1),!0):!1},t.prototype.forEach=function(e,r){var n=this;r===void 0&&(r=this),this.values.forEach(function(a,i){a&&n.keys[i]&&e.call(r,a,n.keys[i],n)})},t.prototype.clear=function(){this.keys=[],this.values=[]},t}(),Xn="en-US",JK=function(){function t(){this.code=Xn,this.langs=new pu}return t.prototype.setCode=function(e){this.code=e||Xn},t.prototype.setLanguage=function(e,r){var n=this;e=[].concat(e),e.forEach(function(a){if(!n.langs.has(a))n.langs.set(a,r);else{var i=n.langs.get(a);n.langs.set(a,Oa(i,r))}})},t.prototype.get=function(e,r){r||(r=this.code);var n=this.langs.get(r);n||(n=this.langs.get(Xn));var a=n[e];if(!a)throw new Error('There is no text key "'+e+'" in '+r);return a},t}(),H=new JK,eQ=[[{action:"Add row to up",command:"addRowToUp",disableInThead:!0,className:"add-row-up"},{action:"Add row to down",command:"addRowToDown",disableInThead:!0,className:"add-row-down"},{action:"Remove row",command:"removeRow",disableInThead:!0,className:"remove-row"}],[{action:"Add column to left",command:"addColumnToLeft",className:"add-column-left"},{action:"Add column to right",command:"addColumnToRight",className:"add-column-right"},{action:"Remove column",command:"removeColumn",className:"remove-column"}],[{action:"Align column to left",command:"alignColumn",payload:{align:"left"},className:"align-column-left"},{action:"Align column to center",command:"alignColumn",payload:{align:"center"},className:"align-column-center"},{action:"Align column to right",command:"alignColumn",payload:{align:"right"},className:"align-column-right"}],[{action:"Remove table",command:"removeTable",className:"remove-table"}]];function tQ(t,e){return eQ.map(function(r){return r.map(function(n){var a=n.action,i=n.command,o=n.payload,s=n.disableInThead,l=n.className;return{label:H.get(a),onClick:function(){t.emit("command",i,o)},disabled:e&&!!s,className:l}})}).concat()}function rQ(t){return new He({props:{handleDOMEvents:{contextmenu:function(e,r){var n=vu(r.target,e.dom);if(n){r.preventDefault();var a=r,i=a.clientX,o=a.clientY,s=e.dom.parentNode.getBoundingClientRect(),l=s.left,u=s.top,c=n.nodeName==="TH";return t.emit("contextmenu",{pos:{left:i-l+10+"px",top:o-u+30+"px"},menuGroups:tQ(t,c),tableCell:n}),!0}return!1}}}})}function nQ(){return new He({props:{handleDOMEvents:{mousedown:function(t,e){var r=e,n=r.clientX,a=r.clientY,i=t.posAtCoords({left:n,top:a});if(i){var o=t.state,s=o.doc,l=o.tr,u=s.resolve(i.pos),c=Vt(u),v=e.target,f=getComputedStyle(v,":before"),d=e,p=d.offsetX,h=d.offsetY;if(!c||!qa(f,p,h))return!1;e.preventDefault();var m=u.before(c.depth),y=c.node.attrs;return l.setNodeMarkup(m,null,b(b({},y),{checked:!y.checked})),t.dispatch(l),!0}return!1}}}})}var aQ=["image","link","customBlock","frontMatter"],iQ=["strong","strike","emph","code"],hu=["bulletList","orderedList","taskList"];function oQ(t,e){var r=t.type.name;return r==="listItem"?t.attrs.task?"taskList":e.type.name:r.indexOf("table")!==-1?"table":r}function sQ(t,e){e[t]={active:!0},hu.filter(function(r){return r!==t}).forEach(function(r){e[r]&&delete e[r]})}function lQ(t,e,r,n){iQ.forEach(function(a){var i=r.marks[a],o=t.marksAcross(e)||[],s=!!i.isInSet(o);s&&(n[a]={active:!0})})}function uQ(t,e,r){var n=t.$from,a=t.$to,i=t.from,o=t.to,s={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}};return e.nodesBetween(i,o,function(l,u,c){var v=oQ(l,c);de(aQ,v)||(de(hu,v)?(sQ(v,s),s.indent.disabled=!1,s.outdent.disabled=!1):v==="paragraph"||v==="text"?lQ(n,a,r,s):s[v]={active:!0})}),s}function cQ(t){return new He({view:function(){return{update:function(e){var r=e.state,n=r.selection,a=r.doc,i=r.schema;t.emit("changeToolbarState",{toolbarState:uQ(n,a,i)})}}}})}var vQ=function(){function t(e,r,n,a){var i=this;this.openEditor=function(){if(i.innerEditorView)throw new Error("The editor is already opened.");i.dom.draggable=!1,i.wrapper.style.display="none",i.innerViewContainer.style.display="block",i.innerEditorView=new Ma(i.innerViewContainer,{state:Rs.create({doc:i.node,plugins:[dr({"Mod-z":function(){return _r(i.innerEditorView.state,i.innerEditorView.dispatch)},"Shift-Mod-z":function(){return $s(i.innerEditorView.state,i.innerEditorView.dispatch)},Tab:function(o,s){return s(o.tr.insertText("	")),!0},Enter:nc,Escape:function(){return i.cancelEditing(),!0},"Ctrl-Enter":function(){return i.saveAndFinishEditing(),!0}}),qs()]}),dispatchTransaction:function(o){return i.dispatchInner(o)},handleDOMEvents:{mousedown:function(){return i.editorView.hasFocus()&&i.innerEditorView.focus(),!0},blur:function(){return i.saveAndFinishEditing(),!0}}}),i.innerEditorView.focus()},this.node=e,this.editorView=r,this.getPos=n,this.toDOMAdaptor=a,this.innerEditorView=null,this.canceled=!1,this.dom=document.createElement("div"),this.dom.className=O("custom-block"),this.wrapper=document.createElement("div"),this.wrapper.className=O("custom-block-view"),this.createInnerViewContainer(),this.renderCustomBlock(),this.dom.appendChild(this.innerViewContainer),this.dom.appendChild(this.wrapper)}return t.prototype.renderToolArea=function(){var e=this,r=document.createElement("div"),n=document.createElement("span"),a=document.createElement("button");r.className="tool",n.textContent=this.node.attrs.info,n.className="info",a.type="button",a.addEventListener("click",function(){return e.openEditor()}),r.appendChild(n),r.appendChild(a),this.wrapper.appendChild(r)},t.prototype.renderCustomBlock=function(){var e=this.toDOMAdaptor.getToDOMNode(this.node.attrs.info);if(e){for(var r=e(this.node);this.wrapper.hasChildNodes();)this.wrapper.removeChild(this.wrapper.lastChild);r&&this.wrapper.appendChild(r),this.renderToolArea()}},t.prototype.createInnerViewContainer=function(){this.innerViewContainer=document.createElement("div"),this.innerViewContainer.className=O("custom-block-editor"),this.innerViewContainer.style.display="none"},t.prototype.closeEditor=function(){this.innerEditorView&&(this.innerEditorView.destroy(),this.innerEditorView=null,this.innerViewContainer.style.display="none"),this.wrapper.style.display="block"},t.prototype.saveAndFinishEditing=function(){var e=this.editorView.state.selection.to,r=this.editorView.state;this.editorView.dispatch(r.tr.setSelection(K(r.tr,e))),this.editorView.focus(),this.renderCustomBlock(),this.closeEditor()},t.prototype.cancelEditing=function(){var e=ic(this.innerEditorView.state);for(this.canceled=!0;e--;)_r(this.innerEditorView.state,this.innerEditorView.dispatch),_r(this.editorView.state,this.editorView.dispatch);this.canceled=!1;var r=this.editorView.state.selection.to,n=this.editorView.state;this.editorView.dispatch(n.tr.setSelection(zt.create(n.doc,r))),this.editorView.focus(),this.closeEditor()},t.prototype.dispatchInner=function(e){var r=this.innerEditorView.state.applyTransaction(e),n=r.state,a=r.transactions;if(this.innerEditorView.updateState(n),!this.canceled&&Me(this.getPos)){for(var i=this.editorView.state.tr,o=Xu.offset(this.getPos()+1),s=0;s<a.length;s+=1)for(var l=a[s].steps,u=0;u<l.length;u+=1)i.step(l[u].map(o));i.docChanged&&this.editorView.dispatch(i)}},t.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,this.innerEditorView||this.renderCustomBlock(),!0):!1},t.prototype.stopEvent=function(e){return!!this.innerEditorView&&!!e.target&&this.innerEditorView.dom.contains(e.target)},t.prototype.ignoreMutation=function(){return!0},t.prototype.destroy=function(){this.dom.removeEventListener("dblclick",this.openEditor),this.closeEditor()},t}(),Lo="image-link",fQ=function(){function t(e,r,n,a){var i=this,o;this.handleMousedown=function(s){s.preventDefault();var l=s.target,u=s.offsetX,c=s.offsetY;if(i.imageLink&&Me(i.getPos)&&Ks(l,Lo)){var v=getComputedStyle(l,":before");if(s.stopPropagation(),qa(v,u,c)){var f=i.view.state.tr,d=i.getPos();f.setSelection(K(f,d,d+1)),i.view.dispatch(f),i.eventEmitter.emit("openPopup","link",i.imageLink.attrs)}}},this.node=e,this.view=r,this.getPos=n,this.eventEmitter=a,this.imageLink=(o=e.marks.filter(function(s){var l=s.type;return l.name==="link"})[0])!==null&&o!==void 0?o:null,this.dom=this.createElement(),this.bindEvent()}return t.prototype.createElement=function(){var e=this.createImageElement(this.node);if(this.imageLink){var r=document.createElement("span");return r.className=Lo,r.appendChild(e),r}return e},t.prototype.createImageElement=function(e){var r=document.createElement("img"),n=e.attrs,a=n.imageUrl,i=n.altText,o=ee(e.attrs);return r.src=a,i&&(r.alt=i),Ua(o,r),r},t.prototype.bindEvent=function(){this.imageLink&&this.dom.addEventListener("mousedown",this.handleMousedown)},t.prototype.stopEvent=function(){return!0},t.prototype.destroy=function(){this.imageLink&&this.dom.removeEventListener("mousedown",this.handleMousedown)},t}(),dQ="toastui-editor-ww-code-block",pQ="toastui-editor-ww-code-block-language",hQ=function(){function t(e,r,n,a){var i=this;this.contentDOM=null,this.input=null,this.timer=null,this.handleMousedown=function(o){var s=o.target,l=getComputedStyle(s,":after");if(l.backgroundImage!=="none"&&Me(i.getPos)){var u=i.view.coordsAtPos(i.getPos()),c=u.top,v=u.right;i.createLanguageEditor({top:c,right:v})}},this.handleKeydown=function(o){o.key==="Enter"&&i.input&&(o.preventDefault(),i.changeLanguage())},this.node=e,this.view=r,this.getPos=n,this.eventEmitter=a,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return t.prototype.createElement=function(){var e=this.node.attrs.language,r=document.createElement("div");r.setAttribute("data-language",e||"text"),r.className=dQ;var n=this.createCodeBlockElement(),a=n.firstChild;r.appendChild(n),this.dom=r,this.contentDOM=a},t.prototype.createCodeBlockElement=function(){var e=document.createElement("pre"),r=document.createElement("code"),n=this.node.attrs.language,a=ee(this.node.attrs);return n&&r.setAttribute("data-language",n),Ua(a,e),e.appendChild(r),e},t.prototype.createLanguageEditor=function(e){var r=this,n=e.top,a=e.right,i=document.createElement("span");i.className=pQ;var o=document.createElement("input");o.type="text",o.value=this.node.attrs.language,i.appendChild(o),this.view.dom.parentElement.appendChild(i);var s=i.clientWidth;Ue(i,{top:n+10+"px",left:a-s-10+"px",width:s+"px"}),this.input=o,this.input.addEventListener("blur",function(){return r.changeLanguage()}),this.input.addEventListener("keydown",this.handleKeydown),this.clearTimer(),this.timer=setTimeout(function(){r.input.focus()})},t.prototype.bindDOMEvent=function(){this.dom&&this.dom.addEventListener("click",this.handleMousedown)},t.prototype.bindEvent=function(){var e=this;this.eventEmitter.listen("scroll",function(){e.input&&e.reset()})},t.prototype.changeLanguage=function(){if(this.input&&Me(this.getPos)){var e=this.input.value;this.reset();var r=this.getPos(),n=this.view.state.tr;n.setNodeMarkup(r,null,{language:e}),this.view.dispatch(n)}},t.prototype.reset=function(){var e;if(!((e=this.input)===null||e===void 0)&&e.parentElement){var r=this.input.parentElement;this.input=null,yt(r)}},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.stopEvent=function(){return!0},t.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,!0):!1},t.prototype.destroy=function(){this.reset(),this.clearTimer(),this.dom&&this.dom.removeEventListener("click",this.handleMousedown)},t}(),mQ=/MsoListParagraph/,mu=/style=(.|\n)*mso-/,gu=/mso-list:(.*)/,gQ=/O:P/,yQ=/^(n|u|l)/,bQ="p.MsoListParagraph";function wQ(t){return mu.test(t)}function CQ(t){for(var e=[],r=document.createTreeWalker(t,1,null,!1);r.nextNode();){var n=r.currentNode;if(hn(n)){var a=n,i=a.outerHTML,o=a.textContent,s=mu.test(i),l=gu.test(i);s&&!l&&o?e.push([n,!0]):(gQ.test(n.nodeName)||s&&!o||l)&&e.push([n,!1])}}return e.forEach(function(u){var c=u[0],v=u[1];v?qv(c):yt(c)}),t.innerHTML.trim()}function TQ(t,e){var r=t.getAttribute("style");if(r){var n=r.match(gu),a=n[1],i=a.trim().split(" "),o=i[1],s=parseInt(o.replace("level",""),10),l=yQ.test(t.textContent||"");return{id:e,level:s,prev:null,parent:null,children:[],unordered:l,contents:CQ(t)}}return null}function kQ(t,e){if(e.level<t.level)e.children.push(t),t.parent=e;else{for(;e&&e.level!==t.level;)e=e.parent;e&&(t.prev=e,t.parent=e.parent,t.parent&&t.parent.children.push(t))}}function EQ(t){var e=[];return t.forEach(function(r,n){var a=e[n-1],i=TQ(r,n);i&&(a&&kQ(i,a),e.push(i))}),e}function yu(t){var e=t[0].unordered?"ul":"ol",r=document.createElement(e);return t.forEach(function(n){var a=n.children,i=n.contents,o=document.createElement("li");o.innerHTML=i,r.appendChild(o),a.length&&r.appendChild(yu(a))}),r}function LQ(t){var e=EQ(t),r=e.filter(function(n){var a=n.parent;return!a});return yu(r)}function xQ(t){for(;t&&!hn(t);)t=t.nextSibling;return t?!mQ.test(t.className):!0}function MQ(t){var e=document.createElement("div");e.innerHTML=t;var r=[],n=Pv(e,bQ);n.forEach(function(i){var o=xQ(i.nextSibling);if(r.push(i),o){var s=LQ(r),l=i.nextSibling;l?_v(s,l):Hv(e,s),r=[]}yt(i)});var a=n.length?"<p></p>":"";return""+a+e.innerHTML}var xo="<!--StartFragment-->",AQ="<!--EndFragment-->";function SQ(t){var e=t.indexOf(xo),r=t.lastIndexOf(AQ);return e>-1&&r>-1&&(t=t.slice(e+xo.length,r)),t.replace(/<br[^>]*>/g,el)}function OQ(t){return/<\/td>((?!<\/tr>)[\s\S])*$/i.test(t)&&(t="<tr>"+t+"</tr>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(t)&&(t="<table>"+t+"</table>"),t}function DQ(t){return t=SQ(t),t=OQ(t),wQ(t)&&(t=MQ(t)),t}function IQ(t){var e=t.reduce(function(r,n){return r.childCount>n.childCount?r:n});return e.childCount}function bu(t,e,r){for(var n=[],a=t.childCount,i=0;i<a;i+=1)if(!t.child(i).attrs.extended){var o=i<a?r.create(t.child(i).attrs,t.child(i).content):r.createAndFill();n.push(o)}return n}function wu(t,e,r){var n=r.nodes,a=n.tableRow,i=n.tableHeadCell,o=bu(t,e,i);return a.create(null,o)}function Cu(t,e,r){var n=r.nodes,a=n.tableRow,i=n.tableBodyCell,o=bu(t,e,i);return a.create(null,o)}function NQ(t,e){for(var r=e.nodes,n=r.tableRow,a=r.tableBodyCell,i=[],o=0;o<t;o+=1){var s=a.createAndFill();i.push(s)}return n.create({dummyRowForPasting:!0},i)}function Tu(t){var e=[],r=[];if(t.firstChild.type.name==="tableHead"){var n=t.firstChild;n.forEach(function(i){return e.push(i)})}if(t.lastChild.type.name==="tableBody"){var a=t.lastChild;a.forEach(function(i){return r.push(i)})}return Te(Te([],e),r)}function RQ(t,e,r){var n=wu(t,e,r);return r.nodes.tableHead.create(null,n)}function Mo(t,e,r){var n=t.map(function(i){return Cu(i,e,r)});if(!t.length){var a=NQ(e,r);n.push(a)}return r.nodes.tableBody.create(null,n)}function BQ(t,e,r,n){var a=IQ(t);if(r&&n)return e.nodes.table.create(null,[Mo(t,a,e)]);var i=t[0],o=t.slice(1),s=[RQ(i,a,e)];return o.length&&s.push(Mo(o,a,e)),e.nodes.table.create(null,s)}function PQ(t,e,r){var n=[],a=t.content,i=t.openStart,o=t.openEnd;return a.forEach(function(s){if(s.type.name==="table"){var l=du(new Re(W.from(s),0,0));if(l){var u=Tu(l),c=l.firstChild.type.name==="tableBody",v=BQ(u,e,c,r);n.push(v)}}else n.push(s)}),new Re(W.from(n),i,o)}var HQ=4,_Q=2;function Vr(t){return t*HQ}function qQ(t,e,r){var n=[],a=Tu(t),i=a[0].childCount,o=a.length,s=e.startRowIdx===0,l=a.slice(0,o);if(s){var u=l.shift();if(u){var c=wu(u,i,r).content;n.push(c)}}return l.forEach(function(v){if(!v.attrs.dummyRowForPasting){var f=Cu(v,i,r).content;n.push(f)}}),n}function $Q(t,e,r){for(var n=e.startRowIdx,a=e.startColIdx,i=r.length,o=0,s=function(d){var p=r[d].childCount;r[d].forEach(function(h){var m=h.attrs,y=m.colspan;y>1&&(p+=y-1)}),o=Math.max(o,p)},l=0;l<i;l+=1)s(l);var u=n+i-1,c=a+o-1,v=Math.max(u+1-t.totalRowCount,0),f=Math.max(c+1-t.totalColumnCount,0);return{startRowIdx:n,startColIdx:a,endRowIdx:u,endColIdx:c,addedRowCount:v,addedColumnCount:f}}function FQ(t,e){for(var r=t.startRowIdx,n=t.startColIdx,a=t.endRowIdx,i=t.endColIdx,o=t.addedRowCount,s=t.addedColumnCount,l=r;l<=a-o;l+=1)e.push({rowIdx:l,startColIdx:n,endColIdx:i-s})}function UQ(t,e,r,n,a){for(var i=n.startRowIdx,o=n.startColIdx,s=n.endRowIdx,l=n.endColIdx,u=n.addedRowCount,c=n.addedColumnCount,v=r.totalRowCount,f=0,d=0;d<v;d+=1){var p=r.getCellInfo(d,l-c),h=p.offset,m=p.nodeSize,y=t.mapping.map(h+m),w=Ur(c,d,e);if(t.insert(y,w),d>=i&&d<=s-u){var T=r.getCellInfo(d,l-c),E=t.mapping.map(T.offset),L=y+Vr(c);a[f]={rowIdx:d,startColIdx:o,endColIdx:l,dummyOffsets:[E,L]},f+=1}}}function VQ(t,e,r,n,a){var i=n.addedRowCount,o=n.addedColumnCount,s=n.startColIdx,l=n.endColIdx,u=t.mapping.maps.length,c=r.tableEndOffset-2,v=cu(i,r.totalColumnCount+o,e),f=c;t.insert(t.mapping.slice(u).map(f),v);for(var d=0;d<i;d+=1){var p=f+Vr(s)+1,h=f+Vr(l+1)+1,m=f+Vr(r.totalColumnCount+o)+_Q;a.push({rowIdx:d+r.totalRowCount,startColIdx:s,endColIdx:l,dummyOffsets:[p,h]}),f=m}}function jQ(t,e,r,n){var a=t.mapping.maps.length;r.forEach(function(i,o){var s=i.rowIdx,l=i.startColIdx,u=i.endColIdx,c=i.dummyOffsets,v=t.mapping.slice(a),f=new Re(e[o],0,0),d=c?c[0]:n.getCellStartOffset(s,l),p=c?c[1]:n.getCellEndOffset(s,u);t.replace(v.map(d),v.map(p),f)})}function zQ(t,e){var r=t.state,n=r.selection,a=r.schema,i=r.tr,o=qe(n),s=o.anchor,l=o.head;if(s&&l){var u=du(e);if(!u)return!1;var c=ce.create(s),v=c.getRectOffsets(s,l),f=qQ(u,v,a),d=$Q(c,v,f),p=[];return GQ(c,d)&&(FQ(d,p),d.addedColumnCount&&UQ(i,a,c,d,p),d.addedRowCount&&VQ(i,a,c,d,p),jQ(i,f,p,c),t.dispatch(i),WQ(t,p,c.getCellInfo(0,0).offset)),!0}return!1}function WQ(t,e,r){var n=t.state,a=n.tr,i=n.doc,o=ce.create(i.resolve(r)),s=e[0],l=s.rowIdx,u=s.startColIdx,c=ge(e),v=c.rowIdx,f=c.endColIdx,d=o.getCellInfo(l,u).offset,p=o.getCellInfo(v,f).offset;t.dispatch(a.setSelection(new ni(i.resolve(d),i.resolve(p))))}function GQ(t,e){var r=t.getSpannedOffsets(e),n=Rt(r),a=n.rowCount,i=n.columnCount,o=Rt(e),s=o.rowCount,l=o.columnCount;return a===s&&i===l}var XQ=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(G),KQ=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",group:"block",attrs:b({},ue()),parseDOM:[{tag:"p"}],toDOM:function(r){var n=r.attrs;return["p",ee(n),0]}}},enumerable:!1,configurable:!0}),e}(G),QQ=/\s{1,4}$/,YQ=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e.prototype.addSpaces=function(){return function(r,n){var a=r.selection,i=r.tr,o=a.$from,s=a.$to,l=o.blockRange(s);return l&&!Ut(o)&&!sn(o)?(n(i.insertText("    ",o.pos,s.pos)),!0):!1}},e.prototype.removeSpaces=function(){return function(r,n){var a=r.selection,i=r.tr,o=a.$from,s=a.$to,l=a.from,u=o.blockRange(s);if(u&&!Ut(o)&&!sn(o)){var c=o.nodeBefore;if(c&&c.isText){var v=c.text,f=v.replace(QQ,""),d=v.length-f.length;return n(i.delete(l-d,l)),!0}}return!1}},e.prototype.keymaps=function(){return{Tab:this.addSpaces(),"Shift-Tab":this.removeSpaces()}},e}(G),ZQ=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levels",{get:function(){return[1,2,3,4,5,6]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=this.levels.map(function(n){return{tag:"h"+n,getAttrs:function(a){var i=a.getAttribute("data-raw-html");return b({level:n},i&&{rawHTML:i})}}});return{attrs:b({level:{default:1},headingType:{default:"atx"},rawHTML:{default:null}},ue()),content:"inline*",group:"block",defining:!0,parseDOM:r,toDOM:function(n){var a=n.attrs;return["h"+a.level,ee(a),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(r){return function(n,a){var i=n.schema.nodes[r.level?"heading":"paragraph"];return Sa(i,r)(n,a)}}},e}(G),JQ=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:b({language:{default:null},rawHTML:{default:null}},ue()),code:!0,defining:!0,marks:"",parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(r){var n=r.getAttribute("data-raw-html"),a=r.firstElementChild;return b({language:(a==null?void 0:a.getAttribute("data-language"))||null},n&&{rawHTML:n})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"pre",["code",b({"data-language":n.language},ee(n)),0]]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return Sa(r.schema.nodes.codeBlock)(r,n)}}},e.prototype.moveCursor=function(r){var n=this;return function(a,i){var o=a.tr,s=a.doc,l=a.schema,u=a.selection.$from,c=n.context.view;if(c.endOfTextblock(r)&&u.node().type.name==="codeBlock"){var v=u.parent.textContent.split(`
`),f=r==="up"?u.start():u.end(),d=r==="up"?[f,v[0].length+f]:[f-ge(v).length,f],p=s.resolve(r==="up"?u.before():u.after()),h=r==="up"?p.nodeBefore:p.nodeAfter;if(av(u.pos,d[0],d[1])&&!h){var m=Ha(o,p,l);if(m)return i(m),!0}}return!1}},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-p":r,"Shift-Mod-P":r,ArrowUp:this.moveCursor("up"),ArrowDown:this.moveCursor("down")}},e}(G),e7=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"bulletList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:b({rawHTML:{default:null}},ue()),parseDOM:[Tn("ul")],toDOM:function(r){var n=r.attrs;return["ul",ee(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.changeList=function(){return function(r,n){return uu(r.schema.nodes.bulletList)(r,n)}},e.prototype.commands=function(){return{bulletList:this.changeList,taskList:BK}},e.prototype.keymaps=function(){var r=this.changeList(),n=ri(),a=n.indent,i=n.outdent;return{"Mod-u":r,"Mod-U":r,Tab:a(),"Shift-Tab":i()}},e}(G),t7=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"orderedList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:b({order:{default:1},rawHTML:{default:null}},ue()),parseDOM:[{tag:"ol",getAttrs:function(r){var n=r.getAttribute("start"),a=r.getAttribute("data-raw-html");return b({order:r.hasAttribute("start")?Number(n):1},a&&{rawHTML:a})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"ol",b({start:n.order===1?null:n.order},ee(n)),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return uu(r.schema.nodes.orderedList)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()(),n=ri(),a=n.indent,i=n.outdent;return{"Mod-o":r,"Mod-O":r,Tab:a(),"Shift-Tab":i()}},e}(G),r7=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph block*",selectable:!1,attrs:{task:{default:!1},checked:{default:!1},rawHTML:{default:null}},defining:!0,parseDOM:[{tag:"li",getAttrs:function(r){var n=r.getAttribute("data-raw-html");return b({task:r.hasAttribute("data-task"),checked:r.hasAttribute("data-task-checked")},n&&{rawHTML:n})}}],toDOM:function(r){var n=r.attrs,a=n.task,i=n.checked;if(!a)return[n.rawHTML||"li",0];var o=["task-list-item"];return i&&o.push("checked"),[n.rawHTML||"li",b({class:o.join(" "),"data-task":a},i&&{"data-task-checked":i}),0]}}},enumerable:!1,configurable:!0}),e.prototype.liftToPrevListItem=function(){return function(r,n){var a=r.selection,i=r.tr,o=r.schema,s=a.$from,l=a.empty,u=o.nodes.listItem,c=s.parent,v=s.node(-1);if(l&&!c.childCount&&v.type===u){if(s.index(-2)>=1)return i.delete(s.start(-1)-1,s.end(-1)),n(i),!0;var f=s.node(-3);if(f.type===u)return i.delete(s.start(-2)-1,s.end(-1)),n(i),!0}return!1}},e.prototype.keymaps=function(){var r=function(n,a){return $K(n.schema.nodes.listItem)(n,a)};return{Backspace:this.liftToPrevListItem(),Enter:r}},e}(G),n7=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:b({rawHTML:{default:null}},ue()),content:"block+",group:"block",parseDOM:[Tn("blockquote")],toDOM:function(r){var n=r.attrs;return["blockquote",ee(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return Ju(r.schema.nodes.blockQuote)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()();return{"Alt-q":r,"Alt-Q":r}},e}(G),a7={left:f7,right:v7,up:d7,down:p7};function i7(t,e,r){var n=r[0],a=r[1],i=e.resolve(t.before(n-1));return a===n&&!i.nodeBefore}function o7(t){for(var e,r=t.depth,n;r&&(n=t.node(r),n.type.name!=="tableBodyCell");){if(n.type.name==="listItem"){var a=t.node(r-1),i=a.lastChild===n,o=((e=n.lastChild)===null||e===void 0?void 0:e.type.name)!=="paragraph";return i?!o:!1}r-=1}return!1}function s7(t,e,r,n,a){var i=e[0],o=e[1],s=e[2];if(t==="left"||t==="up"){if(a&&!i7(r,n,[i,o]))return!1;var l=r.before(s),u=n.resolve(l).nodeBefore;if(u)return!1}return!0}function l7(t,e,r,n,a){if(t==="right"||t==="down"){if(a&&!o7(r))return!1;var i=r.after(e),o=n.resolve(i).nodeAfter;if(o)return!1}return!0}function u7(t,e,r,n){var a=e[0],i=e[1],o=a+3,s=i>=o,l=s?a+1:i,u=s7(t,[i,o,l],r,n,s),c=l7(t,l,r,n,s);return u&&c}function Ao(t,e,r){var n=r[0],a=r[1],i=e.getRowspanStartInfo(n,a),o=t==="up"&&n===0,s=t==="down"&&((i==null?void 0:i.count)>1?n+i.count-1:n)===e.totalRowCount-1;return o||s}function c7(t,e,r){var n=t.doc.resolve(e.tableStartOffset-1);return n.nodeBefore?t.setSelection(Wt.near(n,-1)):Ha(t,n,r)}function Kn(t,e,r,n){n===void 0&&(n=!1);var a=t.doc.resolve(e.tableEndOffset);return n||!a.nodeAfter?Ha(t,a,r):t.setSelection(Wt.near(a,1))}function v7(t,e){var r=t[0],n=t[1],a=e.totalRowCount,i=e.totalColumnCount,o=n===i-1,s=r===a-1&&o;if(!s){var l=n+1,u=e.getColspanStartInfo(r,n);(u==null?void 0:u.count)>1&&(l+=u.count-1),(o||l===i)&&(r+=1,l=0);var c=e.getCellInfo(r,l).offset;return c+2}return null}function f7(t,e){var r=t[0],n=t[1],a=e.totalColumnCount,i=n===0,o=r===0&&i;if(!o){n-=1,i&&(r-=1,n=a-1);var s=e.getCellInfo(r,n),l=s.offset,u=s.nodeSize;return l+u-2}return null}function d7(t,e){var r=t[0],n=t[1];if(r>0){var a=e.getCellInfo(r-1,n),i=a.offset,o=a.nodeSize;return i+o-2}return null}function p7(t,e){var r=t[0],n=t[1],a=e.totalRowCount;if(r<a-1){var i=r+1,o=e.getRowspanStartInfo(r,n);(o==null?void 0:o.count)>1&&(i+=o.count-1);var s=e.getCellInfo(i,n).offset;return s+2}return null}function So(t,e,r,n){var a=a7[t],i=a(r,n);if(i){var o=t==="right"||t==="down"?1:-1;return e.setSelection(Wt.near(e.doc.resolve(i),o))}return null}function h7(t,e,r){var n=r[0],a=r[1];if(t==="up"||t==="down")return!1;var i=e.tableStartOffset,o=e.tableEndOffset,s=e.getCellInfo(n,a),l=s.offset,u=s.nodeSize,c=t==="left"?i:o,v=t==="left"?l-2:l+u+3;return c===v}function m7(t,e,r){var n=t.doc.resolve(e.before(r-3));return t.setSelection(new Qu(n))}function g7(t,e,r){var n,a,i;return t==="up"?(n=r.startRowIdx,a=0,i=-1):(n=r.endRowIdx,a=e.totalColumnCount-1,i=e.getCellInfo(n,a).nodeSize+1),{targetRowIdx:n,insertColIdx:a,nodeSize:i}}function y7(t,e,r){var n=t.getCellInfo(e,0).offset,a=t.getCellInfo(e,r-1),i=a.offset,o=a.nodeSize;return{from:n,to:i+o}}var b7=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableHead{1} tableBody{1}",group:"block",attrs:b({rawHTML:{default:null}},ue()),parseDOM:[Tn("table")],toDOM:function(r){var n=r.attrs;return["table",ee(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.addTable=function(){return function(r){return r===void 0&&(r={rowCount:2,columnCount:1,data:[]}),function(n,a){var i=r.rowCount,o=r.columnCount,s=r.data,l=n.schema,u=n.selection,c=n.tr,v=u.from,f=u.to,d=u.$from,p=v===f;if(p&&!sn(d)){var h=l.nodes,m=h.tableHead,y=h.tableBody,w=s==null?void 0:s.slice(0,o),T=s==null?void 0:s.slice(o,s.length),E=WK(o,l,w),L=cu(i-1,o,l,T),S=l.nodes.table.create(null,[m.create(null,E),y.create(null,L)]);return a(c.replaceSelectionWith(S)),!0}return!1}}},e.prototype.removeTable=function(){return function(){return function(r,n){var a=r.selection,i=r.tr,o=ce.create(a.$anchor);if(o){var s=o.tableStartOffset,l=o.tableEndOffset,u=s-1,c=K(i.delete(u,l),u);return n(i.setSelection(c)),!0}return!1}}},e.prototype.addColumn=function(r){return function(){return function(n,a){var i=n.selection,o=n.tr,s=n.schema,l=qe(i),u=l.anchor,c=l.head;if(u&&c){for(var v=ce.create(u),f=v.getRectOffsets(u,c),d=r==="left"?f.startColIdx:f.endColIdx+1,p=Rt(f).columnCount,h=v.totalRowCount,m=0;m<h;m+=1){var y=Ur(p,m,s);o.insert(o.mapping.map(v.posAt(m,d)),y)}return a(o),!0}return!1}}},e.prototype.removeColumn=function(){return function(){return function(r,n){var a=r.selection,i=r.tr,o=qe(a),s=o.anchor,l=o.head;if(s&&l){var u=ce.create(s),c=u.getRectOffsets(s,l),v=u.totalColumnCount,f=u.totalRowCount,d=Rt(c).columnCount,p=d===v;if(p)return!1;for(var h=c.startColIdx,m=c.endColIdx,y=i.mapping.maps.length,w=0;w<f;w+=1)for(var T=m;T>=h;T-=1){var E=u.getCellInfo(w,T),L=E.offset,S=E.nodeSize,I=i.mapping.slice(y).map(L),P=I+S;i.delete(I,P)}return n(i),!0}return!1}}},e.prototype.addRow=function(r){return function(){return function(n,a){var i=n.selection,o=n.schema,s=n.tr,l=qe(i),u=l.anchor,c=l.head;if(u&&c){var v=ce.create(u),f=v.totalColumnCount,d=v.getRectOffsets(u,c),p=Rt(d).rowCount,h=g7(r,v,d),m=h.targetRowIdx,y=h.insertColIdx,w=h.nodeSize,T=m===0;if(!T){for(var E=[],L=s.mapping.map(v.posAt(m,y))+w,S=[],I=0;I<f;I+=1)S=S.concat(Ur(1,m,o));for(var P=0;P<p;P+=1)E.push(o.nodes.tableRow.create(null,S));return a(s.insert(L,E)),!0}}return!1}}},e.prototype.removeRow=function(){return function(){return function(r,n){var a=r.selection,i=r.tr,o=qe(a),s=o.anchor,l=o.head;if(s&&l){var u=ce.create(s),c=u.totalRowCount,v=u.totalColumnCount,f=u.getRectOffsets(s,l),d=Rt(f).rowCount,p=f.startRowIdx,h=f.endRowIdx,m=p===0,y=d===c-1;if(y||m)return!1;for(var w=h;w>=p;w-=1){var T=y7(u,w,v),E=T.from,L=T.to;i.delete(E-1,L+1)}return n(i),!0}return!1}}},e.prototype.alignColumn=function(){return function(r){return r===void 0&&(r={align:"center"}),function(n,a){var i=r.align,o=n.selection,s=n.tr,l=qe(o),u=l.anchor,c=l.head;if(u&&c){for(var v=ce.create(u),f=v.totalRowCount,d=v.getRectOffsets(u,c),p=d.startColIdx,h=d.endColIdx,m=0;m<f;m+=1)for(var y=p;y<=h;y+=1)if(!v.extendedRowspan(m,y)&&!v.extendedColspan(m,y)){var w=v.getNodeAndPos(m,y),T=w.node,E=w.pos,L=GK(T,{align:i});s.setNodeMarkup(E,null,L)}return a(s),!0}return!1}}},e.prototype.moveToCell=function(r){return function(n,a){var i=n.selection,o=n.tr,s=n.schema,l=qe(i),u=l.anchor,c=l.head;if(u&&c){var v=ce.create(u),f=v.getCellIndex(u),d=void 0;if(Ao(r,v,f)?d=Kn(o,v,s):d=So(r,o,f,v),d)return a(d),!0}return!1}},e.prototype.moveInCell=function(r){var n=this;return function(a,i){var o=a.selection,s=a.tr,l=a.doc,u=a.schema,c=o.$from,v=n.context.view;if(!v.endOfTextblock(r))return!1;var f=Ke(c,function(T){var E=T.type;return E.name==="tableHeadCell"||E.name==="tableBodyCell"});if(f){var d=Ke(c,function(T){var E=T.type;return E.name==="paragraph"}),p=f.depth;if(d&&u7(r,[p,d.depth],c,l)){var h=qe(o).anchor,m=ce.create(h),y=m.getCellIndex(h),w=void 0;if(h7(r,m,y)?w=m7(s,c,p):Ao(r,m,y)?r==="up"?w=c7(s,m,u):r==="down"&&(w=Kn(s,m,u)):w=So(r,s,y,m),w)return i(w),!0}}return!1}},e.prototype.deleteCells=function(){return function(r,n){var a=r.schema,i=r.selection,o=r.tr,s=qe(i),l=s.anchor,u=s.head,c=i instanceof zt;if(l&&u&&!c){for(var v=ce.create(l),f=v.getRectOffsets(l,u),d=f.startRowIdx,p=f.startColIdx,h=f.endRowIdx,m=f.endColIdx,y=d;y<=h;y+=1)for(var w=p;w<=m;w+=1)if(!v.extendedRowspan(y,w)&&!v.extendedColspan(y,w)){var T=v.getNodeAndPos(y,w),E=T.node,L=T.pos,S=Ur(1,y,a,E.attrs);o.replaceWith(o.mapping.map(L),o.mapping.map(L+E.nodeSize),S)}return n(o),!0}return!1}},e.prototype.exitTable=function(){return function(r,n){var a=r.selection,i=r.tr,o=r.schema,s=a.$from,l=Ke(s,function(f){var d=f.type;return d.name==="tableHeadCell"||d.name==="tableBodyCell"});if(l){var u=Ke(s,function(f){var d=f.type;return d.name==="paragraph"});if(u){var c=qe(a).anchor,v=ce.create(c);return n(Kn(i,v,o,!0)),!0}}return!1}},e.prototype.commands=function(){return{addTable:this.addTable(),removeTable:this.removeTable(),addColumnToLeft:this.addColumn("left"),addColumnToRight:this.addColumn("right"),removeColumn:this.removeColumn(),addRowToUp:this.addRow("up"),addRowToDown:this.addRow("down"),removeRow:this.removeRow(),alignColumn:this.alignColumn()}},e.prototype.keymaps=function(){var r=this.deleteCells();return{Tab:this.moveToCell("right"),"Shift-Tab":this.moveToCell("left"),ArrowUp:this.moveInCell("up"),ArrowDown:this.moveInCell("down"),ArrowLeft:this.moveInCell("left"),ArrowRight:this.moveInCell("right"),Backspace:r,"Mod-Backspace":r,Delete:r,"Mod-Delete":r,"Mod-Enter":this.exitTable()}},e}(G),w7=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHead"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow{1}",attrs:b({rawHTML:{default:null}},ue()),parseDOM:[Tn("thead")],toDOM:function(r){var n=r.attrs;return["thead",ee(n),0]}}},enumerable:!1,configurable:!0}),e}(G),C7=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBody"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow+",attrs:b({rawHTML:{default:null}},ue()),parseDOM:[{tag:"tbody",getAttrs:function(r){var n=r.querySelectorAll("tr"),a=n[0].children.length,i=r.getAttribute("data-raw-html");return a?b({},i&&{rawHTML:i}):!1}}],toDOM:function(r){var n=r.attrs;return["tbody",ee(n),0]}}},enumerable:!1,configurable:!0}),e}(G),T7=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableRow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(tableHeadCell | tableBodyCell)*",attrs:b({rawHTML:{default:null}},ue()),parseDOM:[{tag:"tr",getAttrs:function(r){var n=r.children.length,a=r.getAttribute("data-raw-html");return n?b({},a&&{rawHTML:a}):!1}}],toDOM:function(r){var n=r.attrs;return["tr",ee(n),0]}}},enumerable:!1,configurable:!0}),e}(G),k7=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHeadCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph+",attrs:b({align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},extended:{default:null}},ue()),isolating:!0,parseDOM:[ou("th")],toDOM:function(r){var n=r.attrs,a=iu(n);return["th",b(b({},a),ee(n)),0]}}},enumerable:!1,configurable:!0}),e}(G),E7=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBodyCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(paragraph | bulletList | orderedList)+",attrs:{align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},rowspan:{default:null},extended:{default:null}},isolating:!0,parseDOM:[ou("td")],toDOM:function(r){var n=r.attrs,a=iu(n);return["td",a,0]}}},enumerable:!1,configurable:!0}),e}(G),L7=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"image"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{inline:!0,attrs:b({imageUrl:{default:""},altText:{default:null},rawHTML:{default:null}},ue()),group:"inline",selectable:!1,parseDOM:[{tag:"img[src]",getAttrs:function(r){var n=Ct(r,{RETURN_DOM_FRAGMENT:!0}).firstChild,a=n.getAttribute("src")||"",i=n.getAttribute("data-raw-html"),o=n.getAttribute("alt");return b({imageUrl:a,altText:o},i&&{rawHTML:i})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"img",b(b({src:Nt(n.imageUrl)},n.altText&&{alt:n.altText}),ee(n))]}}},enumerable:!1,configurable:!0}),e.prototype.addImage=function(){return function(r){return function(n,a){var i=n.schema,o=n.tr,s=r,l=s.imageUrl,u=s.altText;if(!l)return!1;var c=i.nodes.image.createAndFill(b({imageUrl:l},u&&{altText:u}));return a(o.replaceSelectionWith(c).scrollIntoView()),!0}}},e.prototype.commands=function(){return{addImage:this.addImage()}},e}(G),Oo=1,x7=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:b({rawHTML:{default:null}},ue()),group:"block",parseDOM:[{tag:"hr"}],selectable:!1,toDOM:function(r){var n=r.attrs;return["div",ee(n),[n.rawHTML||"hr"]]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){var r=this;return function(){return function(n,a){var i,o=n.selection,s=o.$from,l=o.$to;if(s===l){var u=n.doc,c=n.schema.nodes,v=c.thematicBreak,f=c.paragraph,d=[v.create()],p=s.node(Oo),h=u.child(u.childCount-1)===p,m=u.resolve(s.after(Oo)),y=((i=s.nodeAfter)===null||i===void 0?void 0:i.type.name)===r.name;return(h||y)&&d.push(f.create()),a(n.tr.insert(m.pos,d).scrollIntoView()),!0}return!1}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var r=this.hr()();return{"Mod-l":r,"Mod-L":r}},e}(G),M7=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=["b","strong"].map(function(n){return{tag:n,getAttrs:function(a){var i=a.getAttribute("data-raw-html");return b({},i&&{rawHTML:i})}}});return{attrs:b({rawHTML:{default:null}},ue()),parseDOM:r,toDOM:function(n){var a=n.attrs;return[a.rawHTML||"strong",ee(a)]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return function(){return function(r,n){return gr(r.schema.marks.strong)(r,n)}}},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var r=this.bold()();return{"Mod-b":r,"Mod-B":r}},e}(Q),A7=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=["i","em"].map(function(n){return{tag:n,getAttrs:function(a){var i=a.getAttribute("data-raw-html");return b({},i&&{rawHTML:i})}}});return{attrs:b({rawHTML:{default:null}},ue()),parseDOM:r,toDOM:function(n){var a=n.attrs;return[a.rawHTML||"em",ee(a)]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return function(){return function(r,n){return gr(r.schema.marks.emph)(r,n)}}},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var r=this.italic()();return{"Mod-i":r,"Mod-I":r}},e}(Q),S7=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=["s","del"].map(function(n){return{tag:n,getAttrs:function(a){var i=a.getAttribute("data-raw-html");return b({},i&&{rawHTML:i})}}});return{attrs:b({rawHTML:{default:null}},ue()),parseDOM:r,toDOM:function(n){var a=n.attrs;return[a.rawHTML||"del",ee(a)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return gr(r.schema.marks.strike)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()();return{"Mod-s":r,"Mod-S":r}},e}(Q),O7=function(t){A(e,t);function e(r){var n=t.call(this)||this;return n.linkAttributes=r,n}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=this;return{attrs:b({linkUrl:{default:""},title:{default:null},rawHTML:{default:null}},ue()),inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(n){var a=Ct(n,{RETURN_DOM_FRAGMENT:!0}).firstChild,i=a.getAttribute("href")||"",o=a.getAttribute("title")||"",s=a.getAttribute("data-raw-html");return b({linkUrl:i,title:o},s&&{rawHTML:s})}}],toDOM:function(n){var a=n.attrs;return[a.rawHTML||"a",b(b({href:Nt(a.linkUrl)},r.linkAttributes),ee(a))]}}},enumerable:!1,configurable:!0}),e.prototype.addLink=function(){return function(r){return function(n,a){var i=r,o=i.linkUrl,s=i.linkText,l=s===void 0?"":s,u=n.schema,c=n.tr,v=n.selection,f=v.empty,d=v.from,p=v.to;if(d&&p&&o){var h={linkUrl:o},m=u.mark("link",h);if(f&&l){var y=fe(u,l,m);c.replaceRangeWith(d,p,y)}else c.addMark(d,p,m);return a(c.scrollIntoView()),!0}return!1}}},e.prototype.toggleLink=function(){return function(r){return function(n,a){return gr(n.schema.marks.link,r)(n,a)}}},e.prototype.commands=function(){return{addLink:this.addLink(),toggleLink:this.toggleLink()}},e}(Q),D7=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:b({rawHTML:{default:null}},ue()),parseDOM:[{tag:"code",getAttrs:function(r){var n=r.getAttribute("data-raw-html");return b({},n&&{rawHTML:n})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"code",ee(n)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return gr(r.schema.marks.code)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-c":r,"Shift-Mod-C":r}},e}(Q),I7=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:{info:{default:null}},atom:!0,code:!0,defining:!0,parseDOM:[{tag:"div[data-custom-info]",getAttrs:function(r){var n=r.getAttribute("data-custom-info");return{info:n}}}],toDOM:function(r){var n=r.attrs;return["div",{"data-custom-info":n.info||null},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(r){return function(n,a){return r!=null&&r.info?Sa(n.schema.nodes.customBlock,r)(n,a):!1}}},e}(G),N7=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"frontMatter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-front-matter]"}],toDOM:function(){return["div",{"data-front-matter":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n,a){var i=r.selection.$from;return a.endOfTextblock("down")&&i.node().type.name==="frontMatter"?Ps(r,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(G),R7=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"htmlComment"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-html-comment]"}],toDOM:function(){return["div",{"data-html-comment":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n,a){var i=r.selection.$from;return a.endOfTextblock("down")&&i.node().type.name==="htmlComment"?Ps(r,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(G);function B7(t){return new ul([new XQ,new KQ,new YQ,new ZQ,new JQ,new e7,new t7,new r7,new n7,new b7,new w7,new C7,new T7,new k7,new E7,new L7,new x7,new M7,new A7,new S7,new O7(t),new D7,new I7,new N7,new sl,new R7])}var P7=O("contents"),H7=function(t){A(e,t);function e(r,n){var a=t.call(this,r)||this,i=n.toDOMAdaptor,o=n.htmlSchemaMap,s=o===void 0?{}:o,l=n.linkAttributes,u=l===void 0?{}:l,c=n.useCommandShortcut,v=c===void 0?!0:c,f=n.wwPlugins,d=f===void 0?[]:f,p=n.wwNodeViews,h=p===void 0?{}:p;return a.editorType="wysiwyg",a.el.classList.add("ww-mode"),a.toDOMAdaptor=i,a.linkAttributes=u,a.extraPlugins=d,a.pluginNodeViews=h,a.specs=a.createSpecs(),a.schema=a.createSchema(s),a.context=a.createContext(),a.keymaps=a.createKeymaps(v),a.view=a.createView(),a.commands=a.createCommands(),a.specs.setContext(b(b({},a.context),{view:a.view})),a.initEvent(),a}return e.prototype.createSpecs=function(){return B7(this.linkAttributes)},e.prototype.createContext=function(){return{schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSchema=function(r){return new Ds({nodes:b(b({},this.specs.nodes),r.nodes),marks:b(b({},this.specs.marks),r.marks)})},e.prototype.createPlugins=function(){return Te([ZK(),rQ(this.eventEmitter),nQ(),cQ(this.eventEmitter)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createPluginNodeViews=function(){var r=this,n=r.eventEmitter,a=r.pluginNodeViews,i={};return a&&Object.keys(a).forEach(function(o){i[o]=function(s,l,u){return a[o](s,l,u,n)}}),i},e.prototype.createView=function(){var r=this,n=this,a=n.toDOMAdaptor,i=n.eventEmitter;return new Ma(this.el,{state:this.createState(),attributes:{class:P7},nodeViews:b({customBlock:function(o,s,l){return new vQ(o,s,l,a)},image:function(o,s,l){return new fQ(o,s,l,i)},codeBlock:function(o,s,l){return new hQ(o,s,l,i)},widget:ol},this.createPluginNodeViews()),dispatchTransaction:function(o){var s=r.view.state.applyTransaction(o).state;r.view.updateState(s),r.emitChangeEvent(o.scrollIntoView()),r.eventEmitter.emit("setFocusedNode",s.selection.$from.node(1))},transformPastedHTML:DQ,transformPasted:function(o){return PQ(o,r.schema,sn(r.view.state.selection.$from))},handlePaste:function(o,s,l){return zQ(o,l)},handleKeyDown:function(o,s){return r.eventEmitter.emit("keydown",r.editorType,s),!1},handleDOMEvents:{paste:function(o,s){var l=s.clipboardData||window.clipboardData,u=l==null?void 0:l.items;if(u){var c=Ve(u).some(function(f){return f.kind==="string"&&f.type==="text/rtf"});if(!c){var v=il(u);v&&(s.preventDefault(),ja(r.eventEmitter,v,s.type))}}return!1},keyup:function(o,s){return r.eventEmitter.emit("keyup",r.editorType,s),!1},scroll:function(){return r.eventEmitter.emit("scroll","editor"),!0}}})},e.prototype.createCommands=function(){return this.specs.commands(this.view,ri())},e.prototype.getHTML=function(){return Va(this.view.dom.innerHTML)},e.prototype.getModel=function(){return this.view.state.doc},e.prototype.getSelection=function(){var r=this.view.state.selection,n=r.from,a=r.to;return[n,a]},e.prototype.getSchema=function(){return this.view.state.schema},e.prototype.replaceSelection=function(r,n,a){var i=this.view.state,o=i.schema,s=i.tr,l=r.split(`
`),u=l.map(function(f){return Qr(o,ht(f,o))}),c=new Re(W.from(u),1,1),v=Xe(n)&&Xe(a)?s.replaceRange(n,a,c):s.replaceSelection(c);this.view.dispatch(v),this.focus()},e.prototype.deleteSelection=function(r,n){var a=this.view.state.tr,i=Xe(r)&&Xe(n)?a.deleteRange(r,n):a.deleteSelection();this.view.dispatch(i.scrollIntoView())},e.prototype.getSelectedText=function(r,n){var a=this.view.state,i=a.doc,o=a.selection,s=o.from,l=o.to;return Xe(r)&&Xe(n)&&(s=r,l=n),i.textBetween(s,l,`
`)},e.prototype.setModel=function(r,n){n===void 0&&(n=!1);var a=this.view.state,i=a.tr,o=a.doc;this.view.dispatch(i.replaceWith(0,o.content.size,r)),n&&this.moveCursorToEnd(!0)},e.prototype.setSelection=function(r,n){n===void 0&&(n=r);var a=this.view.state.tr,i=K(a,r,n);this.view.dispatch(a.setSelection(i).scrollIntoView())},e.prototype.addWidget=function(r,n,a){var i=this.view,o=i.dispatch,s=i.state;o(s.tr.setMeta("widget",{pos:a??s.selection.to,node:r,style:n}))},e.prototype.replaceWithWidget=function(r,n,a){var i=this.view.state,o=i.tr,s=i.schema,l=ht(a,s);this.view.dispatch(o.replaceWith(r,n,l))},e.prototype.getRangeInfoOfNode=function(r){var n=this.view.state,a=n.doc,i=n.selection,o=r?a.resolve(r):i.$from,s=o.marks(),l=o.node(),u=o.start(),c=o.end(),v=l.type.name;if(s.length||v==="paragraph"){var f=s[s.length-1],d=function(p){return p.length?de(p,f):!0};v=f?f.type.name:"text",l.forEach(function(p,h){var m=p.isText,y=p.nodeSize,w=p.marks,T=o.pos-u;m&&h<=T&&h+y>=T&&d(w)&&(u=u+h,c=u+y)})}return{range:[u,c],type:v}},e}(ll),_7=Be,q7=Wr;function $7(t){return!_7(t)&&!q7(t)}var F7=$7,U7=F7;function V7(t){return U7(t)&&t!==!1}var j7=V7,z7=j7;function W7(t){return!z7(t)}var G7=W7,Do=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],ku=function(){function t(){var e=this;this.events=new pu,this.eventTypes=Do.reduce(function(r,n){return b(b({},r),{type:n})},{}),this.hold=!1,Do.forEach(function(r){e.addEventType(r)})}return t.prototype.listen=function(e,r){var n=this.getTypeInfo(e),a=this.events.get(n.type)||[];if(!this.hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(r.namespace=n.namespace),a.push(r),this.events.set(n.type,a)},t.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a=this.getTypeInfo(e),i=this.events.get(a.type),o=[];return!this.hold&&i&&i.forEach(function(s){var l=s.apply(void 0,r);Be(l)||o.push(l)}),o},t.prototype.emitReduce=function(e,r){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];var i=this.events.get(e);return!this.hold&&i&&i.forEach(function(o){var s=o.apply(void 0,Te([r],n));G7(s)||(r=s)}),r},t.prototype.getTypeInfo=function(e){var r=e.split(".");return{type:r[0],namespace:r[1]}},t.prototype.hasEventType=function(e){return!Be(this.eventTypes[this.getTypeInfo(e).type])},t.prototype.addEventType=function(e){if(this.hasEventType(e))throw new Error("There is already have event type "+e);this.eventTypes[e]=e},t.prototype.removeEventHandler=function(e,r){var n=this,a=this.getTypeInfo(e),i=a.type,o=a.namespace;i&&r?this.removeEventHandlerWithHandler(i,r):i&&!o?this.events.delete(i):!i&&o?this.events.forEach(function(s,l){n.removeEventHandlerWithTypeInfo(l,o)}):i&&o&&this.removeEventHandlerWithTypeInfo(i,o)},t.prototype.removeEventHandlerWithHandler=function(e,r){var n=this.events.get(e);if(n){var a=n.indexOf(r);n.indexOf(r)>=0&&n.splice(a,1)}},t.prototype.removeEventHandlerWithTypeInfo=function(e,r){var n=[],a=this.events.get(e);a&&(a.map(function(i){return i.namespace!==r&&n.push(i),null}),this.events.set(e,n))},t.prototype.getEvents=function(){return this.events},t.prototype.holdEventInvoke=function(e){this.hold=!0,e(),this.hold=!1},t}(),X7=function(){function t(e,r,n,a){this.eventEmitter=e,this.mdCommands=r,this.wwCommands=n,this.getEditorType=a,this.initEvent()}return t.prototype.initEvent=function(){var e=this;this.eventEmitter.listen("command",function(r,n){e.exec(r,n)})},t.prototype.addCommand=function(e,r,n){e==="markdown"?this.mdCommands[r]=n:this.wwCommands[r]=n},t.prototype.deleteCommand=function(e,r){e==="markdown"?delete this.mdCommands[r]:delete this.wwCommands[r]},t.prototype.exec=function(e,r){var n=this.getEditorType();n==="markdown"?this.mdCommands[e](r):this.wwCommands[e](r)},t}();function jr(t){return t[t.length-1]===`
`?t.slice(0,t.length-1):t}function wa(t,e){var r=t.schema,n=e.literal,a=n.match(_t);if(a){var i=a[1],o=a[3],s=(i||o).toLowerCase();return e.type==="htmlInline"&&!!(r.marks[s]||r.nodes[s])}return!1}function Ca(t){var e=t.type;return de(["text","strong","emph","strike","image","link","code"],e)}function Io(t){return(t==null?void 0:t.type)==="softbreak"}function or(t){var e=t.type,r=t.literal,n=e==="htmlInline"&&r.match(_t);if(n){var a=n[1],i=n[3],o=a||i;if(o)return de(["ul","ol","li"],o.toLowerCase())}return!1}function K7(t){var e=t.literal,r=/data-task/.test(e),n=/data-task-checked/.test(e);return{task:r,checked:n}}function No(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=document.createElement("div");n.innerHTML=Ct(t);var a=n.firstChild;return e.map(function(i){return a.getAttribute(i)||""})}function Q7(t){var e={};return Object.keys(t).forEach(function(r){var n=r.split(", ");n.forEach(function(a){var i=a.toLowerCase();e[i]=t[r]})}),e}var Y7={"b, strong":function(t,e,r){var n=t.schema.marks.strong;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},"i, em":function(t,e,r){var n=t.schema.marks.emph;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},"s, del":function(t,e,r){var n=t.schema.marks.strike;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},code:function(t,e,r){var n=t.schema.marks.code;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},a:function(t,e,r){var n=e.literal,a=t.schema.marks.link;if(r){var i=No(n,"href")[0];t.openMark(a.create({linkUrl:i,rawHTML:r}))}else t.closeMark(a)},img:function(t,e,r){var n=e.literal;if(r){var a=No(n,"src","alt"),i=a[0],o=a[1],s=t.schema.nodes.image;t.addNode(s,b({rawHTML:r,imageUrl:i},o&&{altText:o}))}},hr:function(t,e,r){t.addNode(t.schema.nodes.thematicBreak,{rawHTML:r})},br:function(t,e){var r=t.schema.nodes.paragraph,n=e.parent,a=e.prev,i=e.next;(n==null?void 0:n.type)==="paragraph"?(Io(a)&&t.openNode(r),Io(i)?t.closeNode():i&&(t.closeNode(),t.openNode(r))):(n==null?void 0:n.type)==="tableCell"&&(a&&(Ca(a)||wa(t,a))&&t.closeNode(),i&&(Ca(i)||wa(t,i))&&t.openNode(r))},pre:function(t,e,r){var n,a,i=document.createElement("div");i.innerHTML=e.literal;var o=(a=(n=i.firstChild)===null||n===void 0?void 0:n.firstChild)===null||a===void 0?void 0:a.textContent;t.openNode(t.schema.nodes.codeBlock,{rawHTML:r}),t.addText(jr(o)),t.closeNode()},"ul, ol":function(t,e,r){if(e.parent.type==="tableCell"){var n=t.schema.nodes,a=n.bulletList,i=n.orderedList,o=n.paragraph,s=r==="ul"?a:i;r?(e.prev&&!or(e.prev)&&t.closeNode(),t.openNode(s,{rawHTML:r})):(t.closeNode(),e.next&&!or(e.next)&&t.openNode(o))}},li:function(t,e,r){var n;if(((n=e.parent)===null||n===void 0?void 0:n.type)==="tableCell"){var a=t.schema.nodes,i=a.listItem,o=a.paragraph;if(r){var s=K7(e);e.prev&&!or(e.prev)&&t.closeNode(),t.openNode(i,b({rawHTML:r},s)),e.next&&!or(e.next)&&t.openNode(o)}else e.prev&&!or(e.prev)&&t.closeNode(),t.closeNode()}}},Z7=Q7(Y7);function Ro(t){return t.type==="htmlInline"&&ta.test(t.literal)}function Eu(t){Ve(t.childNodes).forEach(function(e){if(hn(e)){var r=e.nodeName.toLowerCase();e.setAttribute("data-raw-html",r),e.childNodes&&Eu(e)}})}var Bo={text:function(t,e){t.addText(e.literal||"")},paragraph:function(t,e,r,n){var a,i=r.entering;if(i){var o=t.schema.nodes.paragraph;((a=e.prev)===null||a===void 0?void 0:a.type)==="paragraph"&&(t.openNode(o,n),t.closeNode()),t.openNode(o,n)}else t.closeNode()},heading:function(t,e,r,n){var a=r.entering;if(a){var i=e,o=i.level,s=i.headingType;t.openNode(t.schema.nodes.heading,b({level:o,headingType:s},n))}else t.closeNode()},codeBlock:function(t,e,r){var n=t.schema.nodes.codeBlock,a=e,i=a.info,o=a.literal;t.openNode(n,b({language:i},r)),t.addText(jr(o||"")),t.closeNode()},list:function(t,e,r,n){var a=r.entering;if(a){var i=t.schema.nodes,o=i.bulletList,s=i.orderedList,l=e.listData,u=l.type,c=l.start;u==="bullet"?t.openNode(o,n):t.openNode(s,b({order:c},n))}else t.closeNode()},item:function(t,e,r,n){var a=r.entering,i=t.schema.nodes.listItem,o=e.listData,s=o.task,l=o.checked;if(a){var u=b(b(b({},s&&{task:s}),l&&{checked:l}),n);t.openNode(i,u)}else t.closeNode()},blockQuote:function(t,e,r,n){var a=r.entering;a?t.openNode(t.schema.nodes.blockQuote,n):t.closeNode()},image:function(t,e,r,n){var a=r.entering,i=r.skipChildren,o=t.schema.nodes.image,s=e,l=s.destination,u=s.firstChild;a&&i&&i(),t.addNode(o,b(b({imageUrl:l},u&&{altText:u.literal}),n))},thematicBreak:function(t,e,r,n){t.addNode(t.schema.nodes.thematicBreak,n)},strong:function(t,e,r,n){var a=r.entering,i=t.schema.marks.strong;a?t.openMark(i.create(n)):t.closeMark(i)},emph:function(t,e,r,n){var a=r.entering,i=t.schema.marks.emph;a?t.openMark(i.create(n)):t.closeMark(i)},link:function(t,e,r,n){var a=r.entering,i=t.schema.marks.link,o=e,s=o.destination,l=o.title;if(a){var u=b({linkUrl:s,title:l},n);t.openMark(i.create(u))}else t.closeMark(i)},softbreak:function(t,e){if(e.parent.type==="paragraph"){var r=e.prev,n=e.next;r&&!Ro(r)&&t.closeNode(),n&&!Ro(n)&&t.openNode(t.schema.nodes.paragraph)}},table:function(t,e,r,n){var a=r.entering;a?t.openNode(t.schema.nodes.table,n):t.closeNode()},tableHead:function(t,e,r,n){var a=r.entering;a?t.openNode(t.schema.nodes.tableHead,n):t.closeNode()},tableBody:function(t,e,r,n){var a=r.entering;a?t.openNode(t.schema.nodes.tableBody,n):t.closeNode()},tableRow:function(t,e,r,n){var a=r.entering;a?t.openNode(t.schema.nodes.tableRow,n):t.closeNode()},tableCell:function(t,e,r){var n=r.entering;if(!e.ignored){var a=function(p){return p&&(Ca(p)||wa(t,p))};if(n){var i=t.schema.nodes,o=i.tableHeadCell,s=i.tableBodyCell,l=i.paragraph,u=e.parent.parent,c=u.type==="tableHead"?o:s,v=u.parent,f=(v.columns[e.startIdx]||{}).align,d=b({},e.attrs);f&&(d.align=f),t.openNode(c,d),a(e.firstChild)&&t.openNode(l)}else a(e.lastChild)&&t.closeNode(),t.closeNode()}},strike:function(t,e,r,n){var a=r.entering,i=t.schema.marks.strike;a?t.openMark(i.create(n)):t.closeMark(i)},code:function(t,e,r,n){var a=t.schema.marks.code;t.openMark(a.create(n)),t.addText(jr(e.literal||"")),t.closeMark(a)},customBlock:function(t,e){var r=t.schema.nodes,n=r.customBlock,a=r.paragraph,i=e,o=i.info,s=i.literal;t.openNode(n,{info:o}),t.addText(jr(s||"")),t.closeNode(),e.next||(t.openNode(a),t.closeNode())},frontMatter:function(t,e){t.openNode(t.schema.nodes.frontMatter),t.addText(e.literal),t.closeNode()},htmlInline:function(t,e){var r=e.literal,n=r.match(_t),a=n[1],i=n[3],o=(a||i).toLowerCase(),s=t.schema.marks[o],l=Ct(r);if(s!=null&&s.spec.attrs.htmlInline)if(a){var u=ma(l);t.openMark(s.create({htmlAttrs:u}))}else t.closeMark(s);else{var c=Z7[o];c&&c(t,e,a)}},htmlBlock:function(t,e){var r=e.literal,n=document.createElement("div"),a=Rv.test(r);if(a)t.openNode(t.schema.nodes.htmlComment),t.addText(e.literal),t.closeNode();else{var i=r.match(_t),o=i[1],s=i[3],l=(o||s).toLowerCase(),u=t.schema.nodes[l],c=Ct(r);if(u!=null&&u.spec.attrs.htmlBlock){var v=ma(c),f=ru(e,l);t.addNode(u,{htmlAttrs:v,childrenHTML:f})}else n.innerHTML=c,Eu(n),t.convertByDOMParser(n)}},customInline:function(t,e,r){var n=r.entering,a=r.skipChildren,i=e,o=i.info,s=i.firstChild,l=t.schema;if(o.indexOf("widget")!==-1&&n){var u=Gs(e);a(),t.addNode(l.nodes.widget,{info:o},[l.text(zs(o,u))])}else{var c="$$";n&&(c+=s?o+" ":o),t.addText(c)}}};function J7(t){var e=Object.keys(t),r=b({},Bo),n=new ei({gfm:!0,nodeId:!0,convertors:t}),a=n.getConvertors();return e.forEach(function(i){var o=Bo[i];o&&!de(["htmlBlock","htmlInline"],i)&&(r[i]=function(s,l,u){u.origin=function(){return a[i](l,u,a)};var c=t[i](l,u),v;if(c){var f=Array.isArray(c)?c[0]:c,d=f.attributes,p=f.classNames;v={htmlAttrs:d,classNames:p}}o(s,l,u,v)})}),r}function eY(t,e){return t.isText&&e.isText&&Zn.sameSet(t.marks,e.marks)?t.withText(t.text+e.text):!1}var tY=function(){function t(e,r){this.schema=e,this.convertors=r,this.stack=[{type:this.schema.topNodeType,attrs:null,content:[]}],this.marks=Zn.none}return t.prototype.top=function(){return ge(this.stack)},t.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},t.prototype.addText=function(e){if(e){var r=this.top().content,n=ge(r),a=this.schema.text(e,this.marks),i=n&&eY(n,a);i?r[r.length-1]=i:r.push(a)}},t.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},t.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},t.prototype.addNode=function(e,r,n){var a=e.createAndFill(r,n,this.marks);return a?(this.push(a),a):null},t.prototype.openNode=function(e,r){this.stack.push({type:e,attrs:r,content:[]})},t.prototype.closeNode=function(){this.marks.length&&(this.marks=Zn.none);var e=this.stack.pop(),r=e.type,n=e.attrs,a=e.content;return this.addNode(r,n,a)},t.prototype.convertByDOMParser=function(e){var r=this,n=Is.fromSchema(this.schema).parse(e);n.content.forEach(function(a){return r.push(a)})},t.prototype.closeUnmatchedHTMLInline=function(e,r){var n;if(!r&&e.type!=="htmlInline")for(var a=this.stack.length-1,i=a;i>=0;i-=1){var o=this.stack[i];if(!((n=o.attrs)===null||n===void 0)&&n.rawHTML)o.content.length?this.closeNode():this.stack.pop();else break}},t.prototype.convert=function(e,r){for(var n=e.walker(),a=n.next(),i=function(){var s=a.node,l=a.entering,u=o.convertors[s.type],c=!1;if(u){var v={entering:l,leaf:!pv(s),getChildrenText:hv,options:{gfm:!0,nodeId:!1,tagFilter:!1,softbreak:`
`},skipChildren:function(){c=!0}};if(o.closeUnmatchedHTMLInline(s,l),u(o,s,v),(r==null?void 0:r.node)===s){var f=o.stack.reduce(function(d,p){return d+p.content.reduce(function(h,m){return h+m.nodeSize},0)},0)+1;r.setMappedPos(f)}}c&&(n.resumeAt(s,!1),n.next()),a=n.next()},o=this;a;)i()},t.prototype.convertNode=function(e,r){return this.convert(e,r),this.stack.length?this.closeNode():null},t}();function rY(t,e,r){var n=r[0],a=r[1];t.write(n),t.convertInline(e),t.write(a)}function nY(t,e,r){var n=e.node,a=e.parent,i=r[0],o=r[1];t.stopNewline=!0,t.write(i),t.convertNode(n),t.write(o),(a==null?void 0:a.type.name)==="doc"&&(t.closeBlock(n),t.stopNewline=!1)}function aY(t,e){var r=t.length,n="",a="";return e==="left"?(n=":",r-=1):e==="right"?(a=":",r-=1):e==="center"&&(n=":",a=":",r-=2),""+n+Gr("-",Math.max(r,3))+a}var Ta={text:function(t,e){var r,n=e.node,a=(r=n.text)!==null&&r!==void 0?r:"";(n.marks||[]).some(function(i){return i.type.name==="link"})?t.text(Xr(a),!1):t.text(a)},paragraph:function(t,e){var r=e.node,n=e.parent,a=e.index,i=a===void 0?0:a;if(t.stopNewline)t.convertInline(r);else{var o=i===0,s=!o&&n.child(i-1),l=s&&s.childCount===0,u=i<n.childCount-1&&n.child(i+1),c=u&&u.type.name==="paragraph",v=r.childCount===0;if(v&&l)t.write(`<br>
`);else if(v&&!l&&!o){if((n==null?void 0:n.type.name)==="listItem"){var f=t.getDelim();t.setDelim(""),t.write("<br>"),t.setDelim(f)}t.write(`
`)}else t.convertInline(r),c?t.write(`
`):t.closeBlock(r)}},heading:function(t,e,r){var n=e.node,a=r.delim,i=n.attrs.headingType;i==="atx"?(t.write(a+" "),t.convertInline(n),t.closeBlock(n)):(t.convertInline(n),t.ensureNewLine(),t.write(a),t.closeBlock(n))},codeBlock:function(t,e,r){var n=e.node,a=r.delim,i=r.text,o=a,s=o[0],l=o[1];t.write(s),t.ensureNewLine(),t.text(i,!1),t.ensureNewLine(),t.write(l),t.closeBlock(n)},blockQuote:function(t,e,r){var n=e.node,a=e.parent,i=r.delim;(a==null?void 0:a.type.name)===n.type.name&&t.flushClose(1),t.wrapBlock(i,null,n,function(){return t.convertNode(n)})},bulletList:function(t,e,r){var n=e.node,a=r.delim;t.convertList(n,Gr(" ",4),function(){return a+" "})},orderedList:function(t,e){var r=e.node,n=r.attrs.order||1;t.convertList(r,Gr(" ",4),function(a){var i=String(n+a);return i+". "})},listItem:function(t,e){var r=e.node,n=r.attrs,a=n.task,i=n.checked;a&&t.write("["+(i?"x":" ")+"] "),t.convertNode(r)},image:function(t,e,r){var n=r.attrs;t.write("!["+(n==null?void 0:n.altText)+"]("+(n==null?void 0:n.imageUrl)+")")},thematicBreak:function(t,e,r){var n=e.node,a=r.delim;t.write(a),t.closeBlock(n)},table:function(t,e){var r=e.node;t.convertNode(r),t.closeBlock(r)},tableHead:function(t,e,r){var n=e.node,a=r.delim,i=n.firstChild;t.convertNode(n);var o=a??"";!a&&i&&i.forEach(function(s){var l=s.textContent,u=s.attrs,c=aY(l,u.align);o+="| "+c+" "}),t.write(o+"|"),t.ensureNewLine()},tableBody:function(t,e){var r=e.node;t.convertNode(r)},tableRow:function(t,e){var r=e.node;t.convertNode(r),t.write("|"),t.ensureNewLine()},tableHeadCell:function(t,e,r){var n=e.node,a=r.delim,i=a===void 0?"| ":a;t.write(i),t.convertTableCell(n),t.write(" ")},tableBodyCell:function(t,e,r){var n=e.node,a=r.delim,i=a===void 0?"| ":a;t.write(i),t.convertTableCell(n),t.write(" ")},customBlock:function(t,e,r){var n=e.node,a=r.delim,i=r.text,o=a,s=o[0],l=o[1];t.write(s),t.ensureNewLine(),t.text(i,!1),t.ensureNewLine(),t.write(l),t.closeBlock(n)},frontMatter:function(t,e,r){var n=e.node,a=r.text;t.text(a,!1),t.closeBlock(n)},widget:function(t,e,r){var n=r.text;t.write(n)},html:function(t,e,r){var n=e.node,a=r.text;t.write(a),n.attrs.htmlBlock&&t.closeBlock(n)},htmlComment:function(t,e,r){var n=e.node,a=r.text;t.write(a),t.closeBlock(n)}};function iY(t,e){var r=e.state,n=e.nodeInfo,a=e.params,i=a.rawHTML;i?mt(t,["heading","codeBlock"])>-1?rY(r,n.node,i):mt(t,["image","thematicBreak"])>-1?r.write(i):nY(r,n,i):Ta[t](r,n,a)}function Po(t,e){var r=t.text,n=/`+/g,a=0;if(t.isText&&r)for(var i=n.exec(r);i;)a=Math.max(a,i[0].length),i=n.exec(r);for(var o=a>0&&e>0?" `":"`",s=0;s<a;s+=1)o+="`";return a>0&&e<0&&(o+=" "),o}function Oe(t){return t?["<"+t+">","</"+t+">"]:null}function sr(t){return t?"<"+t+">":null}function lr(t){return t?"</"+t+">":null}var ur={heading:function(t){var e=t.node,r=e.attrs,n=r.level,a=Gr("#",n);return r.headingType==="setext"&&(a=n===1?"===":"---"),{delim:a,rawHTML:Oe(r.rawHTML)}},codeBlock:function(t){var e=t.node,r=e,n=r.attrs,a=r.textContent;return{delim:["```"+(n.language||""),"```"],rawHTML:Oe(n.rawHTML),text:a}},blockQuote:function(t){var e=t.node;return{delim:"> ",rawHTML:Oe(e.attrs.rawHTML)}},bulletList:function(t,e){var r=t.node,n=e.inTable,a=r.attrs.rawHTML;return n&&(a=a||"ul"),{delim:"*",rawHTML:Oe(a)}},orderedList:function(t,e){var r=t.node,n=e.inTable,a=r.attrs.rawHTML;return n&&(a=a||"ol"),{rawHTML:Oe(a)}},listItem:function(t,e){var r=t.node,n=e.inTable,a=r.attrs,i=a.task,o=a.checked,s=r.attrs.rawHTML;n&&(s=s||"li");var l=i?' class="task-list-item'+(o?" checked":"")+'"':"",u=i?" data-task"+(o?" data-task-checked":""):"";return{rawHTML:s?["<"+s+l+u+">","</"+s+">"]:null}},table:function(t){var e=t.node;return{rawHTML:Oe(e.attrs.rawHTML)}},tableHead:function(t){var e=t.node;return{rawHTML:Oe(e.attrs.rawHTML)}},tableBody:function(t){var e=t.node;return{rawHTML:Oe(e.attrs.rawHTML)}},tableRow:function(t){var e=t.node;return{rawHTML:Oe(e.attrs.rawHTML)}},tableHeadCell:function(t){var e=t.node;return{rawHTML:Oe(e.attrs.rawHTML)}},tableBodyCell:function(t){var e=t.node;return{rawHTML:Oe(e.attrs.rawHTML)}},image:function(t){var e=t.node,r=e.attrs,n=r.rawHTML,a=r.altText,i=r.imageUrl.replace(/&amp;/g,"&"),o=a?' alt="'+Nt(a)+'"':"";return{rawHTML:n?"<"+n+' src="'+Nt(i)+'"'+o+">":null,attrs:{altText:Xr(a||""),imageUrl:i}}},thematicBreak:function(t){var e=t.node;return{delim:"***",rawHTML:sr(e.attrs.rawHTML)}},customBlock:function(t){var e=t.node,r=e,n=r.attrs,a=r.textContent;return{delim:["$$"+n.info,"$$"],text:a}},frontMatter:function(t){var e=t.node;return{text:e.textContent}},widget:function(t){var e=t.node;return{text:e.textContent}},strong:function(t,e){var r=t.node,n=e.entering,a=r.attrs.rawHTML;return{delim:"**",rawHTML:n?sr(a):lr(a)}},emph:function(t,e){var r=t.node,n=e.entering,a=r.attrs.rawHTML;return{delim:"*",rawHTML:n?sr(a):lr(a)}},strike:function(t,e){var r=t.node,n=e.entering,a=r.attrs.rawHTML;return{delim:"~~",rawHTML:n?sr(a):lr(a)}},link:function(t,e){var r=t.node,n=e.entering,a=r.attrs,i=a.title,o=a.rawHTML,s=a.linkUrl.replace(/&amp;/g,"&"),l=i?' title="'+Nt(i)+'"':"";return n?{delim:"[",rawHTML:o?"<"+o+' href="'+Nt(s)+'"'+l+">":null}:{delim:"]("+s+(i?" "+nv(Xr(i)):"")+")",rawHTML:lr(o)}},code:function(t,e){var r=t.node,n=t.parent,a=t.index,i=a===void 0?0:a,o=e.entering,s=o?Po(n.child(i),-1):Po(n.child(i-1),1),l=o?sr(r.attrs.rawHTML):lr(r.attrs.rawHTML);return{delim:s,rawHTML:l}},htmlComment:function(t){var e=t.node;return{text:e.textContent}},html:function(t,e){var r=t.node,n=e.entering,a=r.type.name,i=r.attrs.htmlAttrs,o="<"+a,s="</"+a+">";return Object.keys(i).forEach(function(l){o+=" "+l+'="'+i[l].replace(/"/g,"'")+'"'}),o+=">",r.attrs.htmlInline?{rawHTML:n?o:s}:{text:""+o+r.attrs.childrenHTML+s}}},Ho={strong:{mixable:!0,removedEnclosingWhitespace:!0},emph:{mixable:!0,removedEnclosingWhitespace:!0},strike:{mixable:!0,removedEnclosingWhitespace:!0},code:{escape:!1},link:null,html:null};function oY(t){var e={},r=Object.keys(Ta);return r.forEach(function(n){e[n]=function(a,i){var o=Ta[n];if(o){var s=t[n],l=s?s(i,{inTable:a.inTable}):{};iY(n,{state:a,nodeInfo:i,params:l})}}}),e}function sY(t){var e={},r=Object.keys(Ho);return r.forEach(function(n){e[n]=function(a,i){var o=Ho[n],s=t[n],l=s&&a&&!Be(i),u=l?s(a,{entering:i}):{};return b(b({},u),o)}}),e}function lY(t){var e=Object.keys(t);e.forEach(function(a){var i=ur[a],o=t[a];i?ur[a]=function(s,l){return l.origin=function(){return i(s,l)},o(s,l)}:ur[a]=o,delete t[a]});var r=oY(ur),n=sY(ur);return{nodeTypeConvertors:r,markTypeConvertors:n}}var uY=function(){function t(e){var r=e.nodeTypeConvertors,n=e.markTypeConvertors;this.nodeTypeConvertors=r,this.markTypeConvertors=n,this.delim="",this.result="",this.closed=!1,this.tightList=!1,this.stopNewline=!1,this.inTable=!1}return t.prototype.getMarkConvertor=function(e){var r=e.attrs.htmlInline?"html":e.type.name;return this.markTypeConvertors[r]},t.prototype.isInBlank=function(){return/(^|\n)$/.test(this.result)},t.prototype.markText=function(e,r,n,a){var i=this.getMarkConvertor(e);if(i){var o=i({node:e,parent:n,index:a},r),s=o.delim,l=o.rawHTML;return l||s}return""},t.prototype.setDelim=function(e){this.delim=e},t.prototype.getDelim=function(){return this.delim},t.prototype.flushClose=function(e){if(!this.stopNewline&&this.closed){if(this.isInBlank()||(this.result+=`
`),e||(e=2),e>1){var r=this.delim,n=/\s+$/.exec(r);n&&(r=r.slice(0,r.length-n[0].length));for(var a=1;a<e;a+=1)this.result+=r+`
`}this.closed=!1}},t.prototype.wrapBlock=function(e,r,n,a){var i=this.getDelim();this.write(r||e),this.setDelim(this.getDelim()+e),a(),this.setDelim(i),this.closeBlock(n)},t.prototype.ensureNewLine=function(){this.isInBlank()||(this.result+=`
`)},t.prototype.write=function(e){e===void 0&&(e=""),this.flushClose(),this.delim&&this.isInBlank()&&(this.result+=this.delim),e&&(this.result+=e)},t.prototype.closeBlock=function(e){this.closed=e},t.prototype.text=function(e,r){r===void 0&&(r=!0);for(var n=e.split(`
`),a=0;a<n.length;a+=1)this.write(),this.result+=r?rv(n[a]):n[a],a!==n.length-1&&(this.result+=`
`)},t.prototype.convertBlock=function(e,r,n){var a=e.type.name,i=this.nodeTypeConvertors[a],o={node:e,parent:r,index:n};e.attrs.htmlBlock?this.nodeTypeConvertors.html(this,o):i&&i(this,o)},t.prototype.convertInline=function(e){var r=this,n=[],a="",i=function(o,s,l){var u=o?o.marks:[],c=a;a="";var v=o&&o.isText&&u.some(function(X){var J=r.getMarkConvertor(X),we=J&&J();return we&&we.removedEnclosingWhitespace});if(v&&o&&o.text){var f=/^(\s*)(.*?)(\s*)$/m.exec(o.text),d=f[1],p=f[2],h=f[3];c+=d,a=h,(d||h)&&(o=p?o.withText(p):null,o||(u=n))}for(var m=u.length&&ge(u),y=m&&r.getMarkConvertor(m),w=y&&y(),T=w&&w.escape===!1,E=u.length-(T?1:0),L=0;L<E;L+=1){var p=u[L];if(w&&!w.mixable)break;for(var S=0;S<n.length;S+=1){var I=n[S];if(w&&!w.mixable)break;if(p.eq(I)){L>S?u=u.slice(0,S).concat(p).concat(u.slice(S,L)).concat(u.slice(L+1,E)):S>L&&(u=u.slice(0,L).concat(u.slice(L+1,S)).concat(p).concat(u.slice(S,E)));break}}}for(var P=0;P<Math.min(n.length,E)&&u[P].eq(n[P]);)P+=1;for(;P<n.length;){var V=n.pop();V&&r.text(r.markText(V,!1,e,l),!1)}if(c&&r.text(c),o){for(;n.length<E;){var p=u[n.length];n.push(p),r.text(r.markText(p,!0,e,l),!1)}T&&o.isText?r.text(r.markText(m,!0,e,l)+o.text+r.markText(m,!1,e,l+1),!1):r.convertBlock(o,e,l)}};e.forEach(i),i(null,null,e.childCount)},t.prototype.convertList=function(e,r,n){var a=this,i;this.closed&&this.closed.type===e.type?this.flushClose(3):this.tightList&&this.flushClose(1);var o=(i=e.attrs.tight)!==null&&i!==void 0?i:!0,s=this.tightList;this.tightList=o,e.forEach(function(l,u,c){c&&o&&a.flushClose(1),a.wrapBlock(r,n(c),e,function(){return a.convertBlock(l,e,c)})}),this.tightList=s},t.prototype.convertTableCell=function(e){var r=this;this.stopNewline=!0,this.inTable=!0,e.forEach(function(n,a,i){if(de(["bulletList","orderedList"],n.type.name))r.convertBlock(n,e,i),r.closed=!1;else if(r.convertInline(n),i<e.childCount-1){var o=e.child(i+1);o.type.name==="paragraph"&&r.write("<br>")}}),this.stopNewline=!1,this.inTable=!1},t.prototype.convertNode=function(e,r){var n=this;return e.forEach(function(a,i,o){if(n.convertBlock(a,e,o),(r==null?void 0:r.node)===a){var s=n.result.split(`
`);r.setMappedPos([s.length,ge(s).length+1])}}),this.result},t}(),cY=function(){function t(e,r,n,a){var i=this;this.setMappedPos=function(o){i.mappedPosWhenConverting=o},this.schema=e,this.eventEmitter=a,this.focusedNode=null,this.mappedPosWhenConverting=null,this.toWwConvertors=J7(n),this.toMdConvertors=lY(r||{}),this.eventEmitter.listen("setFocusedNode",function(o){return i.focusedNode=o})}return t.prototype.getMappedPos=function(){return this.mappedPosWhenConverting},t.prototype.getInfoForPosSync=function(){return{node:this.focusedNode,setMappedPos:this.setMappedPos}},t.prototype.toWysiwygModel=function(e){var r=new tY(this.schema,this.toWwConvertors);return r.convertNode(e,this.getInfoForPosSync())},t.prototype.toMarkdownText=function(e){var r=new uY(this.toMdConvertors),n=r.convertNode(e,this.getInfoForPosSync());return n=this.eventEmitter.emitReduce("beforeConvertWysiwygToMarkdown",n),n},t}();function vY(t){var e=t.plugin,r=t.eventEmitter,n=t.usageStatistics,a=t.instance,i={Plugin:He,PluginKey:Aa,Selection:Wt,TextSelection:zt},o={Decoration:xa,DecorationSet:La},s={Fragment:W},l={InputRule:Hs,inputRules:_s,undoInputRule:ac},u={keymap:dr},c={eventEmitter:r,usageStatistics:n,instance:a,pmState:i,pmView:o,pmModel:s,pmRules:l,pmKeymap:u,i18n:H};if(Gt(e)){var v=e[0],f=e[1],d=f===void 0?{}:f;return v(c,d)}return e(c)}function Lu(t){var e=t.plugins,r=t.eventEmitter,n=t.usageStatistics,a=t.instance;return r.listen("mixinTableOffsetMapPrototype",VK),(e??[]).reduce(function(i,o){var s=vY({plugin:o,eventEmitter:r,usageStatistics:n,instance:a});if(!s)throw new Error("The return value of the executed plugin is empty.");var l=s.markdownParsers,u=s.toHTMLRenderers,c=s.toMarkdownRenderers,v=s.markdownPlugins,f=s.wysiwygPlugins,d=s.wysiwygNodeViews,p=s.markdownCommands,h=s.wysiwygCommands,m=s.toolbarItems;return u&&(i.toHTMLRenderers=Kr(i.toHTMLRenderers,u)),c&&(i.toMarkdownRenderers=Kr(i.toMarkdownRenderers,c)),v&&(i.mdPlugins=i.mdPlugins.concat(v)),f&&(i.wwPlugins=i.wwPlugins.concat(f)),d&&(i.wwNodeViews=b(b({},i.wwNodeViews),d)),p&&(i.mdCommands=b(b({},i.mdCommands),p)),h&&(i.wwCommands=b(b({},i.wwCommands),h)),m&&(i.toolbarItems=i.toolbarItems.concat(m)),l&&(i.markdownParsers=b(b({},i.markdownParsers),l)),i},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var fY="data-task",dY="data-task-disabled",pY="checked";function hY(t){["htmlBlock","htmlInline"].forEach(function(e){t[e]&&Object.keys(t[e]).forEach(function(r){return tu(r)})})}var xu=function(){function t(e){var r=this;this.options=Oa({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},e),this.eventEmitter=new ku;var n=Us(this.options.linkAttributes),a=Lu({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},i=a.toHTMLRenderers,o=a.markdownParsers,s=this.options,l=s.customHTMLRenderer,u=s.extendedAutolinks,c=s.referenceDefinition,v=s.frontMatter,f=s.customHTMLSanitizer,d={linkAttributes:n,customHTMLRenderer:b(b({},i),l),extendedAutolinks:u,referenceDefinition:c,frontMatter:v,sanitizer:f||Ct};hY(d.customHTMLRenderer),this.options.events&&Bt(this.options.events,function(T,E){r.on(E,T)});var p=this.options,h=p.el,m=p.initialValue,y=p.theme,w=h.innerHTML;y!=="light"&&h.classList.add(O(y)),h.innerHTML="",this.toastMark=new Yl("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:u,referenceDefinition:c,disallowDeepHeading:!0,frontMatter:v,customParser:o}),this.preview=new au(this.eventEmitter,b(b({},d),{isViewer:!0})),bl(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),m?this.setMarkdown(m):w&&this.preview.setHTML(w),h.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return t.prototype.toggleTask=function(e){var r=e.target,n=getComputedStyle(r,":before");!r.hasAttribute(dY)&&r.hasAttribute(fY)&&qa(n,e.offsetX,e.offsetY)&&($a(r,pY),this.eventEmitter.emit("change",{source:"viewer",date:e}))},t.prototype.setMarkdown=function(e){var r=this.toastMark.getLineTexts(),n=r.length,a=ge(r),i=[n,a.length+1],o=this.toastMark.editMarkdown([1,1],i,e||"");this.eventEmitter.emit("updatePreview",o)},t.prototype.on=function(e,r){this.eventEmitter.listen(e,r)},t.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},t.prototype.addHook=function(e,r){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,r)},t.prototype.destroy=function(){yl(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},t.prototype.isViewer=function(){return!0},t.prototype.isMarkdownMode=function(){return!1},t.prototype.isWysiwygMode=function(){return!1},t}();function zr(t){return t instanceof Gu}function Mu(t){var e=["document","blockQuote","bulletList","orderedList","listItem","paragraph","heading","emph","strong","strike","link","image","table","tableHead","tableBody","tableRow","tableHeadCell","tableBodyCell"];return de(e,t)}function mY(t){var e=t.attrs,r=t.type,n=r.name,a={type:n,wysiwygNode:!0,literal:!Mu(n)&&zr(t)?t.textContent:null},i={heading:{level:e.level},link:{destination:e.linkUrl,title:e.title},image:{destination:e.imageUrl},codeBlock:{info:e.language},bulletList:{type:"list",listData:{type:"bullet"}},orderedList:{type:"list",listData:{type:"ordered",start:e.order}},listItem:{type:"item",listData:{task:e.task,checked:e.checked}},tableHeadCell:{type:"tableCell",cellType:"head",align:e.align},tableBodyCell:{type:"tableCell",cellType:"body",align:e.align},customBlock:{info:e.info}},o=i[n],s=b(b({},a),o),l=t.attrs,u=l.htmlAttrs,c=l.childrenHTML;return u?b(b({},s),{attrs:u,childrenHTML:c}):s}var gY={openTag:function(t,e){var r=t,n=r.tagName,a=r.classNames,i=r.attributes,o=document.createElement(n),s={};a&&(o.className=a.join(" ")),i&&(s=b(b({},s),i)),Ua(s,o),e.push(o)},closeTag:function(t,e){if(e.length>1){var r=e.pop();ge(e).appendChild(r)}},html:function(t,e){ge(e).insertAdjacentHTML("beforeend",t.content)},text:function(t,e){var r=document.createTextNode(t.content);ge(e).appendChild(r)}},yY=function(){function t(e,r){var n=ti(e,r),a=b(b({},r.htmlBlock),r.htmlInline);this.customConvertorKeys=Object.keys(r).concat(Object.keys(a)),this.renderer=new ei({gfm:!0,convertors:b(b({},n),a)}),this.convertors=this.renderer.getConvertors()}return t.prototype.generateTokens=function(e){var r=mY(e),n={entering:!0,leaf:zr(e)?e.isLeaf:!1,options:this.renderer.getOptions(),getChildrenText:function(){return zr(e)?e.textContent:""},skipChildren:function(){return!1}},a=this.convertors[e.type.name],i=a(r,n,this.convertors),o=Gt(i)?i:[i];return(Mu(e.type.name)||e.attrs.htmlInline)&&(n.entering=!1,o.push({type:"text",content:zr(e)?e.textContent:""}),o=o.concat(a(r,n,this.convertors))),o},t.prototype.toDOMNode=function(e){var r=this.generateTokens(e),n=[];return r.forEach(function(a){return gY[a.type](a,n)}),n[0]},t.prototype.getToDOMNode=function(e){return de(this.customConvertorKeys,e)?this.toDOMNode.bind(this):null},t}(),bY=100,wY=15,Hr=null,Qn=null;function _o(t,e){var r=e.syncScrollTop,n=e.releaseEventBlock;Qn&&clearTimeout(Qn),r(t),Qn=setTimeout(function(){n()},wY)}function CY(t,e,r){var n=e-t,a=Date.now(),i=function(){var o=Date.now(),s=(o-a)/bY,l;Hr&&clearTimeout(Hr),s<1?(l=t+n*Math.cos((1-s)*Math.PI/2),_o(Math.ceil(l),r),Hr=setTimeout(i,1)):(_o(e,r),Hr=null)};i()}var TY=18,kY=function(){function t(e,r,n){this.latestEditorScrollTop=null,this.latestPreviewScrollTop=null,this.blockedScroll=null,this.active=!0,this.timer=null;var a=r.previewContent,i=r.el;this.previewRoot=a,this.previewEl=i,this.mdEditor=e,this.editorView=e.view,this.toastMark=e.getToastMark(),this.eventEmitter=n,this.addScrollSyncEvent()}return t.prototype.addScrollSyncEvent=function(){var e=this;this.eventEmitter.listen("afterPreviewRender",function(){e.clearTimer(),e.timer=setTimeout(function(){e.syncPreviewScrollTop(!0)},200)}),this.eventEmitter.listen("scroll",function(r,n){e.active&&(r==="editor"&&e.blockedScroll!=="editor"?e.syncPreviewScrollTop():r==="preview"&&e.blockedScroll!=="preview"&&e.syncEditorScrollTop(n))}),this.eventEmitter.listen("toggleScrollSync",function(r){e.active=r})},t.prototype.getMdNodeAtPos=function(e,r){var n=e.content.findIndex(r.pos),a=n.index;return this.toastMark.findFirstNodeAtLine(a+1)},t.prototype.getScrollTopByCaretPos=function(){var e=this.mdEditor.getSelection(),r=this.toastMark.findFirstNodeAtLine(e[0][0]),n=this.previewEl.clientHeight,a=Wn(this.previewRoot,r).el,i=on(a,this.previewRoot)||a.offsetTop,o=a.clientHeight,s=i+o-n*.5;this.latestEditorScrollTop=null;var l=a.getBoundingClientRect().top-this.previewEl.getBoundingClientRect().top;return l<n?null:s},t.prototype.syncPreviewScrollTop=function(e){e===void 0&&(e=!1);var r=this,n=r.editorView,a=r.previewEl,i=r.previewRoot,o=n.dom.getBoundingClientRect(),s=o.left,l=o.top,u=n.posAtCoords({left:s,top:l}),c=n.state.doc,v=this.getMdNodeAtPos(c,u);if(!(!v||sv(v))){var f=a.scrollTop,d=n.dom,p=d.scrollTop,h=d.scrollHeight,m=d.clientHeight,y=d.children,w=h-p<=m+TY,T=w?a.scrollHeight:0;if(p&&!w){if(e){var E=this.getScrollTopByCaretPos();if(!E)return;T=E}else{var L=Wn(this.previewRoot,v),S=L.el,I=L.mdNode,P=ko(c,I,y),V=P.height,X=P.rect,J=on(S,i)||S.offsetTop,we=S.clientHeight,Tt=l>X.top?Math.min((l-X.top)/V,1):0;T=J+we*Tt}T=this.getResolvedScrollTop("editor",p,T,f),this.latestEditorScrollTop=p}T!==f&&this.run("editor",T,f)}},t.prototype.syncEditorScrollTop=function(e){var r=this,n=r.toastMark,a=r.editorView,i=r.previewRoot,o=r.previewEl,s=a.dom,l=a.state,u=o.scrollTop,c=o.clientHeight,v=o.scrollHeight,f=v-u<=c,d=s.scrollTop,p=f?s.scrollHeight:0;if(u&&e&&!f){if(e=bK(e,i),!e.getAttribute("data-nodeid"))return;var h=s.children,m=Number(e.getAttribute("data-nodeid")),y=Wn(this.previewRoot,n.findNodeById(m)),w=y.mdNode,T=y.el,E=yr(w);p=h[E-1].offsetTop;var L=ko(l.doc,w,h).height,S=MK(T,i,m),I=S.nodeHeight,P=S.offsetTop;p+=CK(u,P,I,L),p=this.getResolvedScrollTop("preview",u,p,d),this.latestPreviewScrollTop=u}p!==d&&this.run("preview",p,d)},t.prototype.getResolvedScrollTop=function(e,r,n,a){var i=e==="editor"?this.latestEditorScrollTop:this.latestPreviewScrollTop;return i===null?n:i<r?Math.max(n,a):Math.min(n,a)},t.prototype.run=function(e,r,n){var a=this,i;e==="editor"?(i=this.previewEl,this.blockedScroll="preview"):(i=this.editorView.dom,this.blockedScroll="editor");var o={syncScrollTop:function(s){return i.scrollTop=s},releaseEventBlock:function(){return a.blockedScroll=null}};CY(n,r,o)},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.destroy=function(){this.clearTimer(),this.eventEmitter.removeEventHandler("scroll"),this.eventEmitter.removeEventHandler("afterPreviewRender")},t}(),EY={getPopupInitialValues:function(t,e){var r=e.popupName;return r==="link"?{linkText:t.getSelectedText()}:{}}};function LY(t){t.eventEmitter.listen("query",function(e,r){return EY[e](t,r)})}var Au=function(){function t(e){var r=this;this.initialHTML=e.el.innerHTML,e.el.innerHTML="",this.options=Oa({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useCommandShortcut:!0,usageStatistics:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["code","codeblock"],["scrollSync"]],hideModeSwitch:!1,linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,customMarkdownRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,widgetRules:[],theme:"light",autofocus:!0},e);var n=this.options,a=n.customHTMLRenderer,i=n.extendedAutolinks,o=n.referenceDefinition,s=n.frontMatter,l=n.customMarkdownRenderer,u=n.useCommandShortcut,c=n.initialEditType,v=n.widgetRules,f=n.customHTMLSanitizer;this.mode=c||"markdown",this.mdPreviewStyle=this.options.previewStyle,this.i18n=H,this.i18n.setCode(this.options.language),this.eventEmitter=new ku,gv(v);var d=Us(this.options.linkAttributes);this.pluginInfo=Lu({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this});var p=this.pluginInfo,h=p.toHTMLRenderers,m=p.toMarkdownRenderers,y=p.mdPlugins,w=p.wwPlugins,T=p.wwNodeViews,E=p.mdCommands,L=p.wwCommands,S=p.markdownParsers,I={linkAttributes:d,customHTMLRenderer:Kr(h,a),extendedAutolinks:i,referenceDefinition:o,frontMatter:s,sanitizer:f||Ct},P=new yY(d,I.customHTMLRenderer),V=fK(I.customHTMLRenderer,I.sanitizer,P);this.toastMark=new Yl("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:i,referenceDefinition:o,disallowDeepHeading:!0,frontMatter:s,customParser:S}),this.mdEditor=new wd(this.eventEmitter,{toastMark:this.toastMark,useCommandShortcut:u,mdPlugins:y}),this.preview=new au(this.eventEmitter,b(b({},I),{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=new H7(this.eventEmitter,{toDOMAdaptor:P,useCommandShortcut:u,htmlSchemaMap:V,linkAttributes:d,wwPlugins:w,wwNodeViews:T}),this.convertor=new cY(this.wwEditor.getSchema(),b(b({},m),l),ti(d,I.customHTMLRenderer),this.eventEmitter),this.setMinHeight(this.options.minHeight),this.setHeight(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHTML(this.initialHTML,!1),this.commandManager=new X7(this.eventEmitter,this.mdEditor.commands,this.wwEditor.commands,function(){return r.mode}),this.options.usageStatistics&&Zc(),this.scrollSync=new kY(this.mdEditor,this.preview,this.eventEmitter),this.addInitEvent(),this.addInitCommand(E,L),LY(this),this.options.hooks&&Bt(this.options.hooks,function(X,J){return r.addHook(J,X)}),this.options.events&&Bt(this.options.events,function(X,J){return r.on(J,X)}),this.eventEmitter.emit("load",this),this.moveCursorToStart(this.options.autofocus)}return t.prototype.addInitEvent=function(){var e=this;this.on("needChangeMode",this.changeMode.bind(this)),this.on("loadUI",function(){if(e.height!=="auto"){var r=Math.min(parseInt(e.minHeight,10),parseInt(e.height,10)-75)+"px";e.setMinHeight(r)}}),Vv(this.eventEmitter)},t.prototype.addInitCommand=function(e,r){var n=this,a=function(i,o){Object.keys(o).forEach(function(s){n.addCommand(i,s,o[s])})};this.addCommand("markdown","toggleScrollSync",function(i){return n.eventEmitter.emit("toggleScrollSync",i.active),!0}),a("markdown",e),a("wysiwyg",r)},t.prototype.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},t.factory=function(e){return e.viewer?new xu(e):new t(e)},t.setLanguage=function(e,r){H.setLanguage(e,r)},t.prototype.changePreviewStyle=function(e){this.mdPreviewStyle!==e&&(this.mdPreviewStyle=e,this.eventEmitter.emit("changePreviewStyle",e))},t.prototype.exec=function(e,r){this.commandManager.exec(e,r)},t.prototype.addCommand=function(e,r,n){var a=this,i=function(o){o===void 0&&(o={});var s=(e==="markdown"?a.mdEditor:a.wwEditor).view;n(o,s.state,s.dispatch,s)};this.commandManager.addCommand(e,r,i)},t.prototype.on=function(e,r){this.eventEmitter.listen(e,r)},t.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},t.prototype.addHook=function(e,r){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,r)},t.prototype.removeHook=function(e){this.eventEmitter.removeEventHandler(e)},t.prototype.focus=function(){this.getCurrentModeEditor().focus()},t.prototype.blur=function(){this.getCurrentModeEditor().blur()},t.prototype.moveCursorToEnd=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToEnd(e)},t.prototype.moveCursorToStart=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToStart(e)},t.prototype.setMarkdown=function(e,r){if(e===void 0&&(e=""),r===void 0&&(r=!0),this.mdEditor.setMarkdown(e,r),this.isWysiwygMode()){var n=this.toastMark.getRootNode(),a=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(a,r)}},t.prototype.setHTML=function(e,r){e===void 0&&(e=""),r===void 0&&(r=!0);var n=document.createElement("div");n.innerHTML=$v(e);var a=Is.fromSchema(this.wwEditor.schema).parse(n);this.isMarkdownMode()?this.mdEditor.setMarkdown(this.convertor.toMarkdownText(a),r):this.wwEditor.setModel(a,r)},t.prototype.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getMarkdown():this.convertor.toMarkdownText(this.wwEditor.getModel())},t.prototype.getHTML=function(){var e=this;this.eventEmitter.holdEventInvoke(function(){if(e.isMarkdownMode()){var a=e.toastMark.getRootNode(),i=e.convertor.toWysiwygModel(a);e.wwEditor.setModel(i)}});var r=Va(this.wwEditor.view.dom.innerHTML);if(this.placeholder){var n=new RegExp('<span class="placeholder[^>]+>'+this.placeholder+"</span>","i");return r.replace(n,"")}return r},t.prototype.insertText=function(e){this.getCurrentModeEditor().replaceSelection(e)},t.prototype.setSelection=function(e,r){this.getCurrentModeEditor().setSelection(e,r)},t.prototype.replaceSelection=function(e,r,n){this.getCurrentModeEditor().replaceSelection(e,r,n)},t.prototype.deleteSelection=function(e,r){this.getCurrentModeEditor().deleteSelection(e,r)},t.prototype.getSelectedText=function(e,r){return this.getCurrentModeEditor().getSelectedText(e,r)},t.prototype.getRangeInfoOfNode=function(e){return this.getCurrentModeEditor().getRangeInfoOfNode(e)},t.prototype.addWidget=function(e,r,n){this.getCurrentModeEditor().addWidget(e,r,n)},t.prototype.replaceWithWidget=function(e,r,n){this.getCurrentModeEditor().replaceWithWidget(e,r,n)},t.prototype.setHeight=function(e){var r=this.options.el;Je(e)&&(e==="auto"?$e(r,"auto-height"):De(r,"auto-height"),this.setMinHeight(this.getMinHeight())),Ue(r,{height:e}),this.height=e},t.prototype.getHeight=function(){return this.height},t.prototype.setMinHeight=function(e){if(e!==this.minHeight){var r=this.height||this.options.height;r!=="auto"&&this.options.el.querySelector("."+O("main"))&&(e=Math.min(parseInt(e,10),parseInt(r,10)-75)+"px");var n=parseInt(e,10);this.minHeight=e,this.wwEditor.setMinHeight(n),this.mdEditor.setMinHeight(n),this.preview.setMinHeight(n)}},t.prototype.getMinHeight=function(){return this.minHeight},t.prototype.isMarkdownMode=function(){return this.mode==="markdown"},t.prototype.isWysiwygMode=function(){return this.mode==="wysiwyg"},t.prototype.isViewer=function(){return!1},t.prototype.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},t.prototype.changeMode=function(e,r){if(this.mode!==e){if(this.mode=e,this.isWysiwygMode()){var n=this.toastMark.getRootNode(),a=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(a)}else{var a=this.wwEditor.getModel();this.mdEditor.setMarkdown(this.convertor.toMarkdownText(a),!r)}if(this.eventEmitter.emit("removePopupWidget"),this.eventEmitter.emit("changeMode",e),!r){var i=this.convertor.getMappedPos();this.focus(),this.isWysiwygMode()&&Xe(i)?this.wwEditor.setSelection(i):Array.isArray(i)&&this.mdEditor.setSelection(i)}}},t.prototype.destroy=function(){var e=this;this.wwEditor.destroy(),this.mdEditor.destroy(),this.preview.destroy(),this.scrollSync.destroy(),this.eventEmitter.emit("destroy"),this.eventEmitter.getEvents().forEach(function(r,n){return e.off(n)})},t.prototype.hide=function(){this.eventEmitter.emit("hide")},t.prototype.show=function(){this.eventEmitter.emit("show")},t.prototype.setScrollTop=function(e){this.getCurrentModeEditor().setScrollTop(e)},t.prototype.getScrollTop=function(){return this.getCurrentModeEditor().getScrollTop()},t.prototype.reset=function(){this.wwEditor.setModel([]),this.mdEditor.setMarkdown("")},t.prototype.getSelection=function(){return this.getCurrentModeEditor().getSelection()},t.prototype.setPlaceholder=function(e){this.placeholder=e,this.mdEditor.setPlaceholder(e),this.wwEditor.setPlaceholder(e)},t.prototype.getEditorElements=function(){return{mdEditor:this.mdEditor.getElement(),mdPreview:this.preview.getElement(),wwEditor:this.wwEditor.getElement()}},t.prototype.convertPosToMatchEditorMode=function(e,r,n){var a,i;r===void 0&&(r=e),n===void 0&&(n=this.mode);var o=this.mdEditor.view.state.doc,s=Array.isArray(e),l=Array.isArray(r),u=e,c=r;if(s!==l)throw new Error("Types of arguments must be same");return n==="markdown"&&!s&&!l?(a=qr(o,e,r),u=a[0],c=a[1]):n==="wysiwyg"&&s&&l&&(i=pt(o,e,r),u=i[0],c=i[1]),[u,c]},t}();function xY(t){for(var e,r,n=arguments,a=1,i="",o="",s=[0],l=function(c){a===1&&(c||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(c?n[c]:i):a===3&&(c||i)?(s[1]=c?n[c]:i,a=2):a===2&&i==="..."&&c?s[2]=Pa(s[2]||{},n[c]):a===2&&i&&!c?(s[2]=s[2]||{})[i]=!0:a>=5&&(a===5?((s[2]=s[2]||{})[r]=c?i?i+n[c]:n[c]:i,a=6):(c||i)&&(s[2][r]+=c?i+n[c]:i)),i=""},u=0;u<t.length;u++){u&&(a===1&&l(),l(u));for(let c=0;c<t[u].length;c++)e=t[u][c],a===1?e==="<"?(l(),s=[s,"",null],a=3):i+=e:a===4?i==="--"&&e===">"?(a=1,i=""):i=e+i[0]:o?e===o?o="":i+=e:e==='"'||e==="'"?o=e:e===">"?(l(),a=1):a&&(e==="="?(a=5,r=i,i=""):e==="/"&&(a<5||t[u][c+1]===">")?(l(),a===3&&(s=s[0]),a=s,(s=s[0]).push(this.apply(null,a.slice(1))),a=0):e===" "||e==="	"||e===`
`||e==="\r"?(l(),a=2):i+=e),a===3&&i==="!--"&&(a=4,s=s[0])}return l(),s.length>2?s.slice(1):s[1]}function MY(t){return typeof t=="boolean"||t instanceof Boolean}var AY=MY,SY=function(){function t(e){this.current=e,this.root=e,this.entering=!0}return t.prototype.walk=function(){var e=this,r=e.entering,n=e.current;return n?(r?n.firstChild?(this.current=n.firstChild,this.entering=!0):this.entering=!1:n===this.root?this.current=null:n.next?(this.current=n.next,this.entering=!0):(this.current=n.parent,this.entering=!1),{vnode:n,entering:r}):null},t}(),Ne=function(){function t(e,r,n){this.parent=null,this.old=null,this.firstChild=null,this.next=null,this.skip=!1,this.type=e,this.props=r,this.children=n,this.props.children=n,r.ref&&(this.ref=r.ref,delete r.ref),r.key&&(this.key=r.key,delete r.key)}return t.prototype.walker=function(){return new SY(this)},t.removalNodes=[],t}();function OY(t){return new Ne("TEXT_NODE",{nodeValue:t},[])}function qo(t,e){var r=t;AY(t)||t==null?r=null:(Je(t)||Xe(t))&&(r=OY(String(t))),r&&e.push(r)}function DY(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var a=[];return r.forEach(function(i){Array.isArray(i)?i.forEach(function(o){qo(o,a)}):qo(i,a)}),new Ne(t,e||{},a)}var U=xY.bind(DY);function IY(t){return t===Object(t)}var NY=IY;function RY(t){var e;return t.type==="TEXT_NODE"?e=document.createTextNode(t.props.nodeValue):(e=document.createElement(t.type),Ou(e,{},t.props)),e}function Su(t,e){t.node?e.removeChild(t.node):Su(t.firstChild,e)}function BY(t,e,r){Object.keys(e).forEach(function(n){if(/^on/.test(n)){if(!r[n]||e[n]!==r[n]){var a=n.slice(2).toLowerCase();t.removeEventListener(a,e[n])}}else n!=="children"&&!r[n]&&!Bv(t)&&t.removeAttribute(n)}),Ou(t,e,r,function(n){return!Ia(e[n],r[n])})}var PY=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function Ou(t,e,r,n){Object.keys(r).forEach(function(a){if(!n||n(a))if(/^on/.test(a)){var i=a.slice(2).toLowerCase();t.addEventListener(i,r[a])}else a==="nodeValue"?t[a]=r[a]:a==="style"&&NY(r[a])?HY(t,e[a],r[a]):a!=="children"&&(r[a]===!1?t.removeAttribute(a):t.setAttribute(a,r[a]))})}function HY(t,e,r){e&&Object.keys(e).forEach(function(n){t.style[n]=""}),Object.keys(r).forEach(function(n){var a=r[n];t.style[n]=Xe(a)&&!PY.test(n)?a+"px":a})}function ai(t){if(Ne.removalNodes.forEach(function(i){return Fo(i)}),t){for(var e=void 0,r=t.walker();e=r.walk();)if(t=e.vnode,e.entering)Fo(t);else if(Me(t.type)){var n=t.component;if(!t.old&&n.mounted&&n.mounted(),t.old&&n.updated){var a=n.prevProps||{};n.updated(a)}}}}function $o(t){for(var e=t.parent;!e.node;)e=e.parent;return e.node}function Fo(t){if(!(!t||!t.parent)){if(t.node){var e=$o(t);t.effect==="A"?e.appendChild(t.node):t.effect==="U"&&BY(t.node,t.old.props,t.props)}if(t.effect==="D"){for(var r=void 0,n=t.walker();r=n.walk();)if(t=r.vnode,!r.entering)if(Me(t.type)){var a=t.component;a.beforeDestroy&&a.beforeDestroy()}else{var e=$o(t);Su(t,e)}}t.ref&&(t.component?t.ref(t.component):t.node&&t.ref(t.node))}}function _Y(t,e){var r=e.props,n=e.component;return n?(n.prevProps=n.props,n.props=e.props,n):new t(r)}function Du(t){for(var e=t;t&&!t.skip;){if(Me(t.type)){var r=_Y(t.type,t);r.vnode=t,t.component=r,t.props.children=t.children=[r.render()],Uo(t)}else t.node||(t.node=RY(t)),Uo(t);if(t.firstChild)t=t.firstChild;else{for(;t&&t.parent&&!t.next&&(t=t.parent,t!==e););t=t.next}}}function qY(t,e){return t&&e&&e.type===t.type&&(!e.key||e.key===t.key)}function Uo(t){var e=t.children,r=t.old?t.old.firstChild:null,n=null;e.forEach(function(i,o){var s=qY(r,i);s&&(i.old=r,i.parent=t,i.node=r.node,i.component=r.component,i.effect="U"),i&&!s&&(i.old=null,i.parent=t,i.node=null,i.effect="A"),r&&!s&&(Ne.removalNodes.push(r),r.effect="D"),r&&(r=r.next),o===0?t.firstChild=i:i&&(n.next=i),n=i});var a=ge(e);if(!e.length)for(;r;)Ne.removalNodes.push(r),r.effect="D",r=r.next;for(;r&&a;)r&&a.old!==r&&(Ne.removalNodes.push(r),r.effect="D",r=r.next)}function $Y(t){t.effect="D",Ne.removalNodes=[t],ai(),Ne.removalNodes=[]}function FY(t){var e=t.vnode;e.effect="U",e.old=e,e.next&&(e.next.skip=!0),Ne.removalNodes=[],Du(e),ai(e),e.next&&(e.next.skip=!1)}function UY(t,e){var r=new Ne(t.tagName.toLowerCase(),{},[e]);return r.node=t,Ne.removalNodes=[],Du(r),ai(r),function(){return $Y(r.firstChild)}}var ye=function(){function t(e){this.props=e,this.state={},this.refs={}}return t.prototype.setState=function(e){var r=b(b({},this.state),e);Ia(this.state,r)||(this.state=r,FY(this))},t}(),VY=function(t){A(e,t);function e(r){var n=t.call(this,r)||this;return n.state={hide:!1},n}return e.prototype.show=function(){this.setState({hide:!1})},e.prototype.hide=function(){this.setState({hide:!0})},e.prototype.render=function(){var r=this.props,n=r.editorType,a=r.eventEmitter;return U(Vo||(Vo=F([`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `])),O("mode-switch"),this.state.hide?"none":"block",n==="markdown"?" active":"",function(){a.emit("needChangeMode","markdown")},H.get("Markdown"),n==="wysiwyg"?" active":"",function(){a.emit("needChangeMode","wysiwyg")},H.get("WYSIWYG"))},e}(ye),Vo;function jY(t,e){var r,n;e=e||0;function a(){n=Array.prototype.slice.call(arguments),window.clearTimeout(r),r=window.setTimeout(function(){t.apply(null,n)},e)}return a}var zY=jY,WY=zY;function GY(t,e){var r,n=!0,a=function(c){t.apply(null,c),r=null},i,o,s;e=e||0,i=WY(a,e);function l(){if(s=Array.prototype.slice.call(arguments),n){a(s),n=!1;return}o=Number(new Date),r=r||o,i(s),o-r>=e&&a(s)}function u(){n=!0,r=null}return l.reset=u,l}var XY=GY,Iu=function(){if(typeof Map<"u")return Map;function t(e,r){var n=-1;return e.some(function(a,i){return a[0]===r?(n=i,!0):!1}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(r){var n=t(this.__entries__,r),a=this.__entries__[n];return a&&a[1]},e.prototype.set=function(r,n){var a=t(this.__entries__,r);~a?this.__entries__[a][1]=n:this.__entries__.push([r,n])},e.prototype.delete=function(r){var n=this.__entries__,a=t(n,r);~a&&n.splice(a,1)},e.prototype.has=function(r){return!!~t(this.__entries__,r)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var a=0,i=this.__entries__;a<i.length;a++){var o=i[a];r.call(n,o[1],o[0])}},e}()}(),ka=typeof window<"u"&&typeof document<"u"&&window.document===document,ln=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),KY=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ln):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),QY=2;function YY(t,e){var r=!1,n=!1,a=0;function i(){r&&(r=!1,t()),n&&s()}function o(){KY(i)}function s(){var l=Date.now();if(r){if(l-a<QY)return;n=!0}else r=!0,n=!1,setTimeout(o,e);a=l}return s}var ZY=20,JY=["top","right","bottom","left","width","height","size","weight"],eZ=typeof MutationObserver<"u",tZ=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=YY(this.refresh.bind(this),ZY)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var r=this.observers_,n=r.indexOf(e);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return e.forEach(function(r){return r.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!ka||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),eZ?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!ka||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var r=e.propertyName,n=r===void 0?"":r,a=JY.some(function(i){return!!~n.indexOf(i)});a&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Nu=function(t,e){for(var r=0,n=Object.keys(e);r<n.length;r++){var a=n[r];Object.defineProperty(t,a,{value:e[a],enumerable:!1,writable:!1,configurable:!0})}return t},jt=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||ln},Ru=kn(0,0,0,0);function un(t){return parseFloat(t)||0}function jo(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce(function(n,a){var i=t["border-"+a+"-width"];return n+un(i)},0)}function rZ(t){for(var e=["top","right","bottom","left"],r={},n=0,a=e;n<a.length;n++){var i=a[n],o=t["padding-"+i];r[i]=un(o)}return r}function nZ(t){var e=t.getBBox();return kn(0,0,e.width,e.height)}function aZ(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return Ru;var n=jt(t).getComputedStyle(t),a=rZ(n),i=a.left+a.right,o=a.top+a.bottom,s=un(n.width),l=un(n.height);if(n.boxSizing==="border-box"&&(Math.round(s+i)!==e&&(s-=jo(n,"left","right")+i),Math.round(l+o)!==r&&(l-=jo(n,"top","bottom")+o)),!oZ(t)){var u=Math.round(s+i)-e,c=Math.round(l+o)-r;Math.abs(u)!==1&&(s-=u),Math.abs(c)!==1&&(l-=c)}return kn(a.left,a.top,s,l)}var iZ=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof jt(t).SVGGraphicsElement}:function(t){return t instanceof jt(t).SVGElement&&typeof t.getBBox=="function"}}();function oZ(t){return t===jt(t).document.documentElement}function sZ(t){return ka?iZ(t)?nZ(t):aZ(t):Ru}function lZ(t){var e=t.x,r=t.y,n=t.width,a=t.height,i=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(i.prototype);return Nu(o,{x:e,y:r,width:n,height:a,top:r,right:e+n,bottom:a+r,left:e}),o}function kn(t,e,r,n){return{x:t,y:e,width:r,height:n}}var uZ=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=kn(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=sZ(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),cZ=function(){function t(e,r){var n=lZ(r);Nu(this,{target:e,contentRect:n})}return t}(),vZ=function(){function t(e,r,n){if(this.activeObservations_=[],this.observations_=new Iu,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=r,this.callbackCtx_=n}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof jt(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)||(r.set(e,new uZ(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof jt(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)&&(r.delete(e),r.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&e.activeObservations_.push(r)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new cZ(n.target,n.broadcastRect())});this.callback_.call(e,r,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),Bu=typeof WeakMap<"u"?new WeakMap:new Iu,Pu=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=tZ.getInstance(),n=new vZ(e,r,this);Bu.set(this,n)}return t}();["observe","unobserve","disconnect"].forEach(function(t){Pu.prototype[t]=function(){var e;return(e=Bu.get(this))[t].apply(e,arguments)}});var fZ=function(){return typeof ln.ResizeObserver<"u"?ln.ResizeObserver:Pu}(),dZ=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.execCommand=function(r){var n=Fe(r.target,"li");this.props.execCommand("heading",{level:Number(n.getAttribute("data-level"))})},e.prototype.render=function(){var r=this;return U(Wo||(Wo=F([`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `],[`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `])),function(n){return r.execCommand(n)},H.get("Headings"),[1,2,3,4,5,6].map(function(n){return U(zo||(zo=F([`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `],[`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `])),n,"h"+n,H.get("Heading"),n)}),H.get("Paragraph"))},e}(ye),zo,Wo,Hu=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.toggleTab=function(r,n){this.props.onClick(r,n)},e.prototype.render=function(){var r=this;return U(Xo||(Xo=F([`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `],[`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `])),O("tabs"),this.props.tabs.map(function(n){var a=n.name,i=n.text,o=r.props.activeTab===a;return U(Go||(Go=F([`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `],[`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `])),o?" active":"",function(s){return r.toggleTab(s,a)},H.get(i),o?"true":"false",o?"0":"-1",H.get(i))}))},e}(ye),Go,Xo,pZ="ui",hZ=function(t){A(e,t);function e(r){var n=t.call(this,r)||this;return n.initialize=function(a){a===void 0&&(a="file");var i=n.refs.url;i.value="",n.refs.altText.value="",n.refs.file.value="",De(i,"wrong"),n.setState({activeTab:a,file:null,fileNameElClassName:""})},n.execCommand=function(){n.state.activeTab==="file"?n.emitAddImageBlob():n.emitAddImage()},n.toggleTab=function(a,i){i!==n.state.activeTab&&n.initialize(i)},n.showFileSelectBox=function(){n.refs.file.click()},n.changeFile=function(a){var i=a.target.files;i!=null&&i.length&&n.setState({file:i[0]})},n.state={activeTab:"file",file:null,fileNameElClassName:""},n.tabs=[{name:"file",text:"File"},{name:"url",text:"URL"}],n}return e.prototype.emitAddImageBlob=function(){var r=this,n=this.refs.file.files,a=this.refs.altText,i=" wrong";if(n!=null&&n.length){i="";var o=n.item(0),s=function(l,u){return r.props.execCommand("addImage",{imageUrl:l,altText:u||a.value})};this.props.eventEmitter.emit("addImageBlobHook",o,s,pZ)}this.setState({fileNameElClassName:i})},e.prototype.emitAddImage=function(){var r=this.refs.url,n=this.refs.altText,a=r.value,i=n.value||"image";if(De(r,"wrong"),!a.length){$e(r,"wrong");return}a&&this.props.execCommand("addImage",{imageUrl:a,altText:i})},e.prototype.preventSelectStart=function(r){r.preventDefault()},e.prototype.updated=function(){this.props.show||this.initialize()},e.prototype.render=function(){var r=this,n=this.state,a=n.activeTab,i=n.file,o=n.fileNameElClassName;return U(Ko||(Ko=F([`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),H.get("Insert image"),Hu,this.tabs,a,this.toggleTab,a==="url"?"block":"none",H.get("Image URL"),function(s){return r.refs.url=s},a==="file"?"block":"none",H.get("Select image file"),O("file-name"),i?" has-file":o,this.showFileSelectBox,this.preventSelectStart,i?i.name:H.get("No file"),O("file-select-button"),this.showFileSelectBox,H.get("Choose a file"),this.changeFile,function(s){return r.refs.file=s},H.get("Description"),function(s){return r.refs.altText=s},O("button-container"),O("close-button"),this.props.hidePopup,H.get("Cancel"),O("ok-button"),this.execCommand,H.get("OK"))},e}(ye),Ko,mZ=function(t){A(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.execCommand=function(){var n=r.refs.url,a=r.refs.text;if(De(n,"wrong"),De(a,"wrong"),n.value.length<1){$e(n,"wrong");return}var i=Be(r.props.initialValues.linkUrl);if(i&&a.value.length<1){$e(a,"wrong");return}r.props.execCommand("addLink",{linkUrl:n.value,linkText:a.value})},r}return e.prototype.initialize=function(){var r=this.props.initialValues,n=r.linkUrl,a=r.linkText,i=this.refs.url,o=this.refs.text;De(i,"wrong"),De(o,"wrong","disabled"),o.removeAttribute("disabled"),n&&($e(o,"disabled"),o.setAttribute("disabled","disabled")),i.value=n||"",o.value=a||""},e.prototype.mounted=function(){this.initialize()},e.prototype.updated=function(r){!r.show&&this.props.show&&this.initialize()},e.prototype.render=function(){var r=this;return U(Qo||(Qo=F([`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),H.get("Insert link"),H.get("URL"),function(n){return r.refs.url=n},H.get("Link text"),function(n){return r.refs.text=n},O("button-container"),O("close-button"),this.props.hidePopup,H.get("Cancel"),O("ok-button"),this.execCommand,H.get("OK"))},e}(ye),Qo,Yo=20,Zo=20,Jo=5,es=14,ts=5,rs=9,gZ=1,yZ=1,ns=1,bZ=function(t){A(e,t);function e(r){var n=t.call(this,r)||this;return n.extendSelectionRange=function(a){var i=a.pageX,o=a.pageY,s=i-n.offsetRect.left,l=o-n.offsetRect.top,u=n.getSelectionRangeByOffset(s,l);n.setState(b({},u))},n.execCommand=function(){n.props.execCommand("addTable",{rowCount:n.state.rowIdx+1,columnCount:n.state.colIdx+1})},n.state={rowIdx:-1,colIdx:-1},n}return e.prototype.getDescription=function(){return this.state.colIdx===-1?"":this.state.colIdx+1+" x "+(this.state.rowIdx+1)},e.prototype.getBoundByRange=function(r,n){return{width:(r+1)*Yo,height:(n+1)*Zo}},e.prototype.getRangeByOffset=function(r,n){return{colIdx:Math.floor(r/Yo),rowIdx:Math.floor(n/Zo)}},e.prototype.getTableRange=function(){var r=this.state,n=r.colIdx,a=r.rowIdx,i=Math.max(n,ts),o=Math.max(a,Jo);return n>=ts&&i<rs&&(i+=1),a>=Jo&&o<es&&(o+=1),{colIdx:i+1,rowIdx:o+1}},e.prototype.getSelectionAreaBound=function(){var r=this.getBoundByRange(this.state.colIdx,this.state.rowIdx),n=r.width,a=r.height;return!n&&!a?{display:"none"}:{width:n-ns,height:a-ns,display:"block"}},e.prototype.getSelectionRangeByOffset=function(r,n){var a=this.getRangeByOffset(r,n);return a.rowIdx=Math.min(Math.max(a.rowIdx,gZ),es),a.colIdx=Math.min(Math.max(a.colIdx,yZ),rs),a},e.prototype.updated=function(){if(!this.props.show)this.setState({colIdx:-1,rowIdx:-1});else if(this.state.colIdx===-1&&this.state.rowIdx===-1){var r=this.refs.tableEl.getBoundingClientRect(),n=r.left,a=r.top;this.offsetRect={left:window.pageXOffset+n,top:window.pageYOffset+a}}},e.prototype.createTableArea=function(r){for(var n=r.colIdx,a=r.rowIdx,i=[],o=0;o<a;o+=1){for(var s=[],l=0;l<n;l+=1){var u=""+O("table-cell")+(o>0?"":" header");s.push(U(as||(as=F(['<div class="','"></div>'],['<div class="','"></div>'])),u))}i.push(U(is||(is=F(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),O("table-row"),s))}return U(os||(os=F(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),O("table"),i)},e.prototype.render=function(){var r=this,n=this.getTableRange(),a=this.getSelectionAreaBound();return U(ss||(ss=F([`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `],[`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `])),H.get("Insert table"),O("table-selection"),function(i){return r.refs.tableEl=i},this.extendSelectionRange,this.execCommand,this.createTableArea(n),O("table-selection-layer"),a,O("table-description"),this.getDescription())},e}(ye),as,is,os,ss,wZ=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.mounted=function(){this.refs.el.appendChild(this.props.body)},e.prototype.updated=function(r){this.refs.el.replaceChild(this.props.body,r.body)},e.prototype.render=function(){var r=this;return U(ls||(ls=F(["<div ref=","></div>"],["<div ref=","></div>"])),function(n){return r.refs.el=n})},e}(ye),ls;function Ea(t){return Je(t)?TZ(t):t}function CZ(){var t=document.createElement("label"),e=document.createElement("input"),r=document.createElement("span");t.className="scroll-sync active",e.type="checkbox",e.checked=!0,r.className="switch";var n=function(a){return e.addEventListener("change",function(i){var o=i.target.checked;o?$e(t,"active"):De(t,"active"),a("toggleScrollSync",{active:o})})};return t.appendChild(e),t.appendChild(r),{name:"scrollSync",el:t,onMounted:n}}function TZ(t){var e;switch(t){case"heading":e={name:"heading",className:"heading",tooltip:H.get("Headings"),state:"heading"};break;case"bold":e={name:"bold",className:"bold",command:"bold",tooltip:H.get("Bold"),state:"strong"};break;case"italic":e={name:"italic",className:"italic",command:"italic",tooltip:H.get("Italic"),state:"emph"};break;case"strike":e={name:"strike",className:"strike",command:"strike",tooltip:H.get("Strike"),state:"strike"};break;case"hr":e={name:"hr",className:"hrline",command:"hr",tooltip:H.get("Line"),state:"thematicBreak"};break;case"quote":e={name:"quote",className:"quote",command:"blockQuote",tooltip:H.get("Blockquote"),state:"blockQuote"};break;case"ul":e={name:"ul",className:"bullet-list",command:"bulletList",tooltip:H.get("Unordered list"),state:"bulletList"};break;case"ol":e={name:"ol",className:"ordered-list",command:"orderedList",tooltip:H.get("Ordered list"),state:"orderedList"};break;case"task":e={name:"task",className:"task-list",command:"taskList",tooltip:H.get("Task"),state:"taskList"};break;case"table":e={name:"table",className:"table",tooltip:H.get("Insert table"),state:"table"};break;case"image":e={name:"image",className:"image",tooltip:H.get("Insert image")};break;case"link":e={name:"link",className:"link",tooltip:H.get("Insert link")};break;case"code":e={name:"code",className:"code",command:"code",tooltip:H.get("Code"),state:"code"};break;case"codeblock":e={name:"codeblock",className:"codeblock",command:"codeBlock",tooltip:H.get("Insert CodeBlock"),state:"codeBlock"};break;case"indent":e={name:"indent",className:"indent",command:"indent",tooltip:H.get("Indent"),state:"indent"};break;case"outdent":e={name:"outdent",className:"outdent",command:"outdent",tooltip:H.get("Outdent"),state:"outdent"};break;case"scrollSync":e=CZ();break;case"more":e={name:"more",className:"more",tooltip:H.get("More")};break}return e.name!=="scrollSync"&&(e.className+=" "+O("toolbar-icons")),e}function ii(t,e){var r=e.el,n=e.pos,a=e.popup,i=e.initialValues;switch(t){case"heading":return{render:function(o){return U(us||(us=F(["<"," ..."," />"],["<"," ..."," />"])),dZ,o)},className:O("popup-add-heading"),fromEl:r,pos:n};case"link":return{render:function(o){return U(cs||(cs=F(["<"," ..."," />"],["<"," ..."," />"])),mZ,o)},className:O("popup-add-link"),fromEl:r,pos:n,initialValues:i};case"image":return{render:function(o){return U(vs||(vs=F(["<"," ..."," />"],["<"," ..."," />"])),hZ,o)},className:O("popup-add-image"),fromEl:r,pos:n};case"table":return{render:function(o){return U(fs||(fs=F(["<"," ..."," />"],["<"," ..."," />"])),bZ,o)},className:O("popup-add-table"),fromEl:r,pos:n};case"customPopupBody":return a?b({render:function(o){return U(ds||(ds=F(["<"," ..."," body="," />"],["<"," ..."," body="," />"])),wZ,o,a.body)},fromEl:r,pos:n},a):null;default:return null}}function cn(t){t.hidden=t.length===t.filter(function(e){return e.hidden}).length}function kZ(t,e){var r=function(n){return n.hidden=n.name==="scrollSync"&&e,n};return t.reduce(function(n,a){n.push(a.map(function(o){return r(Ea(o))}));var i=n[(n.length||1)-1];return i&&cn(i),n},[])}function EZ(t,e){t.forEach(function(r){r.forEach(function(n){return n.hidden=n.name==="scrollSync"&&e}),cn(r)})}var us,cs,vs,fs,ds,LZ=20,xZ=function(t){A(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.handleMousedown=function(n){!Fe(n.target,"."+O("popup"))&&!Fe(n.target,r.props.info.fromEl)&&r.props.hidePopup()},r}return e.prototype.mounted=function(){document.addEventListener("mousedown",this.handleMousedown),this.props.eventEmitter.listen("closePopup",this.props.hidePopup)},e.prototype.beforeDestroy=function(){document.removeEventListener("mousedown",this.handleMousedown)},e.prototype.updated=function(r){var n=this.props,a=n.show,i=n.info;if(a&&i.pos&&r.show!==a){var o=b({},i.pos),s=this.refs.el.offsetWidth,l=Fe(this.refs.el,"."+O("toolbar")),u=l.offsetWidth;o.left+s>=u&&(o.left=u-s-LZ),Ia(this.state.popupPos,o)||this.setState({popupPos:o})}},e.prototype.render=function(){var r=this,n=this.props,a=n.info,i=n.show,o=n.hidePopup,s=n.eventEmitter,l=n.execCommand,u=a||{},c=u.className,v=c===void 0?"":c,f=u.style,d=u.render,p=u.initialValues,h=p===void 0?{}:p,m=b(b({display:i?"block":"none"},f),this.state.popupPos);return U(ps||(ps=F([`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `],[`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `])),O("popup"),v,m,function(y){return r.refs.el=y},O("popup-body"),d&&d({eventEmitter:s,show:i,hidePopup:o,execCommand:l,initialValues:h}))},e}(ye),ps,hs=6;function oi(t){return function(e){A(r,e);function r(n){var a=e.call(this,n)||this;return a.showTooltip=function(i){var o=a.props.item.tooltip;if(!a.props.disabled&&o){var s=a.getBound(i),l=s.left+hs+"px",u=s.top+hs+"px";Ue(a.props.tooltipRef.current,{display:"block",left:l,top:u}),a.props.tooltipRef.current.querySelector(".text").textContent=o}},a.hideTooltip=function(){Ue(a.props.tooltipRef.current,"display","none")},a.state={active:!1,disabled:n.disabled},a.addEvent(),a}return r.prototype.addEvent=function(){var n=this,a=this.props,i=a.item,o=a.eventEmitter;i.state&&o.listen("changeToolbarState",function(s){var l,u=s.toolbarState,c=(l=u[i.state])!==null&&l!==void 0?l:{},v=c.active,f=c.disabled;n.setState({active:!!v,disabled:f??n.props.disabled})})},r.prototype.getBound=function(n){var a=nl(n,Fe(n,"."+O("toolbar"))),i=a.offsetLeft,o=a.offsetTop;return{left:i,top:n.offsetHeight+o}},r.prototype.render=function(){return U(ms||(ms=F([`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `],[`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `])),t,this.props,this.state.active,this.showTooltip,this.hideTooltip,this.getBound,this.state.disabled||this.props.disabled)},r}(ye)}var ms,MZ=80,AZ=function(t){A(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.showTooltip=function(){r.props.showTooltip(r.refs.el)},r.execCommand=function(){var n=r.props,a=n.item,i=n.execCommand,o=n.setPopupInfo,s=n.getBound,l=n.eventEmitter,u=a.command,c=a.name,v=a.popup;if(u)i(u);else{var f=v?"customPopupBody":c,d=l.emit("query","getPopupInitialValues",{popupName:f})[0],p=ii(f,{el:r.refs.el,pos:s(r.refs.el),popup:v,initialValues:d});p&&o(p)}},r}return e.prototype.mounted=function(){this.setItemWidth()},e.prototype.updated=function(r){r.item.name!==this.props.item.name&&this.setItemWidth()},e.prototype.setItemWidth=function(){var r=this.props,n=r.setItemWidth,a=r.item;n&&n(a.name,Fa(this.refs.el)+(a.hidden?MZ:0))},e.prototype.render=function(){var r=this,n=this.props,a=n.hideTooltip,i=n.disabled,o=n.item,s=n.active,l=b({display:o.hidden?"none":null},o.style),u=""+(o.className||"")+(s?" active":"");return U(gs||(gs=F([`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `],[`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `])),function(c){return r.refs.el=c},l,u,this.execCommand,this.showTooltip,a,!!i,o.text||o.tooltip||"",o.text||"")},e}(ye),SZ=oi(AZ),gs,OZ=function(t){A(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.showTooltip=function(){r.props.showTooltip(r.refs.el)},r.showPopup=function(){var n=ii("customPopupBody",{el:r.refs.el,pos:r.props.getBound(r.refs.el),popup:r.props.item.popup});n&&r.props.setPopupInfo(n)},r}return e.prototype.mounted=function(){var r=this.props,n=r.setItemWidth,a=r.item;this.refs.el.appendChild(a.el),n&&n(a.name,Fa(this.refs.el)),a.onMounted&&a.onMounted(this.props.execCommand)},e.prototype.updated=function(r){var n,a=this.props,i=a.item,o=a.active,s=a.disabled;(r.active!==o||r.disabled!==s)&&((n=i.onUpdated)===null||n===void 0||n.call(i,{active:o,disabled:s}))},e.prototype.render=function(){var r=this,n=this.props,a=n.disabled,i=n.item,o={display:i.hidden?"none":"inline-block"},s=function(l){return a?null:l};return U(ys||(ys=F([`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `],[`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `])),function(l){return r.refs.el=l},o,O("toolbar-item-wrapper"),s(this.showPopup),s(this.showTooltip),s(this.props.hideTooltip))},e}(ye),DZ=oi(OZ),ys,_u=function(t){A(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var r=this,n=this.props,a=n.group,i=n.hiddenDivider,o=a.hidden?{display:"none"}:null,s=i?{display:"none"}:null;return U(ws||(ws=F([`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `])),O("toolbar-group"),o,a.map(function(l){var u=l.el?DZ:SZ;return U(bs||(bs=F(["<"," key="," ..."," item="," />"],["<"," key="," ..."," item="," />"])),u,l.name,r.props,l)}),O("toolbar-divider"),s)},e}(ye),bs,ws,IZ=4,NZ=function(t){A(e,t);function e(r){var n=t.call(this,r)||this;return n.handleClickDocument=function(a){var i=a.target;!Fe(i,"."+O("dropdown-toolbar"))&&!Fe(i,".more")&&n.setState({showDropdown:!1,dropdownPos:null})},n.showTooltip=function(){n.props.showTooltip(n.refs.el)},n.state={showDropdown:!1,dropdownPos:null},n}return e.prototype.getBound=function(){var r=this.props.getBound(this.refs.el);return r.top+=IZ,b(b({},r),{left:null,right:10})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.updated=function(){this.state.showDropdown&&!this.state.dropdownPos&&this.setState({dropdownPos:this.getBound()})},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.render=function(){var r=this,n=this.state,a=n.showDropdown,i=n.dropdownPos,o=this.props,s=o.disabled,l=o.item,u=o.items,c=o.hideTooltip,v=u.filter(function(p){return!p.hidden}),f=v.length?null:{display:"none"},d=a?null:{display:"none"};return U(Ts||(Ts=F([`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `])),O("toolbar-group"),f,function(p){return r.refs.el=p},l.className,function(){return r.setState({showDropdown:!0})},this.showTooltip,c,s,O("dropdown-toolbar"),b(b({},d),i),function(p){return r.refs.dropdownEl=p},v.length?v.map(function(p,h){var m;return U(Cs||(Cs=F([`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `],[`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `])),_u,p,h===v.length-1||((m=v[h+1])===null||m===void 0?void 0:m.hidden),r.props)}):null)},e}(ye),RZ=oi(NZ),Cs,Ts,BZ=50,PZ=function(t){A(e,t);function e(r){var n=t.call(this,r)||this;return n.toggleTab=function(a,i){var o=n.props.eventEmitter;if(n.state.activeTab!==i){var s=i==="write"?"changePreviewTabWrite":"changePreviewTabPreview";o.emit(s),n.setState({activeTab:i})}},n.setItemWidth=function(a,i){n.itemWidthMap[a]=i},n.setPopupInfo=function(a){n.setState({showPopup:!0,popupInfo:a})},n.openPopup=function(a,i){i===void 0&&(i={});var o=n.refs.el.querySelector("."+O("toolbar-group")+" ."+a);if(o){var s=nl(o,Fe(o,"."+O("toolbar"))),l=s.offsetLeft,u=s.offsetTop,c=ii(a,{el:o,pos:{left:l,top:o.offsetHeight+u},initialValues:i});c&&n.setPopupInfo(c)}},n.hidePopup=function(){n.state.showPopup&&n.setState({showPopup:!1})},n.execCommand=function(a,i){var o=n.props.eventEmitter;o.emit("command",a,i),n.hidePopup()},n.tabs=[{name:"write",text:"Write"},{name:"preview",text:"Preview"}],n.itemWidthMap={},n.initialItems=kZ(r.toolbarItems||[],n.hiddenScrollSync()),n.state={items:n.initialItems,dropdownItems:[],showPopup:!1,popupInfo:{},activeTab:"write"},n.tooltipRef={current:null},n.resizeObserver=new fZ(function(){return n.handleResize()}),n.addEvent(),n}return e.prototype.insertToolbarItem=function(r,n){var a=r.groupIndex,i=r.itemIndex,o=this.initialItems[a];n=Ea(n),o?o.splice(i,0,n):this.initialItems.push([n]),this.setState(this.classifyToolbarItems())},e.prototype.removeToolbarItem=function(r){var n=this;Pt(this.initialItems,function(a){var i=!1;return Pt(a,function(o,s){return o.name===r?(i=!0,a.splice(s,1),n.setState(n.classifyToolbarItems()),!1):!0}),!i})},e.prototype.addEvent=function(){var r=this,n=this.props.eventEmitter;this.handleResize=XY(function(){r.setState({items:r.initialItems,dropdownItems:[]}),r.setState(r.classifyToolbarItems())},200),n.listen("openPopup",this.openPopup)},e.prototype.appendTooltipToRoot=function(){var r='<div class="'+O("tooltip")+`" style="display:none">
        <div class="arrow"></div>
        <span class="text"></span>
      </div>`;this.tooltipRef.current=rl(r,this.refs.el)},e.prototype.hiddenScrollSync=function(){return this.props.editorType==="wysiwyg"||this.props.previewStyle==="tab"},e.prototype.movePrevItemToDropdownToolbar=function(r,n,a,i){var o=function(l){var u=l.pop();u&&i.push(u)};if(r>1)o(a);else{var s=ge(n);s&&o(s)}},e.prototype.classifyToolbarItems=function(){var r=this,n=0,a=this.refs.el.clientWidth,i=this.refs.el.querySelector("."+O("toolbar-divider")),o=i?Fa(i):0,s=[],l=[],u=!1;return this.initialItems.forEach(function(c,v){var f=[],d=[];c.forEach(function(p,h){p.hidden||(n+=r.itemWidthMap[p.name],n>a-BZ?(u||(r.movePrevItemToDropdownToolbar(h,s,f,d),u=!0),d.push(p)):f.push(p))}),f.length&&(cn(f),s.push(f)),d.length&&(cn(d),l.push(d)),v<r.state.items.length-1&&(n+=o)}),{items:s,dropdownItems:l}},e.prototype.mounted=function(){this.props.previewStyle==="tab"&&this.props.eventEmitter.emit("changePreviewTabWrite",!0),this.setState(this.classifyToolbarItems()),this.appendTooltipToRoot(),this.resizeObserver.observe(this.refs.el)},e.prototype.updated=function(r){var n=this.props,a=n.editorType,i=n.previewStyle,o=n.eventEmitter,s=i!==r.previewStyle,l=a!==r.editorType;if(s||l){EZ(this.initialItems,this.hiddenScrollSync());var u=this.classifyToolbarItems();(s||i==="tab"&&a==="markdown")&&(o.emit("changePreviewTabWrite"),u.activeTab="write"),this.setState(u)}},e.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.handleResize),this.resizeObserver.disconnect(),yt(this.tooltipRef.current)},e.prototype.render=function(){var r=this,n=this.props,a=n.previewStyle,i=n.eventEmitter,o=n.editorType,s=this.state,l=s.popupInfo,u=s.showPopup,c=s.activeTab,v=s.items,f=s.dropdownItems,d={eventEmitter:i,tooltipRef:this.tooltipRef,disabled:o==="markdown"&&a==="tab"&&c==="preview",execCommand:this.execCommand,setPopupInfo:this.setPopupInfo},p=a==="tab"?{borderTopLeftRadius:0}:null;return U(Es||(Es=F([`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `],[`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `])),O("toolbar"),O("md-tab-container"),o==="wysiwyg"||a==="vertical"?"none":"block",Hu,this.tabs,c,this.toggleTab,O("defaultUI-toolbar"),function(h){return r.refs.el=h},p,v.map(function(h,m){var y;return U(ks||(ks=F([`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `],[`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `])),_u,h,m===v.length-1||((y=v[m+1])===null||y===void 0?void 0:y.hidden),r.setItemWidth,d)}),RZ,Ea("more"),f,d,xZ,l,u,i,this.hidePopup,this.execCommand)},e}(ye),ks,Es,HZ=function(t){A(e,t);function e(r){var n=t.call(this,r)||this;return n.handleClickDocument=function(a){Fe(a.target,"."+O("context-menu"))||n.setState({pos:null})},n.state={pos:null,menuGroups:[]},n.addEvent(),n}return e.prototype.addEvent=function(){var r=this;this.props.eventEmitter.listen("contextmenu",function(n){var a=n.pos,i=n.menuGroups;r.setState({pos:a,menuGroups:i})})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.getMenuGroupElements=function(){var r=this,n=this.state,a=n.pos,i=n.menuGroups;return a?i.reduce(function(o,s){var l=[];return s.forEach(function(u){var c=u.label,v=u.className,f=v===void 0?!1:v,d=u.disabled,p=u.onClick,h=function(){d||(p(),r.setState({pos:null}))};l.push(U(Ls||(Ls=F([`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `],[`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `])),h,d?" disabled":"",f,c))}),o.push(U(xs||(xs=F([`<ul class="menu-group">
              `,`
            </ul>`],[`<ul class="menu-group">
              `,`
            </ul>`])),l)),o},[]):[]},e.prototype.render=function(){var r=b({display:this.state.pos?"block":"none"},this.state.pos);return U(Ms||(Ms=F(['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`],['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`])),O("context-menu"),r,this.getMenuGroupElements())},e}(ye),Ls,xs,Ms,_Z=function(t){A(e,t);function e(r){var n=t.call(this,r)||this;n.changeMode=function(o){o!==n.state.editorType&&n.setState({editorType:o})},n.changePreviewStyle=function(o){o!==n.state.previewStyle&&n.setState({previewStyle:o})},n.hide=function(){n.setState({hide:!0})},n.show=function(){n.setState({hide:!1})};var a=r.editorType,i=r.previewStyle;return n.state={editorType:a,previewStyle:i,hide:!1},n.addEvent(),n}return e.prototype.mounted=function(){var r=this.props.slots,n=r.wwEditor,a=r.mdEditor,i=r.mdPreview;this.refs.wwContainer.appendChild(n),this.refs.mdContainer.insertAdjacentElement("afterbegin",a),this.refs.mdContainer.appendChild(i)},e.prototype.insertToolbarItem=function(r,n){this.toolbar.insertToolbarItem(r,n)},e.prototype.removeToolbarItem=function(r){this.toolbar.removeToolbarItem(r)},e.prototype.render=function(){var r=this,n=this.props,a=n.eventEmitter,i=n.hideModeSwitch,o=n.toolbarItems,s=n.theme,l=this.state,u=l.hide,c=l.previewStyle,v=l.editorType,f=u?" hidden":"",d=O(v==="markdown"?"md-mode":"ww-mode"),p=O("md")+"-"+c+"-style",h=O([s!=="light",s+" "]);return U(Ss||(Ss=F([`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `],[`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `])),h,O("defaultUI"),f,function(m){return r.refs.el=m},PZ,function(m){return r.toolbar=m},a,c,o,v,O("main"),d,function(m){return r.refs.editorSection=m},O("main-container"),O("md-container"),p,function(m){return r.refs.mdContainer=m},O("md-splitter"),O("ww-container"),function(m){return r.refs.wwContainer=m},!i&&U(As||(As=F(["<"," eventEmitter="," editorType="," />"],["<"," eventEmitter="," editorType="," />"])),VY,a,v),HZ,a)},e.prototype.addEvent=function(){var r=this.props.eventEmitter;r.listen("hide",this.hide),r.listen("show",this.show),r.listen("changeMode",this.changeMode),r.listen("changePreviewStyle",this.changePreviewStyle)},e}(ye),As,Ss,QZ=function(t){A(e,t);function e(r){var n,a=t.call(this,r)||this,i,o=UY(a.options.el,U(Os||(Os=F([`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `],[`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `])),_Z,function(s){return i=s},a.eventEmitter,a.getEditorElements(),a.options.hideModeSwitch,a.options.toolbarItems,a.options.previewStyle,a.options.initialEditType,a.options.theme));return a.setMinHeight(a.options.minHeight),a.setHeight(a.options.height),a.defaultUI={insertToolbarItem:i.insertToolbarItem.bind(i),removeToolbarItem:i.removeToolbarItem.bind(i),destroy:o},(n=a.pluginInfo.toolbarItems)===null||n===void 0||n.forEach(function(s){var l=s.groupIndex,u=s.itemIndex,c=s.item;a.defaultUI.insertToolbarItem({groupIndex:l,itemIndex:u},c)}),a.eventEmitter.emit("loadUI",a),a}return e.factory=function(r){return r.viewer?new xu(r):new e(r)},e.prototype.insertToolbarItem=function(r,n){this.defaultUI.insertToolbarItem(r,n)},e.prototype.removeToolbarItem=function(r){this.defaultUI.removeToolbarItem(r)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.defaultUI.destroy()},e}(Au),Os;Au.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"});var qu={exports:{}};/*!
 * TOAST UI Editor : Code Syntax Highlight Plugin
 * @version 3.1.0 | Fri Aug 05 2022
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 */(function(){var t={928:function(a,i,o){var s=o(322);function l(u,c,v){var f,d;if(v=v||0,!s(c))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(c,u,v);for(d=c.length,f=v;v>=0&&f<d;f+=1)if(c[f]===u)return f;return-1}a.exports=l},690:function(a,i,o){var s=o(322),l=o(893),u=o(956);function c(v,f,d){s(v)?l(v,f,d):u(v,f,d)}a.exports=c},893:function(a){function i(o,s,l){var u=0,c=o.length;for(l=l||null;u<c&&s.call(l,o[u],u,o)!==!1;u+=1);}a.exports=i},956:function(a){function i(o,s,l){var u;l=l||null;for(u in o)if(o.hasOwnProperty(u)&&s.call(l,o[u],u,o)===!1)break}a.exports=i},990:function(a,i,o){var s=o(893);function l(u){var c;try{c=Array.prototype.slice.call(u)}catch{c=[],s(u,function(f){c.push(f)})}return c}a.exports=l},24:function(a,i,o){var s=o(322),l=o(929);function u(c,v){if(v=s(v)?v.join(" "):v,v=v.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),l(c.className.baseVal)){c.className=v;return}c.className.baseVal=v}a.exports=u},204:function(a,i,o){var s=o(690),l=o(928),u=o(902),c=o(24);function v(f){var d=Array.prototype.slice.call(arguments,1),p=f.classList,h=[],m;if(p){s(d,function(y){f.classList.add(y)});return}m=u(f),m&&(d=[].concat(m.split(/\s+/),d)),s(d,function(y){l(y,h)<0&&h.push(y)}),c(f,h)}a.exports=v},522:function(a,i,o){var s=o(758),l=o(690);function u(c,v,f){var d=c.style;if(s(v)){d[v]=f;return}l(v,function(p,h){d[h]=p})}a.exports=u},902:function(a,i,o){var s=o(929);function l(u){return!u||!u.className?"":s(u.className.baseVal)?u.className:u.className.baseVal}a.exports=l},714:function(a,i,o){var s=o(928),l=o(902);function u(c,v){var f;return c.classList?c.classList.contains(v):(f=l(c).split(/\s+/),s(v,f)>-1)}a.exports=u},462:function(a,i,o){var s=o(893),l=o(928),u=o(902),c=o(24);function v(f){var d=Array.prototype.slice.call(arguments,1),p=f.classList,h,m;if(p){s(d,function(y){p.remove(y)});return}h=u(f).split(/\s+/),m=[],s(h,function(y){l(y,d)<0&&m.push(y)}),c(f,m)}a.exports=v},322:function(a){function i(o){return o instanceof Array}a.exports=i},294:function(a){function i(o){return o instanceof Function}a.exports=i},758:function(a){function i(o){return typeof o=="string"||o instanceof String}a.exports=i},929:function(a){function i(o){return o===void 0}a.exports=i}},e={};function r(a){var i=e[a];if(i!==void 0)return i.exports;var o=e[a]={exports:{}};return t[a](o,o.exports,r),o.exports}(function(){r.n=function(a){var i=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(i,{a:i}),i}})(),function(){r.d=function(a,i){for(var o in i)r.o(i,o)&&!r.o(a,o)&&Object.defineProperty(a,o,{enumerable:!0,get:i[o]})}}(),function(){r.o=function(a,i){return Object.prototype.hasOwnProperty.call(a,i)}}();var n={};(function(){r.d(n,{default:function(){return tt}});var a=r(294),i=r.n(a),o=3;function s(k){return{codeBlock:function(C){var M=C,B=M.fenceLength,N=M.info,_=N?N.split(/\s+/):[],q=[],Y={};B>o&&(Y["data-backticks"]=B);var oe=C.literal;if(_.length&&_[0].length){var se=_[0];q.push("lang-"+se),Y["data-language"]=se;var Ce=k.languages[se];Ce&&(oe=k.highlight(C.literal,Ce,se))}return[{type:"openTag",tagName:"pre",classNames:q},{type:"openTag",tagName:"code",attributes:Y},{type:"html",content:oe},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]}}}var l=r(758),u=r.n(l);function c(k){return k.reduce(function(C,M){return C.concat(Array.isArray(M)?c(M):M)},[])}var v=function(k,C){for(var M=0,B=C.length,N=k.length;M<B;M++,N++)k[N]=C[M];return k},f="codeBlock";function d(k){var C=[];return k.descendants(function(M,B){M.isBlock&&M.type.name===f&&C.push({node:M,pos:B})}),C}function p(k,C){return C===void 0&&(C=[]),u()(k)?[{text:k,classes:C}]:k.map(function(M){var B=M,N=B.type,_=B.alias,q=[],Y=[];N&&(q=["token",N]),_&&(Y=u()(_)?[_]:_);var oe=v(v(v([],C),q),Y);return u()(M)?{text:M,classes:oe}:p(M.content,oe)})}function h(k,C,M){var B=C.pmView,N=[],_=d(k);return _.forEach(function(q){var Y=q.pos,oe=q.node,se=oe.attrs.language,Ce=M.languages[se],rt=Ce?M.tokenize(oe.textContent,Ce):[],Er=c(p(rt)),er=Y+1;Er.forEach(function(tr){var rr=tr.text,Lr=tr.classes,kt=er,Et=kt+rr.length;er=Et;var Se=Lr.join(" "),Lt=B.Decoration.inline(kt,Et,{class:Se});Se.length&&N.push(Lt)})}),B.DecorationSet.create(k,N)}function m(k,C){return new k.pmState.Plugin({state:{init:function(M,B){var N=B.doc;return h(N,k,C)},apply:function(M,B){return M.docChanged?h(M.doc,k,C):B.map(M.mapping,M.doc)}},props:{decorations:function(M){return this.getState(M)}}})}var y=r(204),w=r.n(y);function T(k){return parseInt(k,10)}function E(k,C,M){var B=T(k.left),N=T(k.top),_=T(k.width)+T(k.paddingLeft)+T(k.paddingRight),q=T(k.height)+T(k.paddingTop)+T(k.paddingBottom);return C>=B&&C<=B+_&&M>=N&&M<=N+q}function L(k){k.parentNode&&k.parentNode.removeChild(k)}var S="toastui-editor-";function I(){for(var k=[],C=0;C<arguments.length;C++)k[C]=arguments[C];return k.map(function(M){return""+S+M}).join(" ")}var P=r(522),V=r.n(P),X=r(462),J=r.n(X),we=r(714),Tt=r.n(we),xe=r(990),Xt=r.n(xe),Kt=r(928),Qt=r.n(Kt),En="code-block-language",Ln="code-block-language-input",wr="code-block-language-list",lt="data-language",te=10;function Cr(k){return k.map(function(C){return'<button type="button" data-language="'+C+'">'+C+"</button>"}).join("")}var ie=function(){function k(C,M,B){var N=this;this.buttons=[],this.prevStoredLanguage="",this.onSelectToggleButton=function(_){var q=_.target,Y=getComputedStyle(q,":after"),oe=_.offsetX,se=_.offsetY;E(Y,oe,se)&&(_.preventDefault(),N.toggleFocus())},this.onSelectLanguageButtons=function(_){var q=_.target,Y=q.getAttribute(lt);Y&&N.selectLanguage(Y)},this.handleKeydown=function(_){var q=_.key;q==="ArrowUp"?(N.selectPrevLanguage(),_.preventDefault()):q==="ArrowDown"?(N.selectNextLanguage(),_.preventDefault()):q==="Enter"||q==="Tab"?(N.storeInputLanguage(),_.preventDefault()):N.hideList()},this.showLangugaeSelectBox=function(_,q){var Y=_.top,oe=_.right;q&&N.setLanguage(q),N.show();var se=N.input.parentElement.getBoundingClientRect().width;V()(N.wrapper,{top:Y+te+"px",left:oe-se-te+"px"}),N.toggleFocus()},this.rootEl=C,this.eventEmitter=M,this.languages=B,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return k.prototype.createElement=function(){this.wrapper=document.createElement("div"),w()(this.wrapper,I(En)),this.createInputElement(),this.createLanguageListElement(),this.rootEl.appendChild(this.wrapper),this.hide()},k.prototype.createInputElement=function(){var C=document.createElement("span");w()(C,I(Ln));var M=document.createElement("input");M.type="text",M.setAttribute("maxlength","20"),this.input=M,C.appendChild(this.input),this.wrapper.appendChild(C)},k.prototype.createLanguageListElement=function(){this.list=document.createElement("div"),w()(this.list,I(wr));var C=document.createElement("div");w()(C,"buttons"),C.innerHTML=Cr(this.languages),this.buttons=Xt()(C.children),this.list.appendChild(C),this.wrapper.appendChild(this.list),this.activateButtonByIndex(0),this.hideList()},k.prototype.bindDOMEvent=function(){var C=this;this.wrapper.addEventListener("mousedown",this.onSelectToggleButton),this.input.addEventListener("keydown",this.handleKeydown),this.input.addEventListener("focus",function(){return C.activateSelectBox()}),this.input.addEventListener("blur",function(){return C.inactivateSelectBox()}),this.list.addEventListener("mousedown",this.onSelectLanguageButtons)},k.prototype.bindEvent=function(){this.eventEmitter.listen("showCodeBlockLanguages",this.showLangugaeSelectBox)},k.prototype.activateSelectBox=function(){w()(this.wrapper,"active"),V()(this.list,{display:"block"})},k.prototype.inactivateSelectBox=function(){this.input.value=this.prevStoredLanguage,J()(this.wrapper,"active"),this.hideList()},k.prototype.toggleFocus=function(){Tt()(this.wrapper,"active")?this.input.blur():this.input.focus()},k.prototype.storeInputLanguage=function(){var C=this.input.value;this.setLanguage(C),this.hideList(),this.eventEmitter.emit("selectLanguage",C)},k.prototype.activateButtonByIndex=function(C){this.currentButton&&J()(this.currentButton,"active"),this.buttons.length&&(this.currentButton=this.buttons[C],this.input.value=this.currentButton.getAttribute(lt),w()(this.currentButton,"active"),this.currentButton.scrollIntoView())},k.prototype.selectLanguage=function(C){this.input.value=C,this.storeInputLanguage()},k.prototype.selectPrevLanguage=function(){var C=Qt()(this.currentButton,this.buttons)-1;C<0&&(C=this.buttons.length-1),this.activateButtonByIndex(C)},k.prototype.selectNextLanguage=function(){var C=Qt()(this.currentButton,this.buttons)+1;C>=this.buttons.length&&(C=0),this.activateButtonByIndex(C)},k.prototype.hideList=function(){V()(this.list,{display:"none"})},k.prototype.show=function(){V()(this.wrapper,{display:"inline-block"})},k.prototype.hide=function(){V()(this.wrapper,{display:"none"})},k.prototype.setLanguage=function(C){this.prevStoredLanguage=C,this.input.value=C;var M=this.buttons.filter(function(N){return N.getAttribute(lt)===C});if(M.length){var B=Qt()(M[0],this.buttons);this.activateButtonByIndex(B)}},k.prototype.destroy=function(){L(this.wrapper),this.eventEmitter.removeEventHandler("showCodeBlockLanguages",this.showLangugaeSelectBox)},k}(),ut=function(){return ut=Object.assign||function(k){for(var C,M=1,B=arguments.length;M<B;M++){C=arguments[M];for(var N in C)Object.prototype.hasOwnProperty.call(C,N)&&(k[N]=C[N])}return k},ut.apply(this,arguments)},Yt="ww-code-block-highlighting";function Zt(k){var C=k.htmlAttrs,M=k.classNames;return ut(ut({},C),{class:M?M.join(" "):null})}var Tr=function(){function k(C,M,B,N,_){var q=this;this.node=C,this.view=M,this.getPos=B,this.eventEmitter=N,this.languages=_,this.contentDOM=null,this.languageSelectBox=null,this.onSelectLanguage=function(Y){q.languageEditing&&q.changeLanguage(Y)},this.onClickEditingButton=function(Y){var oe=Y.target,se=getComputedStyle(oe,":after");if(se.backgroundImage!=="none"&&i()(q.getPos)){var Ce=q.view.coordsAtPos(q.getPos());q.openLanguageSelectBox(Ce)}},this.finishLanguageEditing=function(){q.languageEditing&&q.reset()},this.node=C,this.view=M,this.getPos=B,this.eventEmitter=N,this.languageEditing=!1,this.languages=_,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return k.prototype.createElement=function(){var C=this.node.attrs.language,M=document.createElement("div");M.setAttribute("data-language",C||"text"),w()(M,I(Yt));var B=this.createCodeBlockElement(),N=B.firstChild;C&&(w()(B,"language-"+C),w()(N,"language-"+C)),M.appendChild(B),this.dom=M,this.contentDOM=N},k.prototype.createCodeBlockElement=function(){var C=document.createElement("pre"),M=document.createElement("code"),B=this.node.attrs.language,N=Zt(this.node.attrs);return B&&M.setAttribute("data-language",B),Object.keys(N).forEach(function(_){N[_]&&C.setAttribute(_,N[_])}),C.appendChild(M),C},k.prototype.bindDOMEvent=function(){this.dom&&(this.dom.addEventListener("click",this.onClickEditingButton),this.view.dom.addEventListener("mousedown",this.finishLanguageEditing),window.addEventListener("resize",this.finishLanguageEditing))},k.prototype.bindEvent=function(){this.eventEmitter.listen("selectLanguage",this.onSelectLanguage),this.eventEmitter.listen("scroll",this.finishLanguageEditing),this.eventEmitter.listen("finishLanguageEditing",this.finishLanguageEditing)},k.prototype.openLanguageSelectBox=function(C){this.languageSelectBox=new ie(this.view.dom.parentElement,this.eventEmitter,this.languages),this.eventEmitter.emit("showCodeBlockLanguages",C,this.node.attrs.language),this.languageEditing=!0},k.prototype.changeLanguage=function(C){if(i()(this.getPos)){this.reset();var M=this.getPos(),B=this.view.state.tr;B.setNodeMarkup(M,null,{language:C}),this.view.dispatch(B)}},k.prototype.reset=function(){this.languageSelectBox&&(this.languageSelectBox.destroy(),this.languageSelectBox=null),this.languageEditing=!1},k.prototype.stopEvent=function(){return!0},k.prototype.update=function(C){return C.sameMarkup(this.node)?(this.node=C,!0):!1},k.prototype.destroy=function(){this.reset(),this.dom&&(this.dom.removeEventListener("click",this.onClickEditingButton),this.view.dom.removeEventListener("mousedown",this.finishLanguageEditing),window.removeEventListener("resize",this.finishLanguageEditing)),this.eventEmitter.removeEventHandler("selectLanguage",this.onSelectLanguage),this.eventEmitter.removeEventHandler("scroll",this.finishLanguageEditing),this.eventEmitter.removeEventHandler("finishLanguageEditing",this.finishLanguageEditing)},k}();function Jt(k){return function(C,M,B,N){return new Tr(C,M,B,N,k)}}function kr(k,C){if(C){var M=k.eventEmitter,B=C.highlighter;M.addEventType("showCodeBlockLanguages"),M.addEventType("selectLanguage"),M.addEventType("finishLanguageEditing");var N=B.languages,_=Object.keys(N).filter(function(q){return!i()(N[q])});return{toHTMLRenderers:s(B),wysiwygPlugins:[function(){return m(k,B)}],wysiwygNodeViews:{codeBlock:Jt(_)}}}return{}}typeof window!==void 0&&(window.Prism=window.Prism||{},window.Prism.manual=!0);var tt=kr})(),qu.exports=n.default})();var qZ=qu.exports;const YZ=oc(qZ);export{QZ as T,YZ as a,KZ as c,oc as g};
