import{o as r,c as d,a as g,n as f,t as v,b as u,F as w,r as T,d as _,e as L,f as B}from"./@vue-D1ftCoHK.js";const m=(o,t)=>{const e=o.__vccOpts||o;for(const[l,a]of t)e[l]=a;return e},E={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},H={0:"Sun",1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat"},F={dark:["var(--activity-calendar-widget-dark-0, #161b22)","var(--activity-calendar-widget-dark-1, #0e4429)","var(--activity-calendar-widget-dark-2, #006d32)","var(--activity-calendar-widget-dark-3, #26a641)","var(--activity-calendar-widget-dark-4, #39d353)"],light:["var(--activity-calendar-widget-light-0, #ebedf0)","var(--activity-calendar-widget-light-1, #9be9a8)","var(--activity-calendar-widget-light-2, #40c463)","var(--activity-calendar-widget-light-3, #30a14e)","var(--activity-calendar-widget-light-4, #216e39)"]};var k={MONTH_MAP:E,WEEK_MAP:H,LEVEL_COLOR:F};const P=({right:o,tooltipPosition:t})=>"calc("+o+" + "+(t==="left"?"-178px":t==="center"?"-96px":"-7px")+")",I=({tooltipText:o,activities:t,year:e,month:l,day:a,CONSTANTS:n})=>o?o.replaceAll("{{numOfActivities}}",t==null?void 0:t.length).replaceAll("{{year}}",e).replaceAll("{{month}}",l).replaceAll("{{day}}",a):`${t==null?void 0:t.length} activities on ${n.MONTH_MAP[l]} ${a}, ${e}`,V={name:"day",inheritAttrs:!1,props:["dt","clickHandler","color","top","right","tooltipBgColor","tooltipTextColor","tooltipText","activities","year","month","day"],data(){return{showTooltip:!1,tooltipPosition:"center",CONSTANTS:k}},methods:{updateShowTooltip(o,t){t.clientX<132?this.tooltipPosition="left":window.innerWidth-t.clientX<132?this.tooltipPosition="right":this.tooltipPosition="center",this.showTooltip=o==="enter"},getDayRight:P,getTooltipText:I}},Y=["data-dt"];function J(o,t,e,l,a,n){return r(),d(w,null,[g("div",{class:"div","data-dt":JSON.stringify(e.dt),onClick:t[0]||(t[0]=s=>e.clickHandler(e.dt)),onMouseenter:t[1]||(t[1]=s=>n.updateShowTooltip("enter",s)),onMouseleave:t[2]||(t[2]=s=>n.updateShowTooltip("leave",s)),style:f({backgroundColor:e.color,top:e.top,right:e.right})},null,44,Y),a.showTooltip?(r(),d("div",{key:0,class:"div-2",style:f({backgroundColor:e.tooltipBgColor??"rgba(0, 0, 0, 0.8)",color:e.tooltipTextColor??"#e4e8ec",bottom:"calc(98px + -"+e.top+" + 4px)",right:n.getDayRight({right:e.right,tooltipPosition:a.tooltipPosition})})},v(n.getTooltipText({tooltipText:e.tooltipText,activities:e.activities,year:e.year,month:e.month,day:e.day,CONSTANTS:a.CONSTANTS})),5)):u("",!0)],64)}const p=m(V,[["render",J],["__scopeId","data-v-796ac5d1"]]),j={name:"week",props:["week"]};function z(o,t,e,l,a,n){return r(),d("div",{style:f({height:"10px",marginBottom:"4px",transform:"translateY(-2px)"})},v(e.week),5)}const K=m(j,[["render",z]]),U={name:"month",props:["right","month"]};function X(o,t,e,l,a,n){return r(),d("div",{style:f({position:"absolute",width:"36px",top:"-16px",right:e.right})},v(e.month),5)}const q=m(U,[["render",X]]),D=o=>{const t=new Date,e=new Date;return e.setDate(t.getDate()-364),e.getDay()-(o||0)},G=({weekStart:o,daysToRender:t,showWeekdayLabels:e})=>M({weekStart:o,daysToRender:t})+(e??!0?42:0)+"px",M=({weekStart:o,daysToRender:t})=>{const e=new Date().getDay();let l=0;o?l=o>e?e+7+1-o:e+1-o:l=e+1;let a=0;return!t&&t!==0?a=365+D(o)-l:a=t-l,Math.ceil(a/7+1)*14},Q=({numOfLevels:o,activitiesPerc:t})=>{for(let e=1;e<=o;e++)if(t<=e/o)return e},O=({levelColors:o,data:t,weekStart:e,daysToRender:l})=>{const a=o!=null&&o.length?o.length-1:4;let n=0;const s=new Map;return(t||[]).forEach(c=>{var y;n=Math.max(n,((y=c==null?void 0:c.activities)==null?void 0:y.length)||0),s.set(c.date,c.activities)}),new Array(l||365+D(e)).fill(0).map((c,y)=>{const i=new Date;i.setDate(i.getDate()-y);const h=i.getFullYear(),x=i.getMonth()+1,b=i.getDate(),S=h+"-"+(x+"").padStart(2,"0")+"-"+(b+"").padStart(2,"0"),C=s.get(S)||[],N=C.length/n,R=C.length===0?0:Q({numOfLevels:a,activitiesPerc:N});return{id:S,year:h,month:x,day:b,dayOfWeek:i.getDay(),dayDiffFromToday:y,activities:C,level:R}})},Z=({level:o,levelColors:t,levelColorMode:e})=>A({levelColors:t,levelColorMode:e})[o],$=o=>{const{dayOfWeek:t=0,weekStart:e=0}=o;return t-e<0?(t-e+7)*14:(t-e)*14},W=o=>{const{dayDiffFromToday:t=0,dayOfWeek:e=0,weekStart:l=0}=o,a=new Date().getDay();return(Math.floor(t/7)+(e>a?1:0)+(e<l?1:0))*14},ee=({weekdayLabel:o,weekStart:t=0})=>{let e=[];for(let l=0;l<7;l++){let a=t+l>=7?t+l-7:t+l;o?e.push((o==null?void 0:o[a])||""):[1,3,5].includes(l)?e.push(k.WEEK_MAP[a]):e.push("")}return e},te=o=>W(o)-36+12,oe=({monthLabel:o,dt:t,CONSTANTS:e})=>(o==null?void 0:o[t.month])??e.MONTH_MAP[t.month],le=({summaryText:o,levelColors:t,data:e,weekStart:l,daysToRender:a})=>{const s=O({levelColors:t,data:e,weekStart:l,daysToRender:a}).reduce((c,y)=>c+y.activities.length,0);return o?o.replaceAll("{{count}}",s):`${s} activities in this period`},A=({levelColors:o,levelColorMode:t})=>o??(t==="dark"?k.LEVEL_COLOR.dark:k.LEVEL_COLOR.light),ae={name:"days",components:{Week:K,Month:q,Day:p},props:["weekStart","daysToRender","showWeekdayLabels","showMonthLabels","weekdayLabel","data","levelColors","monthLabel","clickHandler","levelColorMode","showTooltip","tooltipBgColor","tooltipTextColor","tooltipText","showSummary","summaryText","showLevels","levelLabelLess","levelLabelMore"],data(){return{CONSTANTS:k}},methods:{getContainerWidth:G,getDaysContainerWidth:M,getDays:O,getDayColor:Z,getDayTop:$,getDayRight:W,getWeekdayLabels:ee,getMonthRight:te,getMonthLabel:oe,getSummary:le,getLevelColors:A}},ne={key:0,style:{width:"100%",height:"24px"}},ie={style:{position:"relative"}},re={key:0,style:{position:"relative",display:"inline-block",verticalAlign:"top",width:"36px",height:"100%"}},de={key:0,style:{position:"relative",display:"inline-block"}},se={key:1,style:{position:"relative",display:"inline-block",float:"right"}},ce={style:{display:"inline-block"}},ye={style:{display:"inline-block"}};function he(o,t,e,l,a,n){const s=T("week"),c=T("month"),y=T("day");return r(),d("div",{style:f({display:"inline-block",position:"relative",width:n.getContainerWidth({weekStart:e.weekStart,daysToRender:e.daysToRender,showWeekdayLabels:e.showWeekdayLabels}),fontSize:"12px",fontFamily:'-apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',textAlign:"left"})},[e.showMonthLabels??!0?(r(),d("div",ne)):u("",!0),g("div",ie,[e.showWeekdayLabels??!0?(r(),d("div",re,[(r(!0),d(w,null,_(n.getWeekdayLabels({weekdayLabel:e.weekdayLabel,weekStart:e.weekStart}),(i,h)=>(r(),L(s,{key:h,week:i},null,8,["week"]))),128))])):u("",!0),g("div",{style:f({position:"relative",display:"inline-block",width:n.getDaysContainerWidth({weekStart:e.weekStart,daysToRender:e.daysToRender})+"px",height:7*14+"px"})},[(r(!0),d(w,null,_(n.getDays({data:e.data??[],levelColors:e.levelColors,weekStart:e.weekStart,daysToRender:e.daysToRender}),(i,h)=>(r(),d("div",{key:h},[(e.showMonthLabels??!0)&&i.day===1?(r(),L(c,{key:0,month:n.getMonthLabel({monthLabel:e.monthLabel,dt:i,CONSTANTS:a.CONSTANTS}),right:n.getMonthRight({dayDiffFromToday:i.dayDiffFromToday,dayOfWeek:i.dayOfWeek,weekStart:e.weekStart})+"px"},null,8,["month","right"])):u("",!0),B(y,{clickHandler:e.clickHandler,dt:i,color:n.getDayColor({level:i.level,levelColors:e.levelColors,levelColorMode:e.levelColorMode}),top:n.getDayTop({dayOfWeek:i.dayOfWeek,weekStart:e.weekStart})+"px",right:n.getDayRight({dayDiffFromToday:i.dayDiffFromToday,dayOfWeek:i.dayOfWeek,weekStart:e.weekStart})+"px",showTooltip:e.showTooltip??!0,tooltipBgColor:e.tooltipBgColor,tooltipTextColor:e.tooltipTextColor,tooltipText:e.tooltipText,activities:i.activities,year:i.year,month:i.month,day:i.day},null,8,["clickHandler","dt","color","top","right","showTooltip","tooltipBgColor","tooltipTextColor","tooltipText","activities","year","month","day"])]))),128))],4)]),g("div",null,[e.showSummary??!0?(r(),d("div",de,v(n.getSummary({summaryText:e.summaryText,levelColors:e.levelColors,data:e.data,weekStart:e.weekStart,daysToRender:e.daysToRender})),1)):u("",!0),e.showLevels??!0?(r(),d("div",se,[g("div",ce,v(e.levelLabelLess??"Less"),1),(r(!0),d(w,null,_(n.getLevelColors({levelColors:e.levelColors,levelColorMode:e.levelColorMode}),(i,h)=>(r(),d("div",{key:h,style:f({display:"inline-block",width:"10px",height:"10px",outline:"1px solid rgba(27, 31, 35, 0.06)",outlineOffset:"-1px",borderRadius:"2px",margin:"0 2px",backgroundColor:i})},null,4))),128)),g("div",ye,v(e.levelLabelMore??"More"),1)])):u("",!0)])],4)}const ue=m(ae,[["render",he]]),fe={name:"activity-calendar-widget",components:{Days:ue},props:{mode:{default:void 0},data:{default:void 0},showLevels:{default:void 0},summaryText:{default:void 0},levelColorMode:{default:void 0},levelColors:{default:void 0},levelLabelLess:{default:void 0},levelLabelMore:{default:void 0},showTooltip:{default:void 0},tooltipBgColor:{default:void 0},tooltipTextColor:{default:void 0},tooltipText:{default:void 0},weekStart:{default:void 0},daysToRender:{default:void 0},showWeekdayLabels:{default:void 0},showMonthLabels:{default:void 0},weekdayLabel:{default:void 0},monthLabel:{default:void 0},clickHandler:{default:()=>()=>{}}}};function ge(o,t,e,l,a,n){const s=T("days");return r(),d("div",null,[!e.mode||e.mode==="day"?(r(),L(s,{key:0,data:e.data,showSummary:e.showLevels,summaryText:e.summaryText,showLevels:e.showLevels,levelColorMode:e.levelColorMode,levelColors:e.levelColors,levelLabelLess:e.levelLabelLess,levelLabelMore:e.levelLabelMore,showTooltip:e.showTooltip,tooltipBgColor:e.tooltipBgColor,tooltipTextColor:e.tooltipTextColor,tooltipText:e.tooltipText,weekStart:e.weekStart,daysToRender:e.daysToRender,showWeekdayLabels:e.showWeekdayLabels,showMonthLabels:e.showMonthLabels,weekdayLabel:e.weekdayLabel,monthLabel:e.monthLabel,clickHandler:e.clickHandler},null,8,["data","showSummary","summaryText","showLevels","levelColorMode","levelColors","levelLabelLess","levelLabelMore","showTooltip","tooltipBgColor","tooltipTextColor","tooltipText","weekStart","daysToRender","showWeekdayLabels","showMonthLabels","weekdayLabel","monthLabel","clickHandler"])):u("",!0)])}const ke=m(fe,[["render",ge]]);export{ke as A,m as _};
