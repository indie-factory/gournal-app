import{s as N,g as S}from"./GithubApi-l0_7cZPj.js";import{C as T,x as z,d as b,y as A,z as E,f as H,g as O,r as k,A as Q,B as J,s as y,p as V,t as x,v as w}from"./vuetify-BSzJFLH5.js";import{j as K,q as g,o as l,e as o,_ as e,Q as M,f as t,a as U,c as d,d as R,F as B,G as D}from"./@vue-BCi2DSPG.js";const W={class:"text-h5 text-medium-emphasis ps-2"},X={key:0},Y={key:1},se=K({__name:"GithubSelectDialog",emits:["select"],setup(Z,{emit:G}){const L=G,i=g(null),r=g([]),u=g([]);let m=0,f=0,p=!1,v=!1;async function j(){return await N(m)}async function q(){return await S(i.value.name,f)}async function I({done:a}){if(p){a("empty");return}const n=await j();if(p=n.last,n.items.length===0){a("empty");return}m++,r.value.push(...n.items),a("ok")}async function P({done:a}){if(v){a("empty");return}const n=await q();if(v=n.last,n.items.length===0){a("empty");return}f++,u.value.push(...n.items),a("ok")}function $(a){L("select",i.value,a),c()}function c(){i.value=null,r.value=[],u.value=[],m=0,f=0,p=!1,v=!1}return(a,n)=>(l(),o(J,{activator:"parent","max-width":"500","max-height":"500"},{default:e(({isActive:C})=>[M((l(),o(z,{rounded:"lg",color:"primary"},{default:e(()=>[t(A,{class:"d-flex justify-space-between align-center"},{default:e(()=>[t(b,{icon:i.value!=null?"mdi-arrow-left":"",disabled:i.value==null,variant:"text",onClick:c},null,8,["icon","disabled"]),U("div",W,[i.value==null?(l(),d("span",X,"Repositories")):(l(),d("span",Y,"Commits"))]),t(b,{icon:"mdi-close",variant:"text",onClick:s=>{C.value=!1,c()}},null,8,["onClick"])]),_:2},1024),t(E,{class:"mb-4"}),t(Q,null,{default:e(()=>[t(H,{class:"d-flex align-center justify-center"},{default:e(()=>[t(O,null,{default:e(()=>[i.value==null?(l(),o(k,{key:0,height:"350",items:r.value,onLoad:I,class:"align-center w-100"},{default:e(()=>[(l(!0),d(B,null,R(r.value,s=>(l(),o(y,{key:s.id},{default:e(({isHovering:_,props:h})=>[t(V,D({title:s.name,subtitle:s.description,onClick:F=>{i.value=s},active:"","base-color":"info",color:_?"secondary":void 0,ref_for:!0},h,{class:"mb-2 pt-3 pb-3 rounded cursor-pointer align-end w-100"}),{prepend:e(()=>[t(x,{color:"info",variant:"text"},{default:e(()=>[t(w,{icon:"mdi-github"})]),_:1})]),_:2},1040,["title","subtitle","onClick","color"])]),_:2},1024))),128))]),_:1},8,["items"])):(l(),o(k,{key:1,height:"350",items:u.value,onLoad:P,class:"align-center w-100"},{default:e(()=>[(l(!0),d(B,null,R(u.value,s=>(l(),o(y,{key:s.sha},{default:e(({isHovering:_,props:h})=>[t(V,D({title:s.message,subtitle:s.author,onClick:F=>{$(s),C.value=!1},active:"","base-color":"info",color:_?"secondary":void 0,ref_for:!0},h,{class:"mb-2 pt-3 pb-3 rounded cursor-pointer align-end w-100"}),{prepend:e(()=>[t(x,{color:"info",variant:"text"},{default:e(()=>[t(w,{icon:"mdi-github"})]),_:1})]),_:2},1040,["title","subtitle","onClick","color"])]),_:2},1024))),128))]),_:2},1032,["items"]))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[T,{handler:c()}]])]),_:1}))}});export{se as _};
