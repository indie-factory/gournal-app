import{j as h,q as S,o as m,e as f,Z as o,c as v,d as L,F as b,f as e,G as I,u as z,a0 as p}from"./@vue-CZiqxx0s.js";import{u as k}from"./vue-router-BlgSFk1T.js";import{g as A,d as B,c as F}from"./GournalApi-B6VOsD3x.js";import{g as N,z as q}from"./index-ml26JNDG.js";import{q as E,r as M,o as P,s as _,t as u,v as R}from"./vuetify-Cwe4HWZu.js";import{_ as T}from"./GithubSelectDialog.vuevuetypescriptsetuptruelang-CqGa-74v.js";/* empty css             */import"./@date-io-BFoq4MFi.js";import"./dayjs-B2CR7XcO.js";import"./@toast-ui-ByfNNsDZ.js";import"./prosemirror-model-DfrscQcC.js";import"./orderedmap-C4TimWWB.js";import"./prosemirror-view-C8GFL5qc.js";import"./prosemirror-state-QVoFbwxj.js";import"./prosemirror-transform-Cg2yShc_.js";import"./prosemirror-keymap-C5wSqEO9.js";import"./w3c-keyname-DEtA-KhA.js";import"./prosemirror-commands-DBoMJ0a0.js";import"./prosemirror-inputrules-COeJEC4j.js";import"./prosemirror-history-KEdM-JI1.js";import"./rope-sequence-Cxv9J64N.js";import"./axios-Cm0UX6qg.js";import"./GithubApi-BWxui9yj.js";const j=h({__name:"GournalList",setup(g){const l=k(),i=S([]),s=N();let r=0,c=null;async function y(){return await A(r)}async function C({done:t}){c=t;const a=await y();if(a.length===0){t("empty");return}r++,i.value.push(...a),t("ok")}function w(t){l.push("/edit/"+t.id)}async function $(t){confirm("Are you sure you want to delete this GOURNAL?")&&B(t).then(()=>{r=0,i.value=[],c("ok")})}function x(t){const a=`https://github.com/${s.username}/${t.repositoryName}/commit/${t.commitSha}`;window.open(a,"_blank")}return(t,a)=>(m(),f(E,{height:"600",width:"700",items:i.value,onLoad:C,class:"align-center"},{default:o(()=>[(m(!0),v(b,null,L(i.value,n=>(m(),f(M,{key:n.id},{default:o(({isHovering:G,props:V})=>[e(P,I({title:n.title,subtitle:z(q)(n.dateTime),onClick:p(d=>w(n),["prevent"]),width:"500",active:"","base-color":"info",color:G?"secondary":void 0,ref_for:!0},V,{class:"mb-2 pt-3 pb-3 rounded cursor-pointer align-end"}),{prepend:o(()=>[e(_,{color:"info",variant:"text",onClick:p(d=>x(n),["stop"])},{default:o(()=>[e(u,{icon:"mdi-github"})]),_:2},1032,["onClick"])]),append:o(()=>[e(_,{color:"info",variant:"text",onClick:p(d=>$(n.id),["stop"])},{default:o(()=>[e(u,{icon:"mdi-close-circle-outline"})]),_:2},1032,["onClick"])]),_:2},1040,["title","subtitle","onClick","color"])]),_:2},1024))),128))]),_:1},8,["items"]))}}),ut=h({__name:"Page",setup(g){const l=k();function i(s,r){F({repositoryId:s.id,commitSha:r.sha}).then(c=>{l.push("/edit/"+c.id)})}return(s,r)=>(m(),v(b,null,[e(R,{color:"info",icon:"",class:"mb-10 pr-10",location:"bottom",app:"",variant:"text"},{default:o(()=>[e(u,{size:"36",icon:"mdi-file-document-edit"}),e(T,{onSelect:i})]),_:1}),e(j)],64))}});export{ut as default};
