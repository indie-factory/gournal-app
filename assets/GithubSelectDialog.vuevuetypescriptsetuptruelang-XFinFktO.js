import{s as F,g as N}from"./GithubApi-Cr-zIH4g.js";import{C as T,x as z,d as b,y as A,z as E,f as H,g as K,r as k,A as O,B as Z,s as y,p as V,t as x,v as w}from"./vuetify-CAJYPxUq.js";import{g as J,j as g,o as l,e as o,Z as e,S as M,f as t,a as Q,c as d,d as R,F as B,K as D}from"./@vue-D1ftCoHK.js";const U={class:"text-h5 text-medium-emphasis ps-2"},W={key:0},X={key:1},se=J({__name:"GithubSelectDialog",emits:["select"],setup(Y,{emit:L}){const j=L,i=g(null),r=g([]),u=g([]);let m=0,f=0,p=!1,v=!1;async function G(){return await F(m)}async function I(){return await N(i.value.name,f)}async function P({done:a}){if(p){a("empty");return}const n=await G();if(p=n.last,n.items.length===0){a("empty");return}m++,r.value.push(...n.items),a("ok")}async function S({done:a}){if(v){a("empty");return}const n=await I();if(v=n.last,n.items.length===0){a("empty");return}f++,u.value.push(...n.items),a("ok")}function $(a){j("select",i.value,a),c()}function c(){i.value=null,r.value=[],u.value=[],m=0,f=0,p=!1,v=!1}return(a,n)=>(l(),o(Z,{activator:"parent","max-width":"500","max-height":"500"},{default:e(({isActive:C})=>[M((l(),o(z,{rounded:"lg",color:"primary"},{default:e(()=>[t(A,{class:"d-flex justify-space-between align-center"},{default:e(()=>[t(b,{icon:i.value!=null?"mdi-arrow-left":"",disabled:i.value==null,variant:"text",onClick:c},null,8,["icon","disabled"]),Q("div",U,[i.value==null?(l(),d("span",W,"Repositories")):(l(),d("span",X,"Commits"))]),t(b,{icon:"mdi-close",variant:"text",onClick:s=>{C.value=!1,c()}},null,8,["onClick"])]),_:2},1024),t(E,{class:"mb-4"}),t(O,null,{default:e(()=>[t(H,{class:"d-flex align-center justify-center"},{default:e(()=>[t(K,null,{default:e(()=>[i.value==null?(l(),o(k,{key:0,height:"350",items:r.value,onLoad:P,class:"align-center w-100"},{default:e(()=>[(l(!0),d(B,null,R(r.value,s=>(l(),o(y,{key:s.id},{default:e(({isHovering:_,props:h})=>[t(V,D({title:s.name,subtitle:s.description,onClick:q=>{i.value=s},active:"","base-color":"info",color:_?"secondary":void 0},h,{class:"mb-2 pt-3 pb-3 rounded cursor-pointer align-end w-100"}),{prepend:e(()=>[t(x,{color:"info",variant:"text"},{default:e(()=>[t(w,{icon:"mdi-github"})]),_:1})]),_:2},1040,["title","subtitle","onClick","color"])]),_:2},1024))),128))]),_:1},8,["items"])):(l(),o(k,{key:1,height:"350",items:u.value,onLoad:S,class:"align-center w-100"},{default:e(()=>[(l(!0),d(B,null,R(u.value,s=>(l(),o(y,{key:s.sha},{default:e(({isHovering:_,props:h})=>[t(V,D({title:s.message,subtitle:s.author,onClick:q=>{$(s),C.value=!1},active:"","base-color":"info",color:_?"secondary":void 0},h,{class:"mb-2 pt-3 pb-3 rounded cursor-pointer align-end w-100"}),{prepend:e(()=>[t(x,{color:"info",variant:"text"},{default:e(()=>[t(w,{icon:"mdi-github"})]),_:1})]),_:2},1040,["title","subtitle","onClick","color"])]),_:2},1024))),128))]),_:2},1032,["items"]))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[T,{handler:c()}]])]),_:1}))}});export{se as _};
