import{j as h,q as S,o as m,e as f,_ as o,c as v,d as L,F as b,f as e,G as I,u as z,a2 as p}from"./@vue-BCi2DSPG.js";import{u as k}from"./vue-router-Iii3SGC6.js";import{g as A,d as B,c as F}from"./GournalApi-CkKHz5Mz.js";import{g as N,z as E}from"./index-BGyg5uf-.js";import{r as M,s as P,p as R,t as _,v as u,w as T}from"./vuetify-BSzJFLH5.js";import{_ as j}from"./GithubSelectDialog.vuevuetypescriptsetuptruelang-BhyJ4vMX.js";/* empty css             */import"./@date-io-BFoq4MFi.js";import"./dayjs-B2CR7XcO.js";import"./@toast-ui-ByfNNsDZ.js";import"./prosemirror-model-DfrscQcC.js";import"./orderedmap-C4TimWWB.js";import"./prosemirror-view-C8GFL5qc.js";import"./prosemirror-state-QVoFbwxj.js";import"./prosemirror-transform-Cg2yShc_.js";import"./prosemirror-keymap-C5wSqEO9.js";import"./w3c-keyname-DEtA-KhA.js";import"./prosemirror-commands-DBoMJ0a0.js";import"./prosemirror-inputrules-COeJEC4j.js";import"./prosemirror-history-KEdM-JI1.js";import"./rope-sequence-Cxv9J64N.js";import"./axios-Cm0UX6qg.js";import"./GithubApi-l0_7cZPj.js";const q=h({__name:"GournalList",setup(g){const l=k(),i=S([]),s=N();let r=0,c=null;async function w(){return await A(r)}async function y({done:t}){c=t;const a=await w();if(a.length===0){t("empty");return}r++,i.value.push(...a),t("ok")}function C(t){l.push("/edit/"+t.id)}async function $(t){confirm("Are you sure you want to delete this GOURNAL?")&&B(t).then(()=>{r=0,i.value=[],c("ok")})}function x(t){const a=`https://github.com/${s.username}/${t.repositoryName}/commit/${t.commitSha}`;window.open(a,"_blank")}return(t,a)=>(m(),f(M,{height:"600",width:"700",items:i.value,onLoad:y,class:"align-center"},{default:o(()=>[(m(!0),v(b,null,L(i.value,n=>(m(),f(P,{key:n.id},{default:o(({isHovering:G,props:V})=>[e(R,I({title:n.title,subtitle:z(E)(n.dateTime),onClick:p(d=>C(n),["prevent"]),width:"500",active:"","base-color":"info",color:G?"secondary":void 0,ref_for:!0},V,{class:"mb-2 pt-3 pb-3 rounded cursor-pointer align-end"}),{prepend:o(()=>[e(_,{color:"info",variant:"text",onClick:p(d=>x(n),["stop"])},{default:o(()=>[e(u,{icon:"mdi-github"})]),_:2},1032,["onClick"])]),append:o(()=>[e(_,{color:"info",variant:"text",onClick:p(d=>$(n.id),["stop"])},{default:o(()=>[e(u,{icon:"mdi-close-circle-outline"})]),_:2},1032,["onClick"])]),_:2},1040,["title","subtitle","onClick","color"])]),_:2},1024))),128))]),_:1},8,["items"]))}}),ut=h({__name:"Page",setup(g){const l=k();function i(s,r){F({repositoryId:s.id,commitSha:r.sha}).then(c=>{l.push("/edit/"+c.id)})}return(s,r)=>(m(),v(b,null,[e(T,{color:"info",icon:"",class:"mb-10 pr-10",location:"bottom",app:"",variant:"text"},{default:o(()=>[e(u,{size:"36",icon:"mdi-file-document-edit"}),e(j,{onSelect:i})]),_:1}),e(q)],64))}});export{ut as default};
