import{s as N,g as S}from"./GithubApi-BWxui9yj.js";import{C as T,w as z,b,x as A,y as E,e as H,f as O,q as k,z as Q,A as Z,r as y,o as V,s as w,t as x}from"./vuetify-Cwe4HWZu.js";import{j as J,q as g,o as l,e as o,Z as e,Q as K,f as t,a as M,c as d,d as R,F as B,G as q}from"./@vue-CZiqxx0s.js";const U={class:"text-h5 text-medium-emphasis ps-2"},W={key:0},X={key:1},se=J({__name:"GithubSelectDialog",emits:["select"],setup(Y,{emit:D}){const G=D,i=g(null),r=g([]),u=g([]);let m=0,f=0,p=!1,v=!1;async function L(){return await N(m)}async function j(){return await S(i.value.name,f)}async function I({done:a}){if(p){a("empty");return}const n=await L();if(p=n.last,n.items.length===0){a("empty");return}m++,r.value.push(...n.items),a("ok")}async function P({done:a}){if(v){a("empty");return}const n=await j();if(v=n.last,n.items.length===0){a("empty");return}f++,u.value.push(...n.items),a("ok")}function $(a){G("select",i.value,a),c()}function c(){i.value=null,r.value=[],u.value=[],m=0,f=0,p=!1,v=!1}return(a,n)=>(l(),o(Z,{activator:"parent","max-width":"500","max-height":"500"},{default:e(({isActive:C})=>[K((l(),o(z,{rounded:"lg",color:"primary"},{default:e(()=>[t(A,{class:"d-flex justify-space-between align-center"},{default:e(()=>[t(b,{icon:i.value!=null?"mdi-arrow-left":"",disabled:i.value==null,variant:"text",onClick:c},null,8,["icon","disabled"]),M("div",U,[i.value==null?(l(),d("span",W,"Repositories")):(l(),d("span",X,"Commits"))]),t(b,{icon:"mdi-close",variant:"text",onClick:s=>{C.value=!1,c()}},null,8,["onClick"])]),_:2},1024),t(E,{class:"mb-4"}),t(Q,null,{default:e(()=>[t(H,{class:"d-flex align-center justify-center"},{default:e(()=>[t(O,null,{default:e(()=>[i.value==null?(l(),o(k,{key:0,height:"350",items:r.value,onLoad:I,class:"align-center w-100"},{default:e(()=>[(l(!0),d(B,null,R(r.value,s=>(l(),o(y,{key:s.id},{default:e(({isHovering:_,props:h})=>[t(V,q({title:s.name,subtitle:s.description,onClick:F=>{i.value=s},active:"","base-color":"info",color:_?"secondary":void 0,ref_for:!0},h,{class:"mb-2 pt-3 pb-3 rounded cursor-pointer align-end w-100"}),{prepend:e(()=>[t(w,{color:"info",variant:"text"},{default:e(()=>[t(x,{icon:"mdi-github"})]),_:1})]),_:2},1040,["title","subtitle","onClick","color"])]),_:2},1024))),128))]),_:1},8,["items"])):(l(),o(k,{key:1,height:"350",items:u.value,onLoad:P,class:"align-center w-100"},{default:e(()=>[(l(!0),d(B,null,R(u.value,s=>(l(),o(y,{key:s.sha},{default:e(({isHovering:_,props:h})=>[t(V,q({title:s.message,subtitle:s.author,onClick:F=>{$(s),C.value=!1},active:"","base-color":"info",color:_?"secondary":void 0,ref_for:!0},h,{class:"mb-2 pt-3 pb-3 rounded cursor-pointer align-end w-100"}),{prepend:e(()=>[t(w,{color:"info",variant:"text"},{default:e(()=>[t(x,{icon:"mdi-github"})]),_:1})]),_:2},1040,["title","subtitle","onClick","color"])]),_:2},1024))),128))]),_:2},1032,["items"]))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[T,{handler:c()}]])]),_:1}))}});export{se as _};
